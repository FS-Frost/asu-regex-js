var m=/^(\(.*\)|\\?.)$/,K=(Z)=>{const _=Z.toString();return m.test(_)?_:`(?:${_})`},g=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,t=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/,q=(Z)=>{const _=($)=>q(`(?<${$}>${`${Z}`.replace(g,"$1$2")})`);return{toString:()=>Z.toString(),and:Object.assign((...$)=>q(`${Z}${z(...$)}`),{referenceTo:($)=>q(`${Z}\\k<${$}>`)}),or:(...$)=>q(`(?:${Z}|${z(...$)})`),after:(...$)=>q(`(?<=${z(...$)})${Z}`),before:(...$)=>q(`${Z}(?=${z(...$)})`),notAfter:(...$)=>q(`(?<!${z(...$)})${Z}`),notBefore:(...$)=>q(`${Z}(?!${z(...$)})`),times:Object.assign(($)=>q(`${K(Z)}{${$}}`),{any:()=>q(`${K(Z)}*`),atLeast:($)=>q(`${K(Z)}{${$},}`),atMost:($)=>q(`${K(Z)}{0,${$}}`),between:($,A)=>q(`${K(Z)}{${$},${A}}`)}),optionally:()=>q(`${K(Z)}?`),as:_,groupedAs:_,grouped:()=>q(`${Z}`.replace(t,"($1$3)$2")),at:{lineStart:()=>q(`^${Z}`),lineEnd:()=>q(`${Z}\$`)}}},e=/[.*+?^${}()|[\]\\/]/g;var J=(Z)=>q(`[^${Z.replace(/[-\\^\]]/g,"\\$&")}]`),F=(...Z)=>q(`(?:${Z.map((_)=>z(_)).join("|")})`),S=q("."),a=q("\\b\\w+\\b"),$$=q("\\w"),_$=q("\\b"),G=q("\\d"),j$=q("\\s"),A$=Object.assign(q("[a-zA-Z]"),{lowercase:q("[a-z]"),uppercase:q("[A-Z]")}),Z$=q("\\t"),b$=q("\\n"),k$=q("\\r"),z$={word:q("\\W+"),wordChar:q("\\W"),wordBoundary:q("\\B"),digit:q("\\D"),whitespace:q("\\S"),letter:Object.assign(q("[^a-zA-Z]"),{lowercase:q("[^a-z]"),uppercase:q("[^A-Z]")}),tab:q("[^\\t]"),linefeed:q("[^\\n]"),carriageReturn:q("[^\\r]")};var z=(...Z)=>q(Z.map((_)=>typeof _==="string"?_.replace(e,"\\$&"):_).join("")),E=(...Z)=>q(`${K(z(...Z))}+`);var X=(...Z)=>{const _=Z.length>1&&(Array.isArray(Z[Z.length-1])||Z[Z.length-1]instanceof Set)?Z.pop():void 0;return new RegExp(z(...Z).toString(),[..._||""].join(""))};var M=/(?<fx>{[^{]*})|(?<txt>{*[^{]*)/g,O=E(G).and(z(":")).and(G.times(2)).and(z(":")).and(G.times(2)).and(z(".")).and(G.times(2)),D$=F("Dialogue","Comment").groupedAs("type").and(z(": ")).and(E(G).optionally().groupedAs("layer")).and(z(",")).and(O.optionally().groupedAs("start")).and(z(",")).and(O.optionally().groupedAs("end")).and(z(",")).and(E(J(",").optionally()).groupedAs("style")).and(z(",")).and(E(J(",")).optionally().groupedAs("actor")).and(z(",")).and(E(G).optionally().groupedAs("marginLeft")).and(z(",")).and(E(G).optionally().groupedAs("marginRight")).and(z(",")).and(E(G).optionally().groupedAs("marginVertical")).and(z(",")).and(E(J(",")).optionally().groupedAs("effect")).and(z(",")).and(E(S).optionally().groupedAs("content")),v=X(D$),W$=z("-").optionally().and(E(G)),B=W$.and(z(".").and(E(G)).optionally()),E$=z("\\").and("a").and(E(G)),P$=z("\\").and("c").and(E(J("\\"))),q$=z("\\").and("1c").and(E(J("\\"))),G$=z("\\").and("2c").and(E(J("\\"))),L$=z("\\").and("3c").and(E(J("\\"))),B$=z("\\").and("4c").and(E(J("\\"))),H$=z("\\").and("alpha").and(E(J("\\"))),J$=z("\\").and("1a").and(E(J("\\"))),R$=z("\\").and("2a").and(E(J("\\"))),Q$=z("\\").and("3a").and(E(J("\\"))),Y$=z("\\").and("4a").and(E(J("\\"))),X$=z("\\").and("k").and(E(G)),K$=z("\\").and("K").and(E(G)),C$=z("\\").and("kf").and(E(G)),I$=z("\\").and("ko").and(E(G)),F$=z("\\").and("q").and(E(G)),S$=z("\\").and("s").and(E(G)),U$=z("\\").and("u").and(E(G)),O$=z("\\").and("r").and(E(J("\\"))),M$=z("\\").and("fe").and(E(G)),v$=z("\\").and("fn").and(E(J("\\"))),h$=z("\\").and("p").and(E(G)),p$=z("\\").and("pbo").and(E(G)),y$=z("\\").and("an").and(E(G)),w$=z("\\").and("b").and(E(G)),V$=z("\\").and("be").and(E(G)),o$=z("\\").and("blur").and(E(G)),c$=z("\\").and("bord").and(E(G)),f$=z("\\").and("xbord").and(E(G)),d$=z("\\").and("ybord").and(E(G)),x$=z("\\").and("shad").and(E(G)),n$=z("\\").and("xshad").and(E(G)),r$=z("\\").and("yshad").and(E(G)),u$=z("\\").and("fax").and(E(G)),i$=z("\\").and("fay").and(E(G)),s$=z("\\").and("fscx").and(E(G)),l$=z("\\").and("fscy").and(E(G)),N$=z("\\").and("fsp").and(E(G)),T$=z("\\").and("fr").and(B),m$=z("\\").and("frx").and(B),g$=z("\\").and("fry").and(B),t$=z("\\").and("frz").and(B),e$=z("\\").and("i").and(z("1").or("0")),a$=z("\\").and("fs").and(E(G)),h=z("\\").and("pos").and(z("(")).and(B.groupedAs("pos_x")).and(z(",")).and(B.groupedAs("pos_y")).and(z(")")),p=X(h),y=z("\\").and("org").and(z("(")).and(B.groupedAs("org_x")).and(z(",")).and(B.groupedAs("org_y")).and(z(")")),w=X(y),V=z("\\").and("fad").and(z("(")).and(B.groupedAs("in")).and(z(",")).and(B.groupedAs("out")).and(z(")")),o=X(V),c=z("\\").and("fade").and(z("(")).and(B.groupedAs("fade_alpha1")).and(z(",")).and(B.groupedAs("fade_alpha2")).and(z(",")).and(B.groupedAs("fade_alpha3")).and(z(",")).and(B.groupedAs("fade_t1")).and(z(",")).and(B.groupedAs("fade_t2")).and(z(",")).and(B.groupedAs("fade_t3")).and(z(",")).and(B.groupedAs("fade_t4")).and(z(")")),f=X(c),$_=z(",").and(B.groupedAs("move_t1")).and(z(",")).and(B.groupedAs("move_t2")).optionally(),d=z("\\").and("move").and(z("(")).and(B.groupedAs("move_x1")).and(z(",")).and(B.groupedAs("move_y1")).and(z(",")).and(B.groupedAs("move_x2")).and(z(",")).and(B.groupedAs("move_y2")).and($_).and(z(")")),x=X(d),n=z("\\").and("clip").and(z("(")).and(E(J(")")).groupedAs("clip_args")).and(z(")")),r=X(n),u=z("\\").and("iclip").and(z("(")).and(E(J(")")).groupedAs("iclip_args")).and(z(")")),i=X(u),s=V$.or(H$).or(f$).or(d$).or(n$).or(r$).or(u).or(d).or(o$).or(c$).or(x$).or(s$).or(l$).or(c).or(n).or(N$).or(h).or(y).or(V).or(p$).or(m$).or(g$).or(t$).or(u$).or(i$).or(I$).or(C$).or(T$).or(a$).or(M$).or(v$).or(y$).or(q$).or(G$).or(L$).or(B$).or(J$).or(R$).or(Q$).or(Y$).or(P$).or(F$).or(U$).or(S$).or(h$).or(O$).or(e$).or(w$).or(E$).or(X$).or(K$),__=z("\\").at.lineStart().and("t").and(z("(")).and(E(G).groupedAs("arg1").and(z(",")).optionally()).and(E(G).groupedAs("arg2").and(z(",")).optionally()).and(E(G).groupedAs("arg3").and(z(",")).optionally()).and(E(s).groupedAs("tags")).and(z(")")),l=X(s),U=X(__);function C(Z,_){const $=Z.substring(1),A=Z.match(U);if(A&&A[0]){if($.startsWith(b.t)){const k=A[0].match(U)?.groups,D=k?.tags??"",L=[];C(D,L);const H=k?.arg1?Number(k.arg1):null,R=k?.arg2?Number(k.arg2):null,Q=k?.arg3?Number(k.arg3):null,Y={name:b.t,accel:null,t1:null,t2:null,tags:L};if(H!==null&&R!==null&&Q!==null)Y.t1=H,Y.t2=R,Y.accel=Q;else if(H!==null&&R!==null&&Q===null)Y.t1=H,Y.t2=R,Y.accel=null;else if(H!==null)Y.accel=H;_.push(Y)}if(Z=Z.substring(A[0].length),Z.length>0)C(Z,_);return _}const j=Z.match(l);if(!j||!j[0])return _;if($.startsWith(b.move)){const k=j[0].match(x)?.groups,D=Number(k?.move_x1??"0"),L=Number(k?.move_y1??"0"),H=Number(k?.move_x2??"0"),R=Number(k?.move_y2??"0"),Q=k?.move_t1?Number(k.move_t1):null,Y=k?.move_t2?Number(k.move_t2):null,I={name:b.move,x1:D,y1:L,x2:H,y2:R,t1:Q,t2:Y};_.push(I)}else if($.startsWith(b.alpha)){const k=j[0].substring(1+b.alpha.length),D={name:b.alpha,value:k};_.push(D)}else if($.startsWith(b.xbord)){const k=Number(j[0].substring(1+b.xbord.length)),D={name:b.xbord,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.ybord)){const k=Number(j[0].substring(1+b.ybord.length)),D={name:b.ybord,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.xshad)){const k=Number(j[0].substring(1+b.xshad.length)),D={name:b.xshad,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.yshad)){const k=Number(j[0].substring(1+b.yshad.length)),D={name:b.yshad,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.iclip)){const D=j[0].match(i)?.groups?.iclip_args??"",L={name:b.iclip,drawCommands:D};_.push(L)}else if($.startsWith(b.blur)){const k=Number(j[0].substring(1+b.blur.length)),D={name:b.blur,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.bord)){const k=Number(j[0].substring(1+b.bord.length)),D={name:b.bord,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.shad)){const k=Number(j[0].substring(1+b.shad.length)),D={name:b.shad,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.fscx)){const k=Number(j[0].substring(1+b.fscx.length)),D={name:b.fscx,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.fscy)){const k=Number(j[0].substring(1+b.fscy.length)),D={name:b.fscy,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.fade)){const k=j[0].match(f)?.groups,D=Number(k?.fade_alpha1??"0"),L=Number(k?.fade_alpha2??"0"),H=Number(k?.fade_alpha3??"0"),R=Number(k?.fade_t1??"0"),Q=Number(k?.fade_t2??"0"),Y=Number(k?.fade_t3??"0"),I=Number(k?.fade_t4??"0"),T={name:b.fade,alpha1:D,alpha2:L,alpha3:H,t1:R,t2:Q,t3:Y,t4:I};_.push(T)}else if($.startsWith(b.clip)){const D=j[0].match(r)?.groups?.clip_args??"",L={name:b.clip,drawCommands:D};_.push(L)}else if($.startsWith(b.fsp)){const k=Number(j[0].substring(1+b.fsp.length)),D={name:b.fsp,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.pos)){const k=j[0].match(p)?.groups,D=Number(k?.pos_x??"0"),L=Number(k?.pos_y??"0"),H={name:b.pos,x:D,y:L};_.push(H)}else if($.startsWith(b.org)){const k=j[0].match(w)?.groups,D=Number(k?.org_x??"0"),L=Number(k?.org_y??"0"),H={name:b.org,x:D,y:L};_.push(H)}else if($.startsWith(b.fad)){const k=j[0].match(o)?.groups,D=Number(k?.in??"0"),L=Number(k?.out??"0"),H={name:b.fad,in:D,out:L};_.push(H)}else if($.startsWith(b.frx)){const k=Number(j[0].substring(1+b.frx.length)),D={name:b.frx,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.fry)){const k=Number(j[0].substring(1+b.fry.length)),D={name:b.fry,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.frz)){const k=Number(j[0].substring(1+b.frz.length)),D={name:b.frz,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.fax)){const k=Number(j[0].substring(1+b.fax.length)),D={name:b.fax,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.fay)){const k=Number(j[0].substring(1+b.fay.length)),D={name:b.fay,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.pbo)){const k=Number(j[0].substring(1+b.pbo.length)),D={name:b.pbo,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.fe)){const k=Number(j[0].substring(1+b.fe.length)),D={name:b.fe,encodingId:Number(k)};_.push(D)}else if($.startsWith(b.fn)){const k=j[0].substring(1+b.fn.length),D={name:b.fn,font:k};_.push(D)}else if($.startsWith(b.an)){const k=Number(j[0].substring(1+b.be.length)),D={name:b.an,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.be)){const k=Number(j[0].substring(1+b.be.length)),D={name:b.be,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.fr)){const k=Number(j[0].substring(1+b.fr.length)),D={name:b.fr,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.fs)){const k=Number(j[0].substring(1+b.fs.length)),D={name:b.fs,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.ko)){const k=Number(j[0].substring(1+b.ko.length)),D={name:b.ko,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.kf)){const k=Number(j[0].substring(1+b.kf.length)),D={name:b.kf,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.color1)){const k=j[0].substring(1+b.color1.length),D={name:b.color1,value:k};_.push(D)}else if($.startsWith(b.color2)){const k=j[0].substring(1+b.color2.length),D={name:b.color2,value:k};_.push(D)}else if($.startsWith(b.color3)){const k=j[0].substring(1+b.color3.length),D={name:b.color3,value:k};_.push(D)}else if($.startsWith(b.color4)){const k=j[0].substring(1+b.color4.length),D={name:b.color4,value:k};_.push(D)}else if($.startsWith(b.alpha1)){const k=j[0].substring(1+b.alpha1.length),D={name:b.alpha1,value:k};_.push(D)}else if($.startsWith(b.alpha2)){const k=j[0].substring(1+b.alpha2.length),D={name:b.alpha2,value:k};_.push(D)}else if($.startsWith(b.alpha3)){const k=j[0].substring(1+b.alpha3.length),D={name:b.alpha3,value:k};_.push(D)}else if($.startsWith(b.alpha4)){const k=j[0].substring(1+b.alpha4.length),D={name:b.alpha4,value:k};_.push(D)}else if($.startsWith(b.kLowerCase)){const k=Number(j[0].substring(1+b.kLowerCase.length)),D={name:b.kLowerCase,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.kUpperCase)){const k=Number(j[0].substring(1+b.kUpperCase.length)),D={name:b.kUpperCase,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.q)){const k=Number(j[0].substring(1+b.q.length)),D={name:b.q,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.s)){const k=Number(j[0].substring(1+b.s.length)),D={name:b.s,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.u)){const k=Number(j[0].substring(1+b.u.length)),D={name:b.u,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.r)){const k=j[0].substring(1+b.r.length),D={name:b.r,style:k};_.push(D)}else if($.startsWith(b.p)){const k=Number(j[0].substring(1+b.p.length)),D={name:b.p,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.i)){const k=Number(j[0].substring(1+b.i.length)),D={name:b.i,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.color)){const k=j[0].substring(1+b.color.length),D={name:b.color,value:k};_.push(D)}else if($.startsWith(b.b)){const k=Number(j[0].substring(1+b.b.length)),D={name:b.b,value:Number.isNaN(k)?0:k};_.push(D)}else if($.startsWith(b.a)){const k=Number(j[0].substring(1+b.a.length)),D={name:b.a,value:Number.isNaN(k)?0:k};_.push(D)}if(Z=Z.substring(j[0].length),Z.length>0)C(Z,_);return _}function R_(Z){const _=[],$=Z.matchAll(M);for(let A of $){if(A.groups?.fx){const j=A.groups.fx.substring(1,A.groups.fx.length-1),k=[];C(j,k),_.push({name:"effect",tags:k});continue}if(A.groups?.txt){_.push({name:"text",value:A.groups?.txt});continue}}return _}function N(Z){let _="";for(let $ of Z.tags)switch($.name){case b.t:const A={name:"effect",tags:$.tags},j=N(A);if($.t1!==null&&$.t2!==null&&$.accel!==null)_+=`\\t(${$.t1},${$.t2},${$.accel},${j})`;else if($.t1!==null&&$.t2!==null&&$.accel===null)_+=`\\t(${$.t1},${$.t2},${j})`;else if($.accel!==null)_+=`\\t(${$.accel},${j})`;else _+=`\\t(${j})`;break;case b.pos:_+=`\\pos(${$.x},${$.y})`;break;case b.org:_+=`\\org(${$.x},${$.y})`;break;case b.move:if(_+=`\\move(${$.x1},${$.y1},${$.x2},${$.y2}`,$.t1!=null&&$.t2!=null)_+=`,${$.t1},${$.t2}`;_+=")";break;case b.clip:_+=`\\clip(${$.drawCommands})`;break;case b.iclip:_+=`\\iclip(${$.drawCommands})`;break;case b.fad:_+=`\\fad(${$.in},${$.out})`;break;case b.fade:_+=`\\fade(${$.alpha1},${$.alpha2},${$.alpha3},${$.t1},${$.t2},${$.t3},${$.t4})`;break;case b.fe:_+=`\\fe${$.encodingId}`;break;case b.fn:_+=`\\fn${$.font}`;break;case b.r:_+=`\\r${$.style}`;break;default:_+=`\\${$.name}${$.value}`;break}return _}function Q_(Z){let _="";for(let $ of Z){if($.name=="text"){_+=$.value;continue}_+="{"+N($)+"}"}return _}function Y_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.a,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function X_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.b,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function K_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.color,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function C_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.color1,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function I_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.color2,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function F_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.color3,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function S_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.color4,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function U_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.alpha,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function O_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.alpha1,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function M_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.alpha2,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function v_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.alpha3,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function h_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.alpha4,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function p_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.an,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function y_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.be,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function w_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.blur,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function V_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.bord,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function o_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.xbord,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function c_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.ybord,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function f_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.shad,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function d_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.xshad,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function x_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.yshad,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function n_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.fr,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function r_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.frx,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function u_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.fry,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function i_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.frz,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function s_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.fax,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function l_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.fay,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function N_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.p,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function T_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.pbo,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function m_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.q,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function g_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.s,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function t_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.u,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function e_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.r,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function a_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.fe,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function $j(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.fn,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function _j(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.fscx,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function jj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.fscy,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Aj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.fsp,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Zj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.kLowerCase,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function bj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.kUpperCase,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function kj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.ko,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function zj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.kf,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Dj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.i,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Wj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.fs,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Ej(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.pos,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Pj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.org,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function qj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.fad,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Gj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.fade,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Lj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.clip,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Bj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.iclip,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Hj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.move,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Jj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=b.t,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Rj(Z,_){const $={name:b.a,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Qj(Z,_){const $={name:b.an,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Yj(Z,_){const $={name:b.b,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Xj(Z,_){const $={name:b.color,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Kj(Z,_){const $={name:b.color1,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Cj(Z,_){const $={name:b.color2,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Ij(Z,_){const $={name:b.color3,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Fj(Z,_){const $={name:b.color4,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Sj(Z,_){const $={name:b.alpha,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Uj(Z,_){const $={name:b.alpha1,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Oj(Z,_){const $={name:b.alpha2,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Mj(Z,_){const $={name:b.alpha3,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function vj(Z,_){const $={name:b.alpha4,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function hj(Z,_){const $={name:b.blur,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function pj(Z,_){const $={name:b.bord,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function yj(Z,_){const $={name:b.xbord,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function wj(Z,_){const $={name:b.ybord,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Vj(Z,_){const $={name:b.fax,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function oj(Z,_){const $={name:b.fay,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function cj(Z,_){const $={name:b.fscx,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function fj(Z,_){const $={name:b.fscy,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function dj(Z,_){const $={name:b.fsp,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function xj(Z,_){const $={name:b.fe,encodingId:_},[A,j]=P(Z,$.name,$);if(!A)j.encodingId=_;return j}function nj(Z,_){const $={name:b.fn,font:_},[A,j]=P(Z,$.name,$);if(!A)j.font=_;return j}function rj(Z,_){const $={name:b.kLowerCase,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function uj(Z,_){const $={name:b.kUpperCase,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function ij(Z,_){const $={name:b.kf,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function sj(Z,_){const $={name:b.ko,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function lj(Z,_){const $={name:b.p,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Nj(Z,_){const $={name:b.pbo,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function Tj(Z,_){const $={name:b.q,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function mj(Z,_){const $={name:b.s,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function gj(Z,_){const $={name:b.shad,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function tj(Z,_){const $={name:b.xshad,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function ej(Z,_){const $={name:b.yshad,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function aj(Z,_){const $={name:b.u,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function $A(Z,_){const $={name:b.be,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function _A(Z,_){const $={name:b.fs,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function jA(Z,_){const $={name:b.fr,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function AA(Z,_){const $={name:b.frx,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function ZA(Z,_){const $={name:b.fry,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function bA(Z,_){const $={name:b.frz,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function kA(Z,_){const $={name:b.i,value:_},[A,j]=P(Z,$.name,$);if(!A)j.value=_;return j}function zA(Z,_){const $={name:b.r,style:_},[A,j]=P(Z,$.name,$);if(!A)j.style=_;return j}function DA(Z,_,$){const A={name:b.pos,x:_,y:$},[j,k]=P(Z,A.name,A);if(!j)k.x=_,k.y=$;return k}function WA(Z,_,$){const A={name:b.org,x:_,y:$},[j,k]=P(Z,A.name,A);if(!j)k.x=_,k.y=$;return k}function EA(Z,_,$){const A={name:b.fad,in:_,out:$},[j,k]=P(Z,A.name,A);if(!j)k.in=_,k.out=$;return k}function PA(Z,_,$,A,j,k,D,L){const H={name:b.fade,alpha1:_,alpha2:$,alpha3:A,t1:j,t2:k,t3:D,t4:L},[R,Q]=P(Z,H.name,H);if(!R)Q.alpha1=_,Q.alpha2=$,Q.alpha3=A,Q.t1=j,Q.t2=k,Q.t3=D,Q.t4=L;return Q}function qA(Z,_){const $={name:b.clip,drawCommands:_},[A,j]=P(Z,$.name,$);if(!A)j.drawCommands=_;return j}function GA(Z,_){const $={name:b.iclip,drawCommands:_},[A,j]=P(Z,$.name,$);if(!A)j.drawCommands=_;return j}function LA(Z,_,$,A,j,k=null,D=null){const L={name:b.move,x1:_,y1:$,x2:A,y2:j,t1:k,t2:D},[H,R]=P(Z,L.name,L);if(!H)R.x1=_,R.y1=$,R.x2=A,R.y2=j,R.t1=k,R.t2=D;return R}function BA(Z,_,$=null,A=null,j=null){const k={name:b.t,t1:A,t2:j,accel:$,tags:_},[D,L]=P(Z,k.name,k);if(!D)L.t1=A,L.t2=j,L.accel=$,L.tags=_;return L}function HA(Z){return[{name:"effect",tags:Z}]}function JA(Z){const _=Z.find(($)=>$.name==="effect");if(_==null||_.name!="effect")return[];return _.tags}var P=function(Z,_,$){const A=Z.find((k)=>k.name=="effect");if(A?.name!="effect")return Z.unshift({name:"effect",tags:[$]}),[!0,$];const j=A.tags.find((k)=>k.name==_);if(j?.name!=_)return A.tags.push($),[!0,$];return[!1,j]};function RA(Z,_){const $=Z.find((j)=>j.name=="effect");if($?.name!="effect")return;const A=$.tags.findIndex((j)=>j.name===_);if(A<0)return;$.tags.splice(A,1)}function QA(Z){const _=Z.match(v);if(_==null)return null;const $=_.groups;return{type:$?.type??"",layer:Number($?.layer??"0"),start:$?.start??"",end:$?.end??"",style:$?.style??"",actor:$?.actor??"",marginLeft:Number($?.marginLeft??"0"),marginRight:Number($?.marginRight??"0"),marginVertical:Number($?.marginVertical??"0"),effect:$?.effect??"",content:$?.content??""}}function YA(Z){let _=Z.type;return _+=": ",_+=Z.layer,_+=",",_+=Z.start,_+=",",_+=Z.end,_+=",",_+=Z.style,_+=",",_+=Z.actor,_+=",",_+=Z.marginLeft,_+=",",_+=Z.marginRight,_+=",",_+=Z.marginVertical,_+=",",_+=Z.effect,_+=",",_+=Z.content,_}var b;(function(W){W["a"]="a";W["alpha"]="alpha";W["alpha1"]="1a";W["alpha2"]="2a";W["alpha3"]="3a";W["alpha4"]="4a";W["an"]="an";W["b"]="b";W["be"]="be";W["blur"]="blur";W["bord"]="bord";W["clip"]="clip";W["color"]="c";W["color1"]="1c";W["color2"]="2c";W["color3"]="3c";W["color4"]="4c";W["fad"]="fad";W["fade"]="fade";W["fax"]="fax";W["fay"]="fay";W["fe"]="fe";W["fn"]="fn";W["fr"]="fr";W["frx"]="frx";W["fry"]="fry";W["frz"]="frz";W["fs"]="fs";W["fscx"]="fscx";W["fscy"]="fscy";W["fsp"]="fsp";W["i"]="i";W["iclip"]="iclip";W["kLowerCase"]="k";W["kUpperCase"]="K";W["kf"]="kf";W["ko"]="ko";W["move"]="move";W["org"]="org";W["p"]="p";W["pbo"]="pbo";W["pos"]="pos";W["q"]="q";W["r"]="r";W["s"]="s";W["shad"]="shad";W["t"]="t";W["u"]="u";W["xbord"]="xbord";W["xshad"]="xshad";W["ybord"]="ybord";W["yshad"]="yshad"})(b||(b={}));export{HA as tagsToItems,ej as setYshad,wj as setYbord,tj as setXshad,yj as setXbord,aj as setU,BA as setT,gj as setShad,mj as setS,zA as setR,Tj as setQ,DA as setPos,Nj as setPbo,lj as setP,WA as setOrg,LA as setMove,sj as setKo,ij as setKf,uj as setKUpperCase,rj as setKLowerCase,GA as setIclip,kA as setI,dj as setFsp,fj as setFscy,cj as setFscx,_A as setFs,bA as setFrz,ZA as setFry,AA as setFrx,jA as setFr,nj as setFn,xj as setFe,oj as setFay,Vj as setFax,PA as setFade,EA as setFad,Fj as setColor4,Ij as setColor3,Cj as setColor2,Kj as setColor1,Xj as setColor,qA as setClip,pj as setBord,hj as setBlur,$A as setBe,Yj as setB,Qj as setAn,vj as setAlpha4,Mj as setAlpha3,Oj as setAlpha2,Uj as setAlpha1,Sj as setAlpha,Rj as setA,RA as removeTag,C as parseTags,QA as parseLine,R_ as parseContent,YA as lineToString,JA as itemsToTags,x_ as findYshad,c_ as findYbord,d_ as findXshad,o_ as findXbord,t_ as findU,Jj as findT,f_ as findShad,g_ as findS,e_ as findR,m_ as findQ,Ej as findPos,T_ as findPbo,N_ as findP,Pj as findOrg,Hj as findMove,kj as findKo,zj as findKf,bj as findKUpperCase,Zj as findKLowerCase,Bj as findIclip,Dj as findI,Aj as findFsp,jj as findFscy,_j as findFscx,Wj as findFs,i_ as findFrz,u_ as findFry,r_ as findFrx,n_ as findFr,$j as findFn,a_ as findFe,l_ as findFay,s_ as findFax,Gj as findFade,qj as findFad,S_ as findColor4,F_ as findColor3,I_ as findColor2,C_ as findColor1,K_ as findColor,Lj as findClip,V_ as findBord,w_ as findBlur,y_ as findBe,X_ as findB,p_ as findAn,h_ as findAlpha4,v_ as findAlpha3,M_ as findAlpha2,O_ as findAlpha1,U_ as findAlpha,Y_ as findA,Q_ as contentsToString,N as contentEffectToString,b as TagName};

//# debugId=4884A2772CAB19B564756e2164756e21
