function F(n){return parseInt(n,16)}function jn(n){return Math.floor(n).toString(16).padStart(2,"0").toUpperCase()}function Cl(n,f,t){const r=n>f;let g=f,l=n;if(r)g=n,l=f;const u=(g-l)/t;let a=l;const e=[l];for(let b=1;b<t;b++)a+=u,e.push(a);if(e[t-1]=g,r)e.reverse();return e}function C(n,f){f=Math.floor(f);const t=`(-?\\d+.?\\d{1,${f}})`,r=new RegExp(t),g=n.toString().match(r);if(!g||g.length===0)return n;return Number(g[0])}var pg=/^(\(.*\)|\\?.)$/,tn=(n)=>{const f=n.toString();return pg.test(f)?f:`(?:${f})`},yg=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,sg=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/,B=(n)=>{const f=(t)=>B(`(?<${t}>${`${n}`.replace(yg,"$1$2")})`);return{toString:()=>n.toString(),and:Object.assign((...t)=>B(`${n}${c(...t)}`),{referenceTo:(t)=>B(`${n}\\k<${t}>`)}),or:(...t)=>B(`(?:${n}|${c(...t)})`),after:(...t)=>B(`(?<=${c(...t)})${n}`),before:(...t)=>B(`${n}(?=${c(...t)})`),notAfter:(...t)=>B(`(?<!${c(...t)})${n}`),notBefore:(...t)=>B(`${n}(?!${c(...t)})`),times:Object.assign((t)=>B(`${tn(n)}{${t}}`),{any:()=>B(`${tn(n)}*`),atLeast:(t)=>B(`${tn(n)}{${t},}`),atMost:(t)=>B(`${tn(n)}{0,${t}}`),between:(t,r)=>B(`${tn(n)}{${t},${r}}`)}),optionally:()=>B(`${tn(n)}?`),as:f,groupedAs:f,grouped:()=>B(`${n}`.replace(sg,"($1$3)$2")),at:{lineStart:()=>B(`^${n}`),lineEnd:()=>B(`${n}\$`)}}},Zg=/[.*+?^${}()|[\]\\/]/g;var j=(n)=>B(`[^${n.replace(/[-\\^\]]/g,"\\$&")}]`),Pn=(...n)=>B(`(?:${n.map((f)=>c(f)).join("|")})`),pn=B("."),dg=B("\\b\\w+\\b"),nr=B("\\w"),fr=B("\\b"),U=B("\\d"),tr=B("\\s"),yn=Object.assign(B("[a-zA-Z]"),{lowercase:B("[a-z]"),uppercase:B("[A-Z]")}),gr=B("\\t"),rr=B("\\n"),lr=B("\\r"),ur={word:B("\\W+"),wordChar:B("\\W"),wordBoundary:B("\\B"),digit:B("\\D"),whitespace:B("\\S"),letter:Object.assign(B("[^a-zA-Z]"),{lowercase:B("[^a-z]"),uppercase:B("[^A-Z]")}),tab:B("[^\\t]"),linefeed:B("[^\\n]"),carriageReturn:B("[^\\r]")};var c=(...n)=>B(n.map((f)=>typeof f==="string"?f.replace(Zg,"\\$&"):f).join("")),w=(...n)=>B(`${tn(c(...n))}+`);var _=(...n)=>{const f=n.length>1&&(Array.isArray(n[n.length-1])||n[n.length-1]instanceof Set)?n.pop():void 0;return new RegExp(c(...n).toString(),[...f||""].join(""))};var of=/(?<fx>{[^{]*})|(?<txt>{*[^{]*)/g,bf=/^[^\\]+/g,sn=/(?<sil>(?:sha|shi|shu|she|sho|cha|chi|chu|che|cho|tsu|kya|kyi|kyu|kye|kyo|gya|gyi|gyu|gye|gyo|sya|syu|syi|sye|syo|zya|zyu|zyi|zye|zyo|jya|jyu|jyi|jye|jyo|tya|tyi|tyu|tye|tyo|dya|dyi|dyu|dye|dyo|nya|nyi|nyu|nye|nyo|hya|hyi|hyu|hye|hyo|fya|fyi|fyu|fye|fyo|bya|byi|byu|bye|byo|pya|pyi|pyu|pye|pyo|mya|myi|myu|mye|myo|rya|ryi|ryu|rye|ryo|vya|vyi|vyu|vye|vyo|ka|ki|ku|ke|ko|ga|gi|gu|ge|go|sa|su|si|se|so|za|zu|zi|ze|zo|ja|ju|ji|je|jo|ta|ti|tu|te|to|da|di|du|de|do|na|ni|nu|ne|no|ha|hi|hu|he|ho|fa|fi|fu|fe|fo|ba|bi|bu|be|bo|pa|pi|pu|pe|po|ma|mi|mu|me|mo|ya|yi|yu|ye|yo|ra|ri|ru|re|ro|wa|wo|va|vi|vu|ve|vo|a|i|u|e|o|n|t)[^a-zA-Z\d\s:]*\s?)/g,mf=w(U).and(c(":")).and(U.times(2)).and(c(":")).and(U.times(2)).and(c(".")).and(U.times(2)),mr=Pn("Dialogue","Comment").groupedAs("type").and(c(": ")).and(w(U).optionally().groupedAs("layer")).and(c(",")).and(mf.optionally().groupedAs("start")).and(c(",")).and(mf.optionally().groupedAs("end")).and(c(",")).and(w(j(",").optionally()).groupedAs("style")).and(c(",")).and(w(j(",")).optionally().groupedAs("actor")).and(c(",")).and(w(U).optionally().groupedAs("marginLeft")).and(c(",")).and(w(U).optionally().groupedAs("marginRight")).and(c(",")).and(w(U).optionally().groupedAs("marginVertical")).and(c(",")).and(w(j(",")).optionally().groupedAs("effect")).and(c(",")).and(w(pn).optionally().groupedAs("content")),cf=_(mr),or=c("-").optionally().and(w(U)),T=or.and(c(".").and(w(U)).optionally()),af=c("\\").and("a").and(T.groupedAs("a_value")),Sf=_(af),R=yn.or(U).times(2),$f=c("&H").and(R.groupedAs("color_bgr_blue")).and(R.groupedAs("color_bgr_green")).and(R.groupedAs("color_bgr_red")).and(c("&")),ef=c("\\c").and($f),vf=c("\\1c").and(c("&H")).and(R.groupedAs("color1_bgr_blue")).and(R.groupedAs("color1_bgr_green")).and(R.groupedAs("color1_bgr_red")).and(c("&")),hf=c("\\2c").and(c("&H")).and(R.groupedAs("color2_bgr_blue")).and(R.groupedAs("color2_bgr_green")).and(R.groupedAs("color2_bgr_red")).and(c("&")),Gf=c("\\3c").and(c("&H")).and(R.groupedAs("color3_bgr_blue")).and(R.groupedAs("color3_bgr_green")).and(R.groupedAs("color3_bgr_red")).and(c("&")),Nf=c("\\4c").and(c("&H")).and(R.groupedAs("color4_bgr_blue")).and(R.groupedAs("color4_bgr_green")).and(R.groupedAs("color4_bgr_red")).and(c("&")),_f=_($f),Tf=_(ef),Xf=_(vf),Yf=_(hf),Wf=_(Gf),Bf=_(Nf),Qf=c("\\").and("alpha").and(w(j("\\")).groupedAs("alpha_value")),qf=_(Qf),Af=c("\\").and("1a").and(w(j("\\")).groupedAs("alpha1_value")),Hf=_(Af),Jf=c("\\").and("2a").and(w(j("\\")).groupedAs("alpha2_value")),Mf=_(Jf),wf=c("\\").and("3a").and(w(j("\\")).groupedAs("alpha3_value")),zf=_(wf),Cf=c("\\").and("4a").and(w(j("\\")).groupedAs("alpha4_value")),Ff=_(Cf),Lf=c("\\").and("k").and(T.groupedAs("k_lower_case_value")),jf=_(Lf),Rf=c("\\").and("K").and(T.groupedAs("k_upper_case_value")),Of=_(Rf),Uf=c("\\").and("kf").and(T.groupedAs("kf_value")),Df=_(Uf),Vf=c("\\").and("ko").and(T.groupedAs("ko_value")),Kf=_(Vf),Ef=c("\\").and("q").and(T.groupedAs("q_value")),xf=_(Ef),If=c("\\").and("s").and(T.groupedAs("s_value")),kf=_(If),Pf=c("\\").and("u").and(T.groupedAs("u_value")),pf=_(Pf),yf=c("\\").and("r").and(w(j("\\")).groupedAs("r_value")),sf=_(yf),Zf=c("\\").and("fe").and(T.groupedAs("fe_value")),df=_(Zf),nt=c("\\").and("fn").and(w(j("\\")).groupedAs("fn_value")),ft=_(nt),tt=c("\\").and("p").and(T.groupedAs("p_value")),gt=_(tt),rt=c("\\").and("pbo").and(T.groupedAs("pbo_value")),lt=_(rt),ut=c("\\").and("an").and(T.groupedAs("an_value")),mt=_(ut),ot=c("\\").and("b").and(T.groupedAs("b_value")),bt=_(ot),ct=c("\\").and("be").and(T.groupedAs("be_value")),at=_(ct),St=c("\\").and("blur").and(T.groupedAs("blur_value")),$t=_(St),et=c("\\").and("bord").and(T.groupedAs("bord_value")),vt=_(et),ht=c("\\").and("xbord").and(T.groupedAs("xbord_value")),Gt=_(ht),Nt=c("\\").and("ybord").and(T.groupedAs("ybord_value")),_t=_(Nt),Tt=c("\\").and("shad").and(T.groupedAs("shad_value")),Xt=_(Tt),Yt=c("\\").and("xshad").and(T.groupedAs("xshad_value")),Wt=_(Yt),Bt=c("\\").and("yshad").and(T.groupedAs("yshad_value")),Qt=_(Bt),qt=c("\\").and("fax").and(T.groupedAs("fax_value")),At=_(qt),Ht=c("\\").and("fay").and(T.groupedAs("fay_value")),Jt=_(Ht),Mt=c("\\").and("fscx").and(T.groupedAs("fscx_value")),wt=_(Mt),zt=c("\\").and("fscy").and(T.groupedAs("fscy_value")),Ct=_(zt),Ft=c("\\").and("fsp").and(T.groupedAs("fsp_value")),Lt=_(Ft),jt=c("\\").and("fr").and(T.groupedAs("fr_value")),Rt=_(jt),Ot=c("\\").and("frx").and(T.groupedAs("frx_value")),Ut=_(Ot),Dt=c("\\").and("fry").and(T.groupedAs("fry_value")),Vt=_(Dt),Kt=c("\\").and("frz").and(T.groupedAs("frz_value")),Et=_(Kt),xt=c("\\").and("i").and(c("1").or("0").groupedAs("i_value")),It=_(xt),kt=c("\\").and("fs").and(T.groupedAs("fs_value")),Pt=_(kt),it=c("\\").and("pos").and(c("(")).and(T.groupedAs("pos_x")).and(c(",")).and(T.groupedAs("pos_y")).and(c(")")),pt=_(it),yt=c("\\").and("org").and(c("(")).and(T.groupedAs("org_x")).and(c(",")).and(T.groupedAs("org_y")).and(c(")")),st=_(yt),Zt=c("\\").and("fad").and(c("(")).and(T.groupedAs("in")).and(c(",")).and(T.groupedAs("out")).and(c(")")),dt=_(Zt),ng=c("\\").and("fade").and(c("(")).and(T.groupedAs("fade_alpha1")).and(c(",")).and(T.groupedAs("fade_alpha2")).and(c(",")).and(T.groupedAs("fade_alpha3")).and(c(",")).and(T.groupedAs("fade_t1")).and(c(",")).and(T.groupedAs("fade_t2")).and(c(",")).and(T.groupedAs("fade_t3")).and(c(",")).and(T.groupedAs("fade_t4")).and(c(")")),fg=_(ng),br=c(",").and(T.groupedAs("move_t1")).and(c(",")).and(T.groupedAs("move_t2")).optionally(),tg=c("\\").and("move").and(c("(")).and(T.groupedAs("move_x1")).and(c(",")).and(T.groupedAs("move_y1")).and(c(",")).and(T.groupedAs("move_x2")).and(c(",")).and(T.groupedAs("move_y2")).and(br).and(c(")")),gg=_(tg),rg=c("\\").and("clip").and(c("(")).and(w(j(")")).groupedAs("clip_args")).and(c(")")),lg=_(rg),ug=c("\\").and("iclip").and(c("(")).and(w(j(")")).groupedAs("iclip_args")).and(c(")")),mg=_(ug),cr=c("\\").and(w(j("\\")).groupedAs("unknown_value")),og=ct.or(Qf).or(ht).or(Nt).or(Yt).or(Bt).or(ug).or(tg).or(St).or(et).or(Tt).or(Mt).or(zt).or(ng).or(rg).or(Ft).or(it).or(yt).or(Zt).or(rt).or(Ot).or(Dt).or(Kt).or(qt).or(Ht).or(Vf).or(Uf).or(jt).or(kt).or(Zf).or(nt).or(ut).or(vf).or(hf).or(Gf).or(Nf).or(Af).or(Jf).or(wf).or(Cf).or(ef).or(Ef).or(Pf).or(If).or(tt).or(yf).or(xt).or(ot).or(af).or(Lf).or(Rf).or(cr),ar=c("\\").at.lineStart().and("t").and(c("(")).and(T.groupedAs("arg1").and(c(",")).optionally()).and(T.groupedAs("arg2").and(c(",")).optionally()).and(T.groupedAs("arg3").and(c(",")).optionally()).and(w(og).groupedAs("tags")).and(c(")")),bg=_(og),Zn=_(ar);function cg(n){const f=Math.floor(n/3600),t=Math.floor((n/3600-f)*60);return n=n-f*3600-t*60,{hours:f,minutes:t,seconds:n}}function dn(n){const f=/(?<h>\d+):(?<m>[0-9]{1,2}?):(?<s>[0-9]{1,2}(?:\.[0-9]{1,2})?)/,t=n.match(f);if(!t||t.length===0)return null;const r=Math.floor(Number(t.groups?.h??"0")),g=Math.floor(Number(t.groups?.m??"0")),l=Number(t.groups?.s??"0"),m={hours:r,minutes:g,seconds:l};return nf(m),m}function nf(n){if(n.seconds>=60)n.seconds-=60,n.minutes++;if(n.minutes>=60)n.minutes-=60,n.hours++;if(n.hours>=9)n.hours=9,n.minutes=59,n.seconds=59.99}function ff(n){nf(n);const f=n.hours.toFixed(0),t=n.minutes.toFixed(0).padStart("00".length,"0"),r=n.seconds.toFixed(2).padStart("00.00".length,"0");return`${f}:${t}:${r}`}function gn(n){return nf(n),n.hours*3600+n.minutes*60+n.seconds}function pl(n,f){const t=gn(n),r=gn(f),g=t+r;return cg(g)}function yl(n,f){const t=gn(n),r=gn(f),g=t-r;return cg(g)}var er=function(n){$g=n},Rn=function(){return $g},h=function(n,f){const t=Rn(),r=On({issueData:f,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===an?void 0:an].filter((g)=>!!g)});n.common.issues.push(r)},Un=function(n,f,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof f==="function"?n!==f||!r:!f.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:f.get(n)},eg=function(n,f,t,r,g){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!g)throw new TypeError("Private accessor was defined without a setter");if(typeof f==="function"?n!==f||!g:!f.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?g.call(n,t):g?g.value=t:f.set(n,t),t},Q=function(n){if(!n)return{};const{errorMap:f,invalid_type_error:t,required_error:r,description:g}=n;if(f&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(f)return{errorMap:f,description:g};return{errorMap:(m,u)=>{var a,e;const{message:b}=n;if(m.code==="invalid_enum_value")return{message:b!==null&&b!==void 0?b:u.defaultError};if(typeof u.data==="undefined")return{message:(a=b!==null&&b!==void 0?b:r)!==null&&a!==void 0?a:u.defaultError};if(m.code!=="invalid_type")return{message:u.defaultError};return{message:(e=b!==null&&b!==void 0?b:t)!==null&&e!==void 0?e:u.defaultError}},description:g}},hg=function(n){let f="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";if(n.precision)f=`${f}\\.\\d{${n.precision}}`;else if(n.precision==null)f=`${f}(\\.\\d+)?`;return f},Hr=function(n){return new RegExp(`^${hg(n)}\$`)},Gg=function(n){let f=`${vg}T${hg(n)}`;const t=[];if(t.push(n.local?"Z?":"Z"),n.offset)t.push("([+-]\\d{2}:?\\d{2})");return f=`${f}(${t.join("|")})`,new RegExp(`^${f}\$`)},Jr=function(n,f){if((f==="v4"||!f)&&Br.test(n))return!0;if((f==="v6"||!f)&&Qr.test(n))return!0;return!1},Mr=function(n,f){const t=(n.toString().split(".")[1]||"").length,r=(f.toString().split(".")[1]||"").length,g=t>r?t:r,l=parseInt(n.toFixed(g).replace(".","")),m=parseInt(f.toFixed(g).replace(".",""));return l%m/Math.pow(10,g)},on=function(n){if(n instanceof z){const f={};for(let t in n.shape){const r=n.shape[t];f[t]=x.create(on(r))}return new z({...n._def,shape:()=>f})}else if(n instanceof E)return new E({...n._def,type:on(n.element)});else if(n instanceof x)return x.create(on(n.unwrap()));else if(n instanceof y)return y.create(on(n.unwrap()));else if(n instanceof i)return i.create(n.items.map((f)=>on(f)));else return n},uf=function(n,f){const t=s(n),r=s(f);if(n===f)return{valid:!0,data:n};else if(t===G.object&&r===G.object){const g=H.objectKeys(f),l=H.objectKeys(n).filter((u)=>g.indexOf(u)!==-1),m={...n,...f};for(let u of l){const a=uf(n[u],f[u]);if(!a.valid)return{valid:!1};m[u]=a.data}return{valid:!0,data:m}}else if(t===G.array&&r===G.array){if(n.length!==f.length)return{valid:!1};const g=[];for(let l=0;l<n.length;l++){const m=n[l],u=f[l],a=uf(m,u);if(!a.valid)return{valid:!1};g.push(a.data)}return{valid:!0,data:g}}else if(t===G.date&&r===G.date&&+n===+f)return{valid:!0,data:n};else return{valid:!1}},Ng=function(n,f){return new fn({values:n,typeName:Y.ZodEnum,...Q(f)})},_g=function(n,f={},t){if(n)return ln.create().superRefine((r,g)=>{var l,m;if(!n(r)){const u=typeof f==="function"?f(r):typeof f==="string"?{message:f}:f,a=(m=(l=u.fatal)!==null&&l!==void 0?l:t)!==null&&m!==void 0?m:!0,e=typeof u==="string"?{message:u}:u;g.addIssue({code:"custom",...e,fatal:a})}});return ln.create()},H;(function(n){n.assertEqual=(g)=>g;function f(g){}n.assertIs=f;function t(g){throw new Error}n.assertNever=t,n.arrayToEnum=(g)=>{const l={};for(let m of g)l[m]=m;return l},n.getValidEnumValues=(g)=>{const l=n.objectKeys(g).filter((u)=>typeof g[g[u]]!=="number"),m={};for(let u of l)m[u]=g[u];return n.objectValues(m)},n.objectValues=(g)=>{return n.objectKeys(g).map(function(l){return g[l]})},n.objectKeys=typeof Object.keys==="function"?(g)=>Object.keys(g):(g)=>{const l=[];for(let m in g)if(Object.prototype.hasOwnProperty.call(g,m))l.push(m);return l},n.find=(g,l)=>{for(let m of g)if(l(m))return m;return},n.isInteger=typeof Number.isInteger==="function"?(g)=>Number.isInteger(g):(g)=>typeof g==="number"&&isFinite(g)&&Math.floor(g)===g;function r(g,l=" | "){return g.map((m)=>typeof m==="string"?`'${m}'`:m).join(l)}n.joinValues=r,n.jsonStringifyReplacer=(g,l)=>{if(typeof l==="bigint")return l.toString();return l}})(H||(H={}));var gf;(function(n){n.mergeShapes=(f,t)=>{return{...f,...t}}})(gf||(gf={}));var G=H.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),s=(n)=>{switch(typeof n){case"undefined":return G.undefined;case"string":return G.string;case"number":return isNaN(n)?G.nan:G.number;case"boolean":return G.boolean;case"function":return G.function;case"bigint":return G.bigint;case"symbol":return G.symbol;case"object":if(Array.isArray(n))return G.array;if(n===null)return G.null;if(n.then&&typeof n.then==="function"&&n.catch&&typeof n.catch==="function")return G.promise;if(typeof Map!=="undefined"&&n instanceof Map)return G.map;if(typeof Set!=="undefined"&&n instanceof Set)return G.set;if(typeof Date!=="undefined"&&n instanceof Date)return G.date;return G.object;default:return G.unknown}},v=H.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$r=(n)=>{return JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:")};class D extends Error{constructor(n){super();this.issues=[],this.addIssue=(t)=>{this.issues=[...this.issues,t]},this.addIssues=(t=[])=>{this.issues=[...this.issues,...t]};const f=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,f);else this.__proto__=f;this.name="ZodError",this.issues=n}get errors(){return this.issues}format(n){const f=n||function(g){return g.message},t={_errors:[]},r=(g)=>{for(let l of g.issues)if(l.code==="invalid_union")l.unionErrors.map(r);else if(l.code==="invalid_return_type")r(l.returnTypeError);else if(l.code==="invalid_arguments")r(l.argumentsError);else if(l.path.length===0)t._errors.push(f(l));else{let m=t,u=0;while(u<l.path.length){const a=l.path[u];if(u!==l.path.length-1)m[a]=m[a]||{_errors:[]};else m[a]=m[a]||{_errors:[]},m[a]._errors.push(f(l));m=m[a],u++}}};return r(this),t}static assert(n){if(!(n instanceof D))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,H.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=(f)=>f.message){const f={},t=[];for(let r of this.issues)if(r.path.length>0)f[r.path[0]]=f[r.path[0]]||[],f[r.path[0]].push(n(r));else t.push(n(r));return{formErrors:t,fieldErrors:f}}get formErrors(){return this.flatten()}}D.create=(n)=>{return new D(n)};var an=(n,f)=>{let t;switch(n.code){case v.invalid_type:if(n.received===G.undefined)t="Required";else t=`Expected ${n.expected}, received ${n.received}`;break;case v.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,H.jsonStringifyReplacer)}`;break;case v.unrecognized_keys:t=`Unrecognized key(s) in object: ${H.joinValues(n.keys,", ")}`;break;case v.invalid_union:t="Invalid input";break;case v.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${H.joinValues(n.options)}`;break;case v.invalid_enum_value:t=`Invalid enum value. Expected ${H.joinValues(n.options)}, received '${n.received}'`;break;case v.invalid_arguments:t="Invalid function arguments";break;case v.invalid_return_type:t="Invalid function return type";break;case v.invalid_date:t="Invalid date";break;case v.invalid_string:if(typeof n.validation==="object")if("includes"in n.validation){if(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position==="number")t=`${t} at one or more positions greater than or equal to ${n.validation.position}`}else if("startsWith"in n.validation)t=`Invalid input: must start with "${n.validation.startsWith}"`;else if("endsWith"in n.validation)t=`Invalid input: must end with "${n.validation.endsWith}"`;else H.assertNever(n.validation);else if(n.validation!=="regex")t=`Invalid ${n.validation}`;else t="Invalid";break;case v.too_small:if(n.type==="array")t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`;else if(n.type==="string")t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`;else if(n.type==="number")t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`;else if(n.type==="date")t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`;else t="Invalid input";break;case v.too_big:if(n.type==="array")t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`;else if(n.type==="string")t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`;else if(n.type==="number")t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`;else if(n.type==="bigint")t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`;else if(n.type==="date")t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`;else t="Invalid input";break;case v.custom:t="Invalid input";break;case v.invalid_intersection_types:t="Intersection results could not be merged";break;case v.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case v.not_finite:t="Number must be finite";break;default:t=f.defaultError,H.assertNever(n)}return{message:t}},$g=an,On=(n)=>{const{data:f,path:t,errorMaps:r,issueData:g}=n,l=[...t,...g.path||[]],m={...g,path:l};if(g.message!==void 0)return{...g,path:l,message:g.message};let u="";const a=r.filter((e)=>!!e).slice().reverse();for(let e of a)u=e(m,{data:f,defaultError:u}).message;return{...g,path:l,message:u}},vr=[];class L{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(n,f){const t=[];for(let r of f){if(r.status==="aborted")return W;if(r.status==="dirty")n.dirty();t.push(r.value)}return{status:n.value,value:t}}static async mergeObjectAsync(n,f){const t=[];for(let r of f){const g=await r.key,l=await r.value;t.push({key:g,value:l})}return L.mergeObjectSync(n,t)}static mergeObjectSync(n,f){const t={};for(let r of f){const{key:g,value:l}=r;if(g.status==="aborted")return W;if(l.status==="aborted")return W;if(g.status==="dirty")n.dirty();if(l.status==="dirty")n.dirty();if(g.value!=="__proto__"&&(typeof l.value!=="undefined"||r.alwaysSet))t[g.value]=l.value}return{status:n.value,value:t}}}var W=Object.freeze({status:"aborted"}),bn=(n)=>({status:"dirty",value:n}),O=(n)=>({status:"valid",value:n}),rf=(n)=>n.status==="aborted",lf=(n)=>n.status==="dirty",Qn=(n)=>n.status==="valid",qn=(n)=>typeof Promise!=="undefined"&&n instanceof Promise;var N;(function(n){n.errToObj=(f)=>typeof f==="string"?{message:f}:f||{},n.toString=(f)=>typeof f==="string"?f:f===null||f===void 0?void 0:f.message})(N||(N={}));var Wn,Bn;class I{constructor(n,f,t,r){this._cachedPath=[],this.parent=n,this.data=f,this._path=t,this._key=r}get path(){if(!this._cachedPath.length)if(this._key instanceof Array)this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var ag=(n,f)=>{if(Qn(f))return{success:!0,data:f.value};else{if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new D(n.common.issues);return this._error=t,this._error}}}};class q{constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(n){return s(n.data)}_getOrReturnCtx(n,f){return f||{common:n.parent.common,data:n.data,parsedType:s(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new L,ctx:{common:n.parent.common,data:n.data,parsedType:s(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){const f=this._parse(n);if(qn(f))throw new Error("Synchronous parse encountered promise.");return f}_parseAsync(n){const f=this._parse(n);return Promise.resolve(f)}parse(n,f){const t=this.safeParse(n,f);if(t.success)return t.data;throw t.error}safeParse(n,f){var t;const r={common:{issues:[],async:(t=f===null||f===void 0?void 0:f.async)!==null&&t!==void 0?t:!1,contextualErrorMap:f===null||f===void 0?void 0:f.errorMap},path:(f===null||f===void 0?void 0:f.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:s(n)},g=this._parseSync({data:n,path:r.path,parent:r});return ag(r,g)}async parseAsync(n,f){const t=await this.safeParseAsync(n,f);if(t.success)return t.data;throw t.error}async safeParseAsync(n,f){const t={common:{issues:[],contextualErrorMap:f===null||f===void 0?void 0:f.errorMap,async:!0},path:(f===null||f===void 0?void 0:f.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:s(n)},r=this._parse({data:n,path:t.path,parent:t}),g=await(qn(r)?r:Promise.resolve(r));return ag(t,g)}refine(n,f){const t=(r)=>{if(typeof f==="string"||typeof f==="undefined")return{message:f};else if(typeof f==="function")return f(r);else return f};return this._refinement((r,g)=>{const l=n(r),m=()=>g.addIssue({code:v.custom,...t(r)});if(typeof Promise!=="undefined"&&l instanceof Promise)return l.then((u)=>{if(!u)return m(),!1;else return!0});if(!l)return m(),!1;else return!0})}refinement(n,f){return this._refinement((t,r)=>{if(!n(t))return r.addIssue(typeof f==="function"?f(t,r):f),!1;else return!0})}_refinement(n){return new V({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}optional(){return x.create(this,this._def)}nullable(){return y.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return E.create(this,this._def)}promise(){return mn.create(this,this._def)}or(n){return vn.create([this,n],this._def)}and(n){return hn.create(this,n,this._def)}transform(n){return new V({...Q(this._def),schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:n}})}default(n){const f=typeof n==="function"?n:()=>n;return new Tn({...Q(this._def),innerType:this,defaultValue:f,typeName:Y.ZodDefault})}brand(){return new Vn({typeName:Y.ZodBranded,type:this,...Q(this._def)})}catch(n){const f=typeof n==="function"?n:()=>n;return new Xn({...Q(this._def),innerType:this,catchValue:f,typeName:Y.ZodCatch})}describe(n){return new this.constructor({...this._def,description:n})}pipe(n){return zn.create(this,n)}readonly(){return Yn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var hr=/^c[^\s-]{8,}$/i,Gr=/^[0-9a-z]+$/,Nr=/^[0-9A-HJKMNP-TV-Z]{26}$/,_r=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Tr=/^[a-z0-9_-]{21}$/i,Xr=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Yr=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Wr="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",tf,Br=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Qr=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,qr=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ar=new RegExp(`^${vg}\$`);class K extends q{_parse(n){if(this._def.coerce)n.data=String(n.data);if(this._getType(n)!==G.string){const g=this._getOrReturnCtx(n);return h(g,{code:v.invalid_type,expected:G.string,received:g.parsedType}),W}const t=new L;let r=void 0;for(let g of this._def.checks)if(g.kind==="min"){if(n.data.length<g.value)r=this._getOrReturnCtx(n,r),h(r,{code:v.too_small,minimum:g.value,type:"string",inclusive:!0,exact:!1,message:g.message}),t.dirty()}else if(g.kind==="max"){if(n.data.length>g.value)r=this._getOrReturnCtx(n,r),h(r,{code:v.too_big,maximum:g.value,type:"string",inclusive:!0,exact:!1,message:g.message}),t.dirty()}else if(g.kind==="length"){const l=n.data.length>g.value,m=n.data.length<g.value;if(l||m){if(r=this._getOrReturnCtx(n,r),l)h(r,{code:v.too_big,maximum:g.value,type:"string",inclusive:!0,exact:!0,message:g.message});else if(m)h(r,{code:v.too_small,minimum:g.value,type:"string",inclusive:!0,exact:!0,message:g.message});t.dirty()}}else if(g.kind==="email"){if(!Yr.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"email",code:v.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="emoji"){if(!tf)tf=new RegExp(Wr,"u");if(!tf.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"emoji",code:v.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="uuid"){if(!_r.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"uuid",code:v.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="nanoid"){if(!Tr.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"nanoid",code:v.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="cuid"){if(!hr.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"cuid",code:v.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="cuid2"){if(!Gr.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"cuid2",code:v.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="ulid"){if(!Nr.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"ulid",code:v.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="url")try{new URL(n.data)}catch(l){r=this._getOrReturnCtx(n,r),h(r,{validation:"url",code:v.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="regex"){if(g.regex.lastIndex=0,!g.regex.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"regex",code:v.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="trim")n.data=n.data.trim();else if(g.kind==="includes"){if(!n.data.includes(g.value,g.position))r=this._getOrReturnCtx(n,r),h(r,{code:v.invalid_string,validation:{includes:g.value,position:g.position},message:g.message}),t.dirty()}else if(g.kind==="toLowerCase")n.data=n.data.toLowerCase();else if(g.kind==="toUpperCase")n.data=n.data.toUpperCase();else if(g.kind==="startsWith"){if(!n.data.startsWith(g.value))r=this._getOrReturnCtx(n,r),h(r,{code:v.invalid_string,validation:{startsWith:g.value},message:g.message}),t.dirty()}else if(g.kind==="endsWith"){if(!n.data.endsWith(g.value))r=this._getOrReturnCtx(n,r),h(r,{code:v.invalid_string,validation:{endsWith:g.value},message:g.message}),t.dirty()}else if(g.kind==="datetime"){if(!Gg(g).test(n.data))r=this._getOrReturnCtx(n,r),h(r,{code:v.invalid_string,validation:"datetime",message:g.message}),t.dirty()}else if(g.kind==="date"){if(!Ar.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{code:v.invalid_string,validation:"date",message:g.message}),t.dirty()}else if(g.kind==="time"){if(!Hr(g).test(n.data))r=this._getOrReturnCtx(n,r),h(r,{code:v.invalid_string,validation:"time",message:g.message}),t.dirty()}else if(g.kind==="duration"){if(!Xr.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"duration",code:v.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="ip"){if(!Jr(n.data,g.version))r=this._getOrReturnCtx(n,r),h(r,{validation:"ip",code:v.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="base64"){if(!qr.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"base64",code:v.invalid_string,message:g.message}),t.dirty()}else H.assertNever(g);return{status:t.value,value:n.data}}_regex(n,f,t){return this.refinement((r)=>n.test(r),{validation:f,code:v.invalid_string,...N.errToObj(t)})}_addCheck(n){return new K({...this._def,checks:[...this._def.checks,n]})}email(n){return this._addCheck({kind:"email",...N.errToObj(n)})}url(n){return this._addCheck({kind:"url",...N.errToObj(n)})}emoji(n){return this._addCheck({kind:"emoji",...N.errToObj(n)})}uuid(n){return this._addCheck({kind:"uuid",...N.errToObj(n)})}nanoid(n){return this._addCheck({kind:"nanoid",...N.errToObj(n)})}cuid(n){return this._addCheck({kind:"cuid",...N.errToObj(n)})}cuid2(n){return this._addCheck({kind:"cuid2",...N.errToObj(n)})}ulid(n){return this._addCheck({kind:"ulid",...N.errToObj(n)})}base64(n){return this._addCheck({kind:"base64",...N.errToObj(n)})}ip(n){return this._addCheck({kind:"ip",...N.errToObj(n)})}datetime(n){var f,t;if(typeof n==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n});return this._addCheck({kind:"datetime",precision:typeof(n===null||n===void 0?void 0:n.precision)==="undefined"?null:n===null||n===void 0?void 0:n.precision,offset:(f=n===null||n===void 0?void 0:n.offset)!==null&&f!==void 0?f:!1,local:(t=n===null||n===void 0?void 0:n.local)!==null&&t!==void 0?t:!1,...N.errToObj(n===null||n===void 0?void 0:n.message)})}date(n){return this._addCheck({kind:"date",message:n})}time(n){if(typeof n==="string")return this._addCheck({kind:"time",precision:null,message:n});return this._addCheck({kind:"time",precision:typeof(n===null||n===void 0?void 0:n.precision)==="undefined"?null:n===null||n===void 0?void 0:n.precision,...N.errToObj(n===null||n===void 0?void 0:n.message)})}duration(n){return this._addCheck({kind:"duration",...N.errToObj(n)})}regex(n,f){return this._addCheck({kind:"regex",regex:n,...N.errToObj(f)})}includes(n,f){return this._addCheck({kind:"includes",value:n,position:f===null||f===void 0?void 0:f.position,...N.errToObj(f===null||f===void 0?void 0:f.message)})}startsWith(n,f){return this._addCheck({kind:"startsWith",value:n,...N.errToObj(f)})}endsWith(n,f){return this._addCheck({kind:"endsWith",value:n,...N.errToObj(f)})}min(n,f){return this._addCheck({kind:"min",value:n,...N.errToObj(f)})}max(n,f){return this._addCheck({kind:"max",value:n,...N.errToObj(f)})}length(n,f){return this._addCheck({kind:"length",value:n,...N.errToObj(f)})}nonempty(n){return this.min(1,N.errToObj(n))}trim(){return new K({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((n)=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find((n)=>n.kind==="date")}get isTime(){return!!this._def.checks.find((n)=>n.kind==="time")}get isDuration(){return!!this._def.checks.find((n)=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find((n)=>n.kind==="email")}get isURL(){return!!this._def.checks.find((n)=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find((n)=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find((n)=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find((n)=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find((n)=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find((n)=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find((n)=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find((n)=>n.kind==="ip")}get isBase64(){return!!this._def.checks.find((n)=>n.kind==="base64")}get minLength(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n}get maxLength(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n}}K.create=(n)=>{var f;return new K({checks:[],typeName:Y.ZodString,coerce:(f=n===null||n===void 0?void 0:n.coerce)!==null&&f!==void 0?f:!1,...Q(n)})};class d extends q{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce)n.data=Number(n.data);if(this._getType(n)!==G.number){const g=this._getOrReturnCtx(n);return h(g,{code:v.invalid_type,expected:G.number,received:g.parsedType}),W}let t=void 0;const r=new L;for(let g of this._def.checks)if(g.kind==="int"){if(!H.isInteger(n.data))t=this._getOrReturnCtx(n,t),h(t,{code:v.invalid_type,expected:"integer",received:"float",message:g.message}),r.dirty()}else if(g.kind==="min"){if(g.inclusive?n.data<g.value:n.data<=g.value)t=this._getOrReturnCtx(n,t),h(t,{code:v.too_small,minimum:g.value,type:"number",inclusive:g.inclusive,exact:!1,message:g.message}),r.dirty()}else if(g.kind==="max"){if(g.inclusive?n.data>g.value:n.data>=g.value)t=this._getOrReturnCtx(n,t),h(t,{code:v.too_big,maximum:g.value,type:"number",inclusive:g.inclusive,exact:!1,message:g.message}),r.dirty()}else if(g.kind==="multipleOf"){if(Mr(n.data,g.value)!==0)t=this._getOrReturnCtx(n,t),h(t,{code:v.not_multiple_of,multipleOf:g.value,message:g.message}),r.dirty()}else if(g.kind==="finite"){if(!Number.isFinite(n.data))t=this._getOrReturnCtx(n,t),h(t,{code:v.not_finite,message:g.message}),r.dirty()}else H.assertNever(g);return{status:r.value,value:n.data}}gte(n,f){return this.setLimit("min",n,!0,N.toString(f))}gt(n,f){return this.setLimit("min",n,!1,N.toString(f))}lte(n,f){return this.setLimit("max",n,!0,N.toString(f))}lt(n,f){return this.setLimit("max",n,!1,N.toString(f))}setLimit(n,f,t,r){return new d({...this._def,checks:[...this._def.checks,{kind:n,value:f,inclusive:t,message:N.toString(r)}]})}_addCheck(n){return new d({...this._def,checks:[...this._def.checks,n]})}int(n){return this._addCheck({kind:"int",message:N.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:N.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:N.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:N.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:N.toString(n)})}multipleOf(n,f){return this._addCheck({kind:"multipleOf",value:n,message:N.toString(f)})}finite(n){return this._addCheck({kind:"finite",message:N.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:N.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:N.toString(n)})}get minValue(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n}get maxValue(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n}get isInt(){return!!this._def.checks.find((n)=>n.kind==="int"||n.kind==="multipleOf"&&H.isInteger(n.value))}get isFinite(){let n=null,f=null;for(let t of this._def.checks)if(t.kind==="finite"||t.kind==="int"||t.kind==="multipleOf")return!0;else if(t.kind==="min"){if(f===null||t.value>f)f=t.value}else if(t.kind==="max"){if(n===null||t.value<n)n=t.value}return Number.isFinite(f)&&Number.isFinite(n)}}d.create=(n)=>{return new d({checks:[],typeName:Y.ZodNumber,coerce:(n===null||n===void 0?void 0:n.coerce)||!1,...Q(n)})};class nn extends q{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce)n.data=BigInt(n.data);if(this._getType(n)!==G.bigint){const g=this._getOrReturnCtx(n);return h(g,{code:v.invalid_type,expected:G.bigint,received:g.parsedType}),W}let t=void 0;const r=new L;for(let g of this._def.checks)if(g.kind==="min"){if(g.inclusive?n.data<g.value:n.data<=g.value)t=this._getOrReturnCtx(n,t),h(t,{code:v.too_small,type:"bigint",minimum:g.value,inclusive:g.inclusive,message:g.message}),r.dirty()}else if(g.kind==="max"){if(g.inclusive?n.data>g.value:n.data>=g.value)t=this._getOrReturnCtx(n,t),h(t,{code:v.too_big,type:"bigint",maximum:g.value,inclusive:g.inclusive,message:g.message}),r.dirty()}else if(g.kind==="multipleOf"){if(n.data%g.value!==BigInt(0))t=this._getOrReturnCtx(n,t),h(t,{code:v.not_multiple_of,multipleOf:g.value,message:g.message}),r.dirty()}else H.assertNever(g);return{status:r.value,value:n.data}}gte(n,f){return this.setLimit("min",n,!0,N.toString(f))}gt(n,f){return this.setLimit("min",n,!1,N.toString(f))}lte(n,f){return this.setLimit("max",n,!0,N.toString(f))}lt(n,f){return this.setLimit("max",n,!1,N.toString(f))}setLimit(n,f,t,r){return new nn({...this._def,checks:[...this._def.checks,{kind:n,value:f,inclusive:t,message:N.toString(r)}]})}_addCheck(n){return new nn({...this._def,checks:[...this._def.checks,n]})}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:N.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:N.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:N.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:N.toString(n)})}multipleOf(n,f){return this._addCheck({kind:"multipleOf",value:n,message:N.toString(f)})}get minValue(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n}get maxValue(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n}}nn.create=(n)=>{var f;return new nn({checks:[],typeName:Y.ZodBigInt,coerce:(f=n===null||n===void 0?void 0:n.coerce)!==null&&f!==void 0?f:!1,...Q(n)})};class Sn extends q{_parse(n){if(this._def.coerce)n.data=Boolean(n.data);if(this._getType(n)!==G.boolean){const t=this._getOrReturnCtx(n);return h(t,{code:v.invalid_type,expected:G.boolean,received:t.parsedType}),W}return O(n.data)}}Sn.create=(n)=>{return new Sn({typeName:Y.ZodBoolean,coerce:(n===null||n===void 0?void 0:n.coerce)||!1,...Q(n)})};class rn extends q{_parse(n){if(this._def.coerce)n.data=new Date(n.data);if(this._getType(n)!==G.date){const g=this._getOrReturnCtx(n);return h(g,{code:v.invalid_type,expected:G.date,received:g.parsedType}),W}if(isNaN(n.data.getTime())){const g=this._getOrReturnCtx(n);return h(g,{code:v.invalid_date}),W}const t=new L;let r=void 0;for(let g of this._def.checks)if(g.kind==="min"){if(n.data.getTime()<g.value)r=this._getOrReturnCtx(n,r),h(r,{code:v.too_small,message:g.message,inclusive:!0,exact:!1,minimum:g.value,type:"date"}),t.dirty()}else if(g.kind==="max"){if(n.data.getTime()>g.value)r=this._getOrReturnCtx(n,r),h(r,{code:v.too_big,message:g.message,inclusive:!0,exact:!1,maximum:g.value,type:"date"}),t.dirty()}else H.assertNever(g);return{status:t.value,value:new Date(n.data.getTime())}}_addCheck(n){return new rn({...this._def,checks:[...this._def.checks,n]})}min(n,f){return this._addCheck({kind:"min",value:n.getTime(),message:N.toString(f)})}max(n,f){return this._addCheck({kind:"max",value:n.getTime(),message:N.toString(f)})}get minDate(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n!=null?new Date(n):null}get maxDate(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n!=null?new Date(n):null}}rn.create=(n)=>{return new rn({checks:[],coerce:(n===null||n===void 0?void 0:n.coerce)||!1,typeName:Y.ZodDate,...Q(n)})};class An extends q{_parse(n){if(this._getType(n)!==G.symbol){const t=this._getOrReturnCtx(n);return h(t,{code:v.invalid_type,expected:G.symbol,received:t.parsedType}),W}return O(n.data)}}An.create=(n)=>{return new An({typeName:Y.ZodSymbol,...Q(n)})};class $n extends q{_parse(n){if(this._getType(n)!==G.undefined){const t=this._getOrReturnCtx(n);return h(t,{code:v.invalid_type,expected:G.undefined,received:t.parsedType}),W}return O(n.data)}}$n.create=(n)=>{return new $n({typeName:Y.ZodUndefined,...Q(n)})};class en extends q{_parse(n){if(this._getType(n)!==G.null){const t=this._getOrReturnCtx(n);return h(t,{code:v.invalid_type,expected:G.null,received:t.parsedType}),W}return O(n.data)}}en.create=(n)=>{return new en({typeName:Y.ZodNull,...Q(n)})};class ln extends q{constructor(){super(...arguments);this._any=!0}_parse(n){return O(n.data)}}ln.create=(n)=>{return new ln({typeName:Y.ZodAny,...Q(n)})};class Z extends q{constructor(){super(...arguments);this._unknown=!0}_parse(n){return O(n.data)}}Z.create=(n)=>{return new Z({typeName:Y.ZodUnknown,...Q(n)})};class P extends q{_parse(n){const f=this._getOrReturnCtx(n);return h(f,{code:v.invalid_type,expected:G.never,received:f.parsedType}),W}}P.create=(n)=>{return new P({typeName:Y.ZodNever,...Q(n)})};class Hn extends q{_parse(n){if(this._getType(n)!==G.undefined){const t=this._getOrReturnCtx(n);return h(t,{code:v.invalid_type,expected:G.void,received:t.parsedType}),W}return O(n.data)}}Hn.create=(n)=>{return new Hn({typeName:Y.ZodVoid,...Q(n)})};class E extends q{_parse(n){const{ctx:f,status:t}=this._processInputParams(n),r=this._def;if(f.parsedType!==G.array)return h(f,{code:v.invalid_type,expected:G.array,received:f.parsedType}),W;if(r.exactLength!==null){const l=f.data.length>r.exactLength.value,m=f.data.length<r.exactLength.value;if(l||m)h(f,{code:l?v.too_big:v.too_small,minimum:m?r.exactLength.value:void 0,maximum:l?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),t.dirty()}if(r.minLength!==null){if(f.data.length<r.minLength.value)h(f,{code:v.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),t.dirty()}if(r.maxLength!==null){if(f.data.length>r.maxLength.value)h(f,{code:v.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),t.dirty()}if(f.common.async)return Promise.all([...f.data].map((l,m)=>{return r.type._parseAsync(new I(f,l,f.path,m))})).then((l)=>{return L.mergeArray(t,l)});const g=[...f.data].map((l,m)=>{return r.type._parseSync(new I(f,l,f.path,m))});return L.mergeArray(t,g)}get element(){return this._def.type}min(n,f){return new E({...this._def,minLength:{value:n,message:N.toString(f)}})}max(n,f){return new E({...this._def,maxLength:{value:n,message:N.toString(f)}})}length(n,f){return new E({...this._def,exactLength:{value:n,message:N.toString(f)}})}nonempty(n){return this.min(1,n)}}E.create=(n,f)=>{return new E({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray,...Q(f)})};class z extends q{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const n=this._def.shape(),f=H.objectKeys(n);return this._cached={shape:n,keys:f}}_parse(n){if(this._getType(n)!==G.object){const a=this._getOrReturnCtx(n);return h(a,{code:v.invalid_type,expected:G.object,received:a.parsedType}),W}const{status:t,ctx:r}=this._processInputParams(n),{shape:g,keys:l}=this._getCached(),m=[];if(!(this._def.catchall instanceof P&&this._def.unknownKeys==="strip")){for(let a in r.data)if(!l.includes(a))m.push(a)}const u=[];for(let a of l){const e=g[a],b=r.data[a];u.push({key:{status:"valid",value:a},value:e._parse(new I(r,b,r.path,a)),alwaysSet:a in r.data})}if(this._def.catchall instanceof P){const a=this._def.unknownKeys;if(a==="passthrough")for(let e of m)u.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if(a==="strict"){if(m.length>0)h(r,{code:v.unrecognized_keys,keys:m}),t.dirty()}else if(a==="strip");else throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const a=this._def.catchall;for(let e of m){const b=r.data[e];u.push({key:{status:"valid",value:e},value:a._parse(new I(r,b,r.path,e)),alwaysSet:e in r.data})}}if(r.common.async)return Promise.resolve().then(async()=>{const a=[];for(let e of u){const b=await e.key,S=await e.value;a.push({key:b,value:S,alwaysSet:e.alwaysSet})}return a}).then((a)=>{return L.mergeObjectSync(t,a)});else return L.mergeObjectSync(t,u)}get shape(){return this._def.shape()}strict(n){return N.errToObj,new z({...this._def,unknownKeys:"strict",...n!==void 0?{errorMap:(f,t)=>{var r,g,l,m;const u=(l=(g=(r=this._def).errorMap)===null||g===void 0?void 0:g.call(r,f,t).message)!==null&&l!==void 0?l:t.defaultError;if(f.code==="unrecognized_keys")return{message:(m=N.errToObj(n).message)!==null&&m!==void 0?m:u};return{message:u}}}:{}})}strip(){return new z({...this._def,unknownKeys:"strip"})}passthrough(){return new z({...this._def,unknownKeys:"passthrough"})}extend(n){return new z({...this._def,shape:()=>({...this._def.shape(),...n})})}merge(n){return new z({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>({...this._def.shape(),...n._def.shape()}),typeName:Y.ZodObject})}setKey(n,f){return this.augment({[n]:f})}catchall(n){return new z({...this._def,catchall:n})}pick(n){const f={};return H.objectKeys(n).forEach((t)=>{if(n[t]&&this.shape[t])f[t]=this.shape[t]}),new z({...this._def,shape:()=>f})}omit(n){const f={};return H.objectKeys(this.shape).forEach((t)=>{if(!n[t])f[t]=this.shape[t]}),new z({...this._def,shape:()=>f})}deepPartial(){return on(this)}partial(n){const f={};return H.objectKeys(this.shape).forEach((t)=>{const r=this.shape[t];if(n&&!n[t])f[t]=r;else f[t]=r.optional()}),new z({...this._def,shape:()=>f})}required(n){const f={};return H.objectKeys(this.shape).forEach((t)=>{if(n&&!n[t])f[t]=this.shape[t];else{let g=this.shape[t];while(g instanceof x)g=g._def.innerType;f[t]=g}}),new z({...this._def,shape:()=>f})}keyof(){return Ng(H.objectKeys(this.shape))}}z.create=(n,f)=>{return new z({shape:()=>n,unknownKeys:"strip",catchall:P.create(),typeName:Y.ZodObject,...Q(f)})};z.strictCreate=(n,f)=>{return new z({shape:()=>n,unknownKeys:"strict",catchall:P.create(),typeName:Y.ZodObject,...Q(f)})};z.lazycreate=(n,f)=>{return new z({shape:n,unknownKeys:"strip",catchall:P.create(),typeName:Y.ZodObject,...Q(f)})};class vn extends q{_parse(n){const{ctx:f}=this._processInputParams(n),t=this._def.options;function r(g){for(let m of g)if(m.result.status==="valid")return m.result;for(let m of g)if(m.result.status==="dirty")return f.common.issues.push(...m.ctx.common.issues),m.result;const l=g.map((m)=>new D(m.ctx.common.issues));return h(f,{code:v.invalid_union,unionErrors:l}),W}if(f.common.async)return Promise.all(t.map(async(g)=>{const l={...f,common:{...f.common,issues:[]},parent:null};return{result:await g._parseAsync({data:f.data,path:f.path,parent:l}),ctx:l}})).then(r);else{let g=void 0;const l=[];for(let u of t){const a={...f,common:{...f.common,issues:[]},parent:null},e=u._parseSync({data:f.data,path:f.path,parent:a});if(e.status==="valid")return e;else if(e.status==="dirty"&&!g)g={result:e,ctx:a};if(a.common.issues.length)l.push(a.common.issues)}if(g)return f.common.issues.push(...g.ctx.common.issues),g.result;const m=l.map((u)=>new D(u));return h(f,{code:v.invalid_union,unionErrors:m}),W}}get options(){return this._def.options}}vn.create=(n,f)=>{return new vn({options:n,typeName:Y.ZodUnion,...Q(f)})};var p=(n)=>{if(n instanceof Gn)return p(n.schema);else if(n instanceof V)return p(n.innerType());else if(n instanceof Nn)return[n.value];else if(n instanceof fn)return n.options;else if(n instanceof _n)return H.objectValues(n.enum);else if(n instanceof Tn)return p(n._def.innerType);else if(n instanceof $n)return[void 0];else if(n instanceof en)return[null];else if(n instanceof x)return[void 0,...p(n.unwrap())];else if(n instanceof y)return[null,...p(n.unwrap())];else if(n instanceof Vn)return p(n.unwrap());else if(n instanceof Yn)return p(n.unwrap());else if(n instanceof Xn)return p(n._def.innerType);else return[]};class Dn extends q{_parse(n){const{ctx:f}=this._processInputParams(n);if(f.parsedType!==G.object)return h(f,{code:v.invalid_type,expected:G.object,received:f.parsedType}),W;const t=this.discriminator,r=f.data[t],g=this.optionsMap.get(r);if(!g)return h(f,{code:v.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[t]}),W;if(f.common.async)return g._parseAsync({data:f.data,path:f.path,parent:f});else return g._parseSync({data:f.data,path:f.path,parent:f})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(n,f,t){const r=new Map;for(let g of f){const l=p(g.shape[n]);if(!l.length)throw new Error(`A discriminator value for key \`${n}\` could not be extracted from all schema options`);for(let m of l){if(r.has(m))throw new Error(`Discriminator property ${String(n)} has duplicate value ${String(m)}`);r.set(m,g)}}return new Dn({typeName:Y.ZodDiscriminatedUnion,discriminator:n,options:f,optionsMap:r,...Q(t)})}}class hn extends q{_parse(n){const{status:f,ctx:t}=this._processInputParams(n),r=(g,l)=>{if(rf(g)||rf(l))return W;const m=uf(g.value,l.value);if(!m.valid)return h(t,{code:v.invalid_intersection_types}),W;if(lf(g)||lf(l))f.dirty();return{status:f.value,value:m.data}};if(t.common.async)return Promise.all([this._def.left._parseAsync({data:t.data,path:t.path,parent:t}),this._def.right._parseAsync({data:t.data,path:t.path,parent:t})]).then(([g,l])=>r(g,l));else return r(this._def.left._parseSync({data:t.data,path:t.path,parent:t}),this._def.right._parseSync({data:t.data,path:t.path,parent:t}))}}hn.create=(n,f,t)=>{return new hn({left:n,right:f,typeName:Y.ZodIntersection,...Q(t)})};class i extends q{_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.parsedType!==G.array)return h(t,{code:v.invalid_type,expected:G.array,received:t.parsedType}),W;if(t.data.length<this._def.items.length)return h(t,{code:v.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),W;if(!this._def.rest&&t.data.length>this._def.items.length)h(t,{code:v.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),f.dirty();const g=[...t.data].map((l,m)=>{const u=this._def.items[m]||this._def.rest;if(!u)return null;return u._parse(new I(t,l,t.path,m))}).filter((l)=>!!l);if(t.common.async)return Promise.all(g).then((l)=>{return L.mergeArray(f,l)});else return L.mergeArray(f,g)}get items(){return this._def.items}rest(n){return new i({...this._def,rest:n})}}i.create=(n,f)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new i({items:n,typeName:Y.ZodTuple,rest:null,...Q(f)})};class Jn extends q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.parsedType!==G.object)return h(t,{code:v.invalid_type,expected:G.object,received:t.parsedType}),W;const r=[],g=this._def.keyType,l=this._def.valueType;for(let m in t.data)r.push({key:g._parse(new I(t,m,t.path,m)),value:l._parse(new I(t,t.data[m],t.path,m)),alwaysSet:m in t.data});if(t.common.async)return L.mergeObjectAsync(f,r);else return L.mergeObjectSync(f,r)}get element(){return this._def.valueType}static create(n,f,t){if(f instanceof q)return new Jn({keyType:n,valueType:f,typeName:Y.ZodRecord,...Q(t)});return new Jn({keyType:K.create(),valueType:n,typeName:Y.ZodRecord,...Q(f)})}}class Mn extends q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.parsedType!==G.map)return h(t,{code:v.invalid_type,expected:G.map,received:t.parsedType}),W;const r=this._def.keyType,g=this._def.valueType,l=[...t.data.entries()].map(([m,u],a)=>{return{key:r._parse(new I(t,m,t.path,[a,"key"])),value:g._parse(new I(t,u,t.path,[a,"value"]))}});if(t.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(let u of l){const a=await u.key,e=await u.value;if(a.status==="aborted"||e.status==="aborted")return W;if(a.status==="dirty"||e.status==="dirty")f.dirty();m.set(a.value,e.value)}return{status:f.value,value:m}})}else{const m=new Map;for(let u of l){const{key:a,value:e}=u;if(a.status==="aborted"||e.status==="aborted")return W;if(a.status==="dirty"||e.status==="dirty")f.dirty();m.set(a.value,e.value)}return{status:f.value,value:m}}}}Mn.create=(n,f,t)=>{return new Mn({valueType:f,keyType:n,typeName:Y.ZodMap,...Q(t)})};class un extends q{_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.parsedType!==G.set)return h(t,{code:v.invalid_type,expected:G.set,received:t.parsedType}),W;const r=this._def;if(r.minSize!==null){if(t.data.size<r.minSize.value)h(t,{code:v.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),f.dirty()}if(r.maxSize!==null){if(t.data.size>r.maxSize.value)h(t,{code:v.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),f.dirty()}const g=this._def.valueType;function l(u){const a=new Set;for(let e of u){if(e.status==="aborted")return W;if(e.status==="dirty")f.dirty();a.add(e.value)}return{status:f.value,value:a}}const m=[...t.data.values()].map((u,a)=>g._parse(new I(t,u,t.path,a)));if(t.common.async)return Promise.all(m).then((u)=>l(u));else return l(m)}min(n,f){return new un({...this._def,minSize:{value:n,message:N.toString(f)}})}max(n,f){return new un({...this._def,maxSize:{value:n,message:N.toString(f)}})}size(n,f){return this.min(n,f).max(n,f)}nonempty(n){return this.min(1,n)}}un.create=(n,f)=>{return new un({valueType:n,minSize:null,maxSize:null,typeName:Y.ZodSet,...Q(f)})};class cn extends q{constructor(){super(...arguments);this.validate=this.implement}_parse(n){const{ctx:f}=this._processInputParams(n);if(f.parsedType!==G.function)return h(f,{code:v.invalid_type,expected:G.function,received:f.parsedType}),W;function t(m,u){return On({data:m,path:f.path,errorMaps:[f.common.contextualErrorMap,f.schemaErrorMap,Rn(),an].filter((a)=>!!a),issueData:{code:v.invalid_arguments,argumentsError:u}})}function r(m,u){return On({data:m,path:f.path,errorMaps:[f.common.contextualErrorMap,f.schemaErrorMap,Rn(),an].filter((a)=>!!a),issueData:{code:v.invalid_return_type,returnTypeError:u}})}const g={errorMap:f.common.contextualErrorMap},l=f.data;if(this._def.returns instanceof mn){const m=this;return O(async function(...u){const a=new D([]),e=await m._def.args.parseAsync(u,g).catch((J)=>{throw a.addIssue(t(u,J)),a}),b=await Reflect.apply(l,this,e);return await m._def.returns._def.type.parseAsync(b,g).catch((J)=>{throw a.addIssue(r(b,J)),a})})}else{const m=this;return O(function(...u){const a=m._def.args.safeParse(u,g);if(!a.success)throw new D([t(u,a.error)]);const e=Reflect.apply(l,this,a.data),b=m._def.returns.safeParse(e,g);if(!b.success)throw new D([r(e,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...n){return new cn({...this._def,args:i.create(n).rest(Z.create())})}returns(n){return new cn({...this._def,returns:n})}implement(n){return this.parse(n)}strictImplement(n){return this.parse(n)}static create(n,f,t){return new cn({args:n?n:i.create([]).rest(Z.create()),returns:f||Z.create(),typeName:Y.ZodFunction,...Q(t)})}}class Gn extends q{get schema(){return this._def.getter()}_parse(n){const{ctx:f}=this._processInputParams(n);return this._def.getter()._parse({data:f.data,path:f.path,parent:f})}}Gn.create=(n,f)=>{return new Gn({getter:n,typeName:Y.ZodLazy,...Q(f)})};class Nn extends q{_parse(n){if(n.data!==this._def.value){const f=this._getOrReturnCtx(n);return h(f,{received:f.data,code:v.invalid_literal,expected:this._def.value}),W}return{status:"valid",value:n.data}}get value(){return this._def.value}}Nn.create=(n,f)=>{return new Nn({value:n,typeName:Y.ZodLiteral,...Q(f)})};class fn extends q{constructor(){super(...arguments);Wn.set(this,void 0)}_parse(n){if(typeof n.data!=="string"){const f=this._getOrReturnCtx(n),t=this._def.values;return h(f,{expected:H.joinValues(t),received:f.parsedType,code:v.invalid_type}),W}if(!Un(this,Wn,"f"))eg(this,Wn,new Set(this._def.values),"f");if(!Un(this,Wn,"f").has(n.data)){const f=this._getOrReturnCtx(n),t=this._def.values;return h(f,{received:f.data,code:v.invalid_enum_value,options:t}),W}return O(n.data)}get options(){return this._def.values}get enum(){const n={};for(let f of this._def.values)n[f]=f;return n}get Values(){const n={};for(let f of this._def.values)n[f]=f;return n}get Enum(){const n={};for(let f of this._def.values)n[f]=f;return n}extract(n,f=this._def){return fn.create(n,{...this._def,...f})}exclude(n,f=this._def){return fn.create(this.options.filter((t)=>!n.includes(t)),{...this._def,...f})}}Wn=new WeakMap;fn.create=Ng;class _n extends q{constructor(){super(...arguments);Bn.set(this,void 0)}_parse(n){const f=H.getValidEnumValues(this._def.values),t=this._getOrReturnCtx(n);if(t.parsedType!==G.string&&t.parsedType!==G.number){const r=H.objectValues(f);return h(t,{expected:H.joinValues(r),received:t.parsedType,code:v.invalid_type}),W}if(!Un(this,Bn,"f"))eg(this,Bn,new Set(H.getValidEnumValues(this._def.values)),"f");if(!Un(this,Bn,"f").has(n.data)){const r=H.objectValues(f);return h(t,{received:t.data,code:v.invalid_enum_value,options:r}),W}return O(n.data)}get enum(){return this._def.values}}Bn=new WeakMap;_n.create=(n,f)=>{return new _n({values:n,typeName:Y.ZodNativeEnum,...Q(f)})};class mn extends q{unwrap(){return this._def.type}_parse(n){const{ctx:f}=this._processInputParams(n);if(f.parsedType!==G.promise&&f.common.async===!1)return h(f,{code:v.invalid_type,expected:G.promise,received:f.parsedType}),W;const t=f.parsedType===G.promise?f.data:Promise.resolve(f.data);return O(t.then((r)=>{return this._def.type.parseAsync(r,{path:f.path,errorMap:f.common.contextualErrorMap})}))}}mn.create=(n,f)=>{return new mn({type:n,typeName:Y.ZodPromise,...Q(f)})};class V extends q{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){const{status:f,ctx:t}=this._processInputParams(n),r=this._def.effect||null,g={addIssue:(l)=>{if(h(t,l),l.fatal)f.abort();else f.dirty()},get path(){return t.path}};if(g.addIssue=g.addIssue.bind(g),r.type==="preprocess"){const l=r.transform(t.data,g);if(t.common.async)return Promise.resolve(l).then(async(m)=>{if(f.value==="aborted")return W;const u=await this._def.schema._parseAsync({data:m,path:t.path,parent:t});if(u.status==="aborted")return W;if(u.status==="dirty")return bn(u.value);if(f.value==="dirty")return bn(u.value);return u});else{if(f.value==="aborted")return W;const m=this._def.schema._parseSync({data:l,path:t.path,parent:t});if(m.status==="aborted")return W;if(m.status==="dirty")return bn(m.value);if(f.value==="dirty")return bn(m.value);return m}}if(r.type==="refinement"){const l=(m)=>{const u=r.refinement(m,g);if(t.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(t.common.async===!1){const m=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});if(m.status==="aborted")return W;if(m.status==="dirty")f.dirty();return l(m.value),{status:f.value,value:m.value}}else return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then((m)=>{if(m.status==="aborted")return W;if(m.status==="dirty")f.dirty();return l(m.value).then(()=>{return{status:f.value,value:m.value}})})}if(r.type==="transform")if(t.common.async===!1){const l=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});if(!Qn(l))return l;const m=r.transform(l.value,g);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:f.value,value:m}}else return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then((l)=>{if(!Qn(l))return l;return Promise.resolve(r.transform(l.value,g)).then((m)=>({status:f.value,value:m}))});H.assertNever(r)}}V.create=(n,f,t)=>{return new V({schema:n,typeName:Y.ZodEffects,effect:f,...Q(t)})};V.createWithPreprocess=(n,f,t)=>{return new V({schema:f,effect:{type:"preprocess",transform:n},typeName:Y.ZodEffects,...Q(t)})};class x extends q{_parse(n){if(this._getType(n)===G.undefined)return O(void 0);return this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}x.create=(n,f)=>{return new x({innerType:n,typeName:Y.ZodOptional,...Q(f)})};class y extends q{_parse(n){if(this._getType(n)===G.null)return O(null);return this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}y.create=(n,f)=>{return new y({innerType:n,typeName:Y.ZodNullable,...Q(f)})};class Tn extends q{_parse(n){const{ctx:f}=this._processInputParams(n);let t=f.data;if(f.parsedType===G.undefined)t=this._def.defaultValue();return this._def.innerType._parse({data:t,path:f.path,parent:f})}removeDefault(){return this._def.innerType}}Tn.create=(n,f)=>{return new Tn({innerType:n,typeName:Y.ZodDefault,defaultValue:typeof f.default==="function"?f.default:()=>f.default,...Q(f)})};class Xn extends q{_parse(n){const{ctx:f}=this._processInputParams(n),t={...f,common:{...f.common,issues:[]}},r=this._def.innerType._parse({data:t.data,path:t.path,parent:{...t}});if(qn(r))return r.then((g)=>{return{status:"valid",value:g.status==="valid"?g.value:this._def.catchValue({get error(){return new D(t.common.issues)},input:t.data})}});else return{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new D(t.common.issues)},input:t.data})}}removeCatch(){return this._def.innerType}}Xn.create=(n,f)=>{return new Xn({innerType:n,typeName:Y.ZodCatch,catchValue:typeof f.catch==="function"?f.catch:()=>f.catch,...Q(f)})};class wn extends q{_parse(n){if(this._getType(n)!==G.nan){const t=this._getOrReturnCtx(n);return h(t,{code:v.invalid_type,expected:G.nan,received:t.parsedType}),W}return{status:"valid",value:n.data}}}wn.create=(n)=>{return new wn({typeName:Y.ZodNaN,...Q(n)})};var wr=Symbol("zod_brand");class Vn extends q{_parse(n){const{ctx:f}=this._processInputParams(n),t=f.data;return this._def.type._parse({data:t,path:f.path,parent:f})}unwrap(){return this._def.type}}class zn extends q{_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.common.async)return(async()=>{const g=await this._def.in._parseAsync({data:t.data,path:t.path,parent:t});if(g.status==="aborted")return W;if(g.status==="dirty")return f.dirty(),bn(g.value);else return this._def.out._parseAsync({data:g.value,path:t.path,parent:t})})();else{const r=this._def.in._parseSync({data:t.data,path:t.path,parent:t});if(r.status==="aborted")return W;if(r.status==="dirty")return f.dirty(),{status:"dirty",value:r.value};else return this._def.out._parseSync({data:r.value,path:t.path,parent:t})}}static create(n,f){return new zn({in:n,out:f,typeName:Y.ZodPipeline})}}class Yn extends q{_parse(n){const f=this._def.innerType._parse(n),t=(r)=>{if(Qn(r))r.value=Object.freeze(r.value);return r};return qn(f)?f.then((r)=>t(r)):t(f)}unwrap(){return this._def.innerType}}Yn.create=(n,f)=>{return new Yn({innerType:n,typeName:Y.ZodReadonly,...Q(f)})};var zr={object:z.lazycreate},Y;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Y||(Y={}));var Cr=(n,f={message:`Input not instance of ${n.name}`})=>_g((t)=>t instanceof n,f),Tg=K.create,Xg=d.create,Fr=wn.create,Lr=nn.create,Yg=Sn.create,jr=rn.create,Rr=An.create,Or=$n.create,Ur=en.create,Dr=ln.create,Vr=Z.create,Kr=P.create,Er=Hn.create,xr=E.create,Ir=z.create,kr=z.strictCreate,Pr=vn.create,ir=Dn.create,pr=hn.create,yr=i.create,sr=Jn.create,Zr=Mn.create,dr=un.create,nl=cn.create,fl=Gn.create,tl=Nn.create,gl=fn.create,rl=_n.create,ll=mn.create,Sg=V.create,ul=x.create,ml=y.create,ol=V.createWithPreprocess,bl=zn.create,cl=()=>Tg().optional(),al=()=>Xg().optional(),Sl=()=>Yg().optional(),$l={string:(n)=>K.create({...n,coerce:!0}),number:(n)=>d.create({...n,coerce:!0}),boolean:(n)=>Sn.create({...n,coerce:!0}),bigint:(n)=>nn.create({...n,coerce:!0}),date:(n)=>rn.create({...n,coerce:!0})},el=W,Kn=Object.freeze({__proto__:null,defaultErrorMap:an,setErrorMap:er,getErrorMap:Rn,makeIssue:On,EMPTY_PATH:vr,addIssueToContext:h,ParseStatus:L,INVALID:W,DIRTY:bn,OK:O,isAborted:rf,isDirty:lf,isValid:Qn,isAsync:qn,get util(){return H},get objectUtil(){return gf},ZodParsedType:G,getParsedType:s,ZodType:q,datetimeRegex:Gg,ZodString:K,ZodNumber:d,ZodBigInt:nn,ZodBoolean:Sn,ZodDate:rn,ZodSymbol:An,ZodUndefined:$n,ZodNull:en,ZodAny:ln,ZodUnknown:Z,ZodNever:P,ZodVoid:Hn,ZodArray:E,ZodObject:z,ZodUnion:vn,ZodDiscriminatedUnion:Dn,ZodIntersection:hn,ZodTuple:i,ZodRecord:Jn,ZodMap:Mn,ZodSet:un,ZodFunction:cn,ZodLazy:Gn,ZodLiteral:Nn,ZodEnum:fn,ZodNativeEnum:_n,ZodPromise:mn,ZodEffects:V,ZodTransformer:V,ZodOptional:x,ZodNullable:y,ZodDefault:Tn,ZodCatch:Xn,ZodNaN:wn,BRAND:wr,ZodBranded:Vn,ZodPipeline:zn,ZodReadonly:Yn,custom:_g,Schema:q,ZodSchema:q,late:zr,get ZodFirstPartyTypeKind(){return Y},coerce:$l,any:Dr,array:xr,bigint:Lr,boolean:Yg,date:jr,discriminatedUnion:ir,effect:Sg,enum:gl,function:nl,instanceof:Cr,intersection:pr,lazy:fl,literal:tl,map:Zr,nan:Fr,nativeEnum:rl,never:Kr,null:Ur,nullable:ml,number:Xg,object:Ir,oboolean:Sl,onumber:al,optional:ul,ostring:cl,pipeline:bl,preprocess:ol,promise:ll,record:sr,set:dr,strictObject:kr,string:Tg,symbol:Rr,transformer:Sg,tuple:yr,undefined:Or,union:Pr,unknown:Vr,void:Er,NEVER:el,ZodIssueCode:v,quotelessJson:$r,ZodError:D});var Cn;(function(e){e[e["DOWN_LEFT"]=1]="DOWN_LEFT";e[e["DOWN_CENTER"]=2]="DOWN_CENTER";e[e["DOWN_RIGHT"]=3]="DOWN_RIGHT";e[e["CENTER_LEFT"]=4]="CENTER_LEFT";e[e["CENTER_CENTER"]=5]="CENTER_CENTER";e[e["CENTER_RIGHT"]=6]="CENTER_RIGHT";e[e["UP_LEFT"]=7]="UP_LEFT";e[e["UP_CENTER"]=8]="UP_CENTER";e[e["UP_RIGHT"]=9]="UP_RIGHT"})(Cn||(Cn={}));var Wg=Kn.nativeEnum(Cn);var Fn;(function(A){A[A["ANSI"]=0]="ANSI";A[A["DEFAULT"]=1]="DEFAULT";A[A["SYMBOL"]=2]="SYMBOL";A[A["MAC"]=77]="MAC";A[A["SHIFT_JIS"]=128]="SHIFT_JIS";A[A["HANGEUL"]=129]="HANGEUL";A[A["JOHAB"]=130]="JOHAB";A[A["GB2312"]=134]="GB2312";A[A["CHINESE_BIG5"]=136]="CHINESE_BIG5";A[A["GREEK"]=161]="GREEK";A[A["TURKISH"]=162]="TURKISH";A[A["VIETNAMESE"]=163]="VIETNAMESE";A[A["HEBREW"]=177]="HEBREW";A[A["ARAB"]=178]="ARAB";A[A["BALTIC"]=186]="BALTIC";A[A["RUSSIAN"]=204]="RUSSIAN";A[A["THAI"]=222]="THAI";A[A["EASTERN_EUROPE"]=238]="EASTERN_EUROPE";A[A["OEM"]=255]="OEM"})(Fn||(Fn={}));var Bg=Kn.nativeEnum(Fn);function Qg(){return{format:"Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text",lines:[]}}function qg(n){let f="[Events]";f+=`\nFormat: ${n.format}`;for(let t of n.lines)f+=`\n${Ag(t)}`;return f}function Hg(){return{data:[]}}function Jg(n){let f="[Aegisub Extradata]";for(let t of n.data)f+=`\nData: ${t}`;return f}function Mg(n){let f=`fontname: ${n.name}`;for(let t of n.data)f+=`\n${t}`;return f}function wg(){return{files:[]}}function zg(n){let f="[Fonts]\n",t=0;for(let r of n.files){if(t>0)f+="\n\n";f+=Mg(r),t++}return f+="\n",f}function Cg(n){let f=`filename: ${n.name}`;for(let t of n.data)f+=`\n${t}`;return f}function Fg(){return{files:[]}}function Lg(n){let f="[Graphics]\n",t=0;for(let r of n.files){if(t>0)f+="\n\n";f+=Cg(r),t++}return f}function jg(){return{comments:[],properties:new Map}}function Rg(n){let f="[Aegisub Project Garbage]";for(let t of n.comments)f+=`\n; ${t}`;for(let[t,r]of n.properties)f+=`\n${t}: ${r}`;return f}var vu="Automation Scripts",hu="Export Filters",Gu="Export Encoding",Nu="Last Style Storage",_u="Audio File",Tu="Video File",Xu="Timecodes File",Yu="Keyframes File",Wu="Video AR Mode",Bu="Video AR Value",Qu="Video Zoom Percent",qu="Scroll Position",Au="Active Line",Hu="Video Position";function Og(){return{comments:[],properties:new Map}}function Ug(n){let f="[Script Info]";for(let t of n.comments)f+=`\n; ${t}`;for(let[t,r]of n.properties)f+=`\n${t}: ${r}`;return f}var Mu="Title",wu="ScriptType",zu="WrapStyle",Cu="PlayResX",Fu="PlayResY",Lu="ScaledBorderAndShadow",ju="YCbCr Matrix",Ru="Original Script",Ou="Original Translation",Uu="Original Editing",Du="Original Timing",Vu="Synch Point",Ku="Script Updated By",Eu="Update Details";function Dg(n){let f=`Style: ${n.name}`;return f+=`,${n.fontName}`,f+=`,${n.fontSize}`,f+=`,${n.primaryAlpha}`,f+=`,${n.primaryColor}`,f+=`,${n.secondaryAlpha}`,f+=`,${n.secondaryColor}`,f+=`,${n.outlineAlpha}`,f+=`,${n.outlineColor}`,f+=`,${n.backAlpha}`,f+=`,${n.backColor}`,f+=`,${n.bold}`,f+=`,${n.italic}`,f+=`,${n.underline}`,f+=`,${n.strikeOut}`,f+=`,${n.scaleX}`,f+=`,${n.scaleY}`,f+=`,${n.spacing}`,f+=`,${n.angle}`,f+=`,${n.borderStyle}`,f+=`,${n.outline}`,f+=`,${n.shadow}`,f+=`,${n.alignment}`,f+=`,${n.marginLeft}`,f+=`,${n.marginRight}`,f+=`,${n.marginVertical}`,f+=`,${n.encoding}`,f}function Vg(){return{format:"Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding",styles:[]}}function yu(){return{format:"Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding",styles:[{name:"Default",fontName:"Arial",fontSize:20,primaryAlpha:"&H00FFFFFF",primaryColor:"&H000000FF",secondaryAlpha:"&H00000000",secondaryColor:"&H00000000",outlineAlpha:"",outlineColor:"",backAlpha:"",backColor:"",bold:0,italic:0,underline:0,strikeOut:0,scaleX:100,scaleY:100,spacing:0,angle:0,borderStyle:1,outline:2,shadow:2,alignment:Cn.DOWN_CENTER,marginLeft:10,marginRight:10,marginVertical:10,encoding:Fn.DEFAULT}]}}function Kg(n){let f="[V4+ Styles]";f+=`\nFormat: ${n.format}`;for(let t of n.styles)f+=`\n${Dg(t)}`;return f}function vm(n){let f="";return f+=Ug(n.scriptInfo),f+="\n\n"+Rg(n.aegisubProjectGarbage),f+="\n\n"+Kg(n.styles),f+="\n\n"+zg(n.fonts),f+="\n\n"+Lg(n.graphics),f+="\n\n"+qg(n.events),f+="\n\n"+Jg(n.extraData),f+="\n",f}function hm(n){const f={scriptInfo:Og(),aegisubProjectGarbage:jg(),styles:Vg(),fonts:wg(),graphics:Fg(),events:Qg(),extraData:Hg()};let e="",b="";const S=n.split("\n");for(let J=0;J<S.length;J++){const M=Yl(S[J]);if(M.length===0)continue;switch(M){case vl:e="scriptInfo";continue;case hl:e="projectGarbage";continue;case Gl:e="styles";continue;case _l:e="fonts";continue;case Nl:e="graphics";continue;case Tl:e="events";continue;case Xl:e="extraData";continue}let k="";switch(e){case"scriptInfo":k=Wl(f,M);break;case"projectGarbage":k=Bl(f,M);break;case"styles":k=Ql(f,M);break;case"fonts":b=ql(f,M,b);break;case"graphics":b=Al(f,M,b);break;case"events":k=Hl(f,M);break;case"extraData":Jl(f,M);break;default:break}if(k.length>0)return console.error(`failed to parse ass file at line ${J+1}: ${k}\nLine:\n${M}`),null}return f}var Yl=function(n){return n.replaceAll("\\uFEFF","")},xn=function(n){const f=/(?<key>.+):\s+(?<value>.*)\s*/,t={key:"",value:""},r=n.match(f);if(!r||r.length===0)return[t,`not a key-value pair: ${n}`];return t.key=r.groups?.key??"",t.value=r.groups?.value??"",[t,""]},Wl=function(n,f){if(f.startsWith(En)){const g=f.substring(En.length);return n.scriptInfo.comments.push(g),""}const[t,r]=xn(f);if(r.length>0)return`failed to parse script info line: ${r}`;return n.scriptInfo.properties.set(t.key,t.value),""},Bl=function(n,f){if(f.startsWith(En)){const g=f.substring(En.length);return n.aegisubProjectGarbage.comments.push(g),""}const[t,r]=xn(f);if(r.length>0)return`failed to parse script info line: ${r}`;return n.aegisubProjectGarbage.properties.set(t.key,t.value),""},Ql=function(n,f){const t=/(?<name>.*)\s*,\s*(?<fontName>.*)\s*,\s*(?<fontSize>\d+(?:\.\d+)?)\s*,\s*&H(?<alpha1>[A-Fa-f0-9]{2})(?<color1>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha2>[A-Fa-f0-9]{2})(?<color2>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha3>[A-Fa-f0-9]{2})(?<color3>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha4>[A-Fa-f0-9]{2})(?<color4>[A-Fa-f0-9]{6})\s*,\s*(?<bold>0|-1)\s*,\s*(?<italic>0|-1)\s*,\s*(?<underline>0|-1)\s*,\s*(?<strikeout>0|-1)\s*,\s*(?<scaleX>\d+(?:\.\d+)?)\s*,\s*(?<scaleY>\d+(?:\.\d+)?)\s*,\s*(?<spacing>\d+(?:\.\d+)?)\s*,\s*(?<angle>-?\d+(?:\.\d+)?)\s*,\s*(?<borderStyle>\d+)\s*,\s*(?<outline>\d+(?:\.\d+)?)\s*,\s*(?<shadow>\d+(?:\.\d+)?)\s*,\s*(?<alignment>[1-9])\s*,\s*(?<marginLeft>\d+)\s*,\s*(?<marginRight>\d+)\s*,\s*(?<marginVertical>\d+)\s*,\s*(?<encoding>\d+)/;if(!f.startsWith("Style: "))return"";const r=f.match(t);if(!r||r.length===0||!r.groups)return`failed to parse style: not a style: ${f}`;const g=Wg.safeParse(Number(r.groups.alignment));if(!g.success)return`failed to parse style: invalid alignment: ${f}`;const l=g.data,m=Bg.safeParse(Number(r.groups.encoding));if(!m.success)return`failed to parse style: invalid encoding: ${r.groups.encoding}`;const u=m.data,a={name:r.groups.name??"",fontName:r.groups.fontName??"",fontSize:Number(r.groups.fontSize??"0"),primaryAlpha:r.groups.alpha1,primaryColor:r.groups.color1,secondaryAlpha:r.groups.alpha2,secondaryColor:r.groups.color2,outlineAlpha:r.groups.alpha3,outlineColor:r.groups.color3,backAlpha:r.groups.alpha4,backColor:r.groups.color4,bold:Number(r.groups.bold),italic:Number(r.groups.italic),underline:Number(r.groups.underline),strikeOut:Number(r.groups.strikeout),scaleX:Number(r.groups.scaleX),scaleY:Number(r.groups.scaleY),spacing:Number(r.groups.spacing),angle:Number(r.groups.angle),borderStyle:Number(r.groups.borderStyle),outline:Number(r.groups.outline),shadow:Number(r.groups.shadow),alignment:l,marginLeft:Number(r.groups.marginLeft),marginRight:Number(r.groups.marginRight),marginVertical:Number(r.groups.marginVertical),encoding:u};return n.styles.styles.push(a),""},ql=function(n,f,t){const[r,g]=xn(f);if(g.length===0&&r.key=="fontname"){const u=r.value;let a={name:"",data:[]},e=n.fonts.files.findIndex((b)=>b.name===u);return n.fonts.files.push(a),e=n.fonts.files.length-1,a=n.fonts.files[e],a.name=u,t=u,u}const l=n.fonts.files.findLastIndex((u)=>u.name==t);if(l<0)return"";return n.fonts.files[l].data.push(f),t},Al=function(n,f,t){const[r,g]=xn(f);if(g.length===0&&r.key=="filename"){const u=r.value;let a={name:"",data:[]},e=n.graphics.files.findIndex((b)=>b.name===u);return n.graphics.files.push(a),e=n.graphics.files.length-1,a=n.graphics.files[e],a.name=u,t=u,u}const l=n.graphics.files.findLastIndex((u)=>u.name==t);if(l<0)return"";return n.graphics.files[l].data.push(f),t},Hl=function(n,f){if(f.startsWith("Format:"))return n.events.format=f,"";const t=xg(f);if(t==null)return`not a event (dialogue / comment): ${t}`;return n.events.lines.push(t),""},Jl=function(n,f){if(!f.startsWith(Eg))return;const t=f.substring(Eg.length);n.extraData.data.push(t)},vl="[Script Info]",hl="[Aegisub Project Garbage]",Gl="[V4+ Styles]",Nl="[Graphics]",_l="[Fonts]",Tl="[Events]",Xl="[Aegisub Extradata]",En="; ",Eg="Data: ";function Ym(n){const f=[],t=n.content.split(" ");for(let a=0;a<t.length;a++){const e=t[a];if(Ml(e)){const b=e.matchAll(sn);for(let S of b)f.push({text:S[1],durationInMs:0})}else f.push({text:e,durationInMs:0});if(a!=t.length-1)f[f.length-1].text+=" "}const r=kg(n),g=Math.floor(Math.round(r*100/f.length)),l=f.length*g;for(let a of f)a.durationInMs=g;if(l!==r*100){const e=r*100-l;f[f.length-1].durationInMs+=e}const u=[];for(let a of f)u.push({name:"effect",tags:[{name:o.kf,value:a.durationInMs}]},{name:"text",value:a.text});n.content=Ig(u)}function Ml(n){while(n.length>0){const f=n.match(sn);if(!f||f.length===0)return!1;n=n.substring(f[0].length)}return!0}function Ln(n,f){const t=n.substring(1),r=n.match(Zn);if(r&&r.length>0)return wl(n,f,t,r);const g=n.match(bf);if(g&&g.length>0){const b=g[0];if(f.push({name:o.text,value:b}),n=n.substring(b.length),n.length>0)Ln(n,f);return f}const l=n.match(bg);if(!l||l.length==0)return f;function m(b,S,J){if(b.push(S),n=n.substring(J),n.length>0)Ln(n,b);return b}let u=l[0].match(gg)?.groups;if(u!=null){const b=Number(u?.move_x1??"0"),S=Number(u?.move_y1??"0"),J=Number(u?.move_x2??"0"),M=Number(u?.move_y2??"0"),k=u?.move_t1?Number(u.move_t1):null,In=u?.move_t2?Number(u.move_t2):null,kn={name:o.move,x1:b,y1:S,x2:J,y2:M,t1:k,t2:In};return m(f,kn,l[0].length)}if(u=l[0].match(qf)?.groups,u!=null){const b=u?.alpha_value??"",S={name:o.alpha,value:b};return m(f,S,l[0].length)}if(u=l[0].match(Gt)?.groups,u!=null){const b=Number(u?.xbord_value??"0"),S={name:o.xbord,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(_t)?.groups,u!=null){const b=Number(u?.ybord_value??"0"),S={name:o.ybord,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Wt)?.groups,u!=null){const b=Number(u?.xshad_value??"0"),S={name:o.xshad,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Qt)?.groups,u!=null){const b=Number(u?.yshad_value??"0"),S={name:o.yshad,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(mg)?.groups,u!=null){const b=u?.iclip_args??"",S={name:o.iclip,drawCommands:b};return m(f,S,l[0].length)}if(u=l[0].match($t)?.groups,u!=null){const b=Number(u?.blur_value??"0"),S={name:o.blur,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(vt)?.groups,u!=null){const b=Number(u?.bord_value??"0"),S={name:o.bord,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Xt)?.groups,u!=null){const b=Number(u?.shad_value??"0"),S={name:o.shad,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(wt)?.groups,u!=null){const b=Number(u?.fscx_value??"0"),S={name:o.fscx,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Ct)?.groups,u!=null){const b=Number(u?.fscy_value??"0"),S={name:o.fscy,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(fg)?.groups,u!=null){const b=Number(u?.fade_alpha1??"0"),S=Number(u?.fade_alpha2??"0"),J=Number(u?.fade_alpha3??"0"),M=Number(u?.fade_t1??"0"),k=Number(u?.fade_t2??"0"),In=Number(u?.fade_t3??"0"),kn=Number(u?.fade_t4??"0"),ig={name:o.fade,alpha1:b,alpha2:S,alpha3:J,t1:M,t2:k,t3:In,t4:kn};return m(f,ig,l[0].length)}if(u=l[0].match(lg)?.groups,u!=null){const b=u?.clip_args??"",S={name:o.clip,drawCommands:b};return m(f,S,l[0].length)}if(u=l[0].match(Lt)?.groups,u!=null){const b=Number(u?.fsp_value??"0"),S={name:o.fsp,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(pt)?.groups,u!=null){const b=Number(u?.pos_x??"0"),S=Number(u?.pos_y??"0"),J={name:o.pos,x:b,y:S};return m(f,J,l[0].length)}if(u=l[0].match(st)?.groups,u!=null){const b=Number(u?.org_x??"0"),S=Number(u?.org_y??"0"),J={name:o.org,x:b,y:S};return m(f,J,l[0].length)}if(u=l[0].match(dt)?.groups,u!=null){const b=Number(u?.in??"0"),S=Number(u?.out??"0"),J={name:o.fad,in:b,out:S};return m(f,J,l[0].length)}if(u=l[0].match(Ut)?.groups,u!=null){const b=Number(u?.frx_value??"0"),S={name:o.frx,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Vt)?.groups,u!=null){const b=Number(u?.fry_value??"0"),S={name:o.fry,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Et)?.groups,u!=null){const b=Number(u?.frz_value??"0"),S={name:o.frz,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(At)?.groups,u!=null){const b=Number(u?.fax_value??"0"),S={name:o.fax,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Jt)?.groups,u!=null){const b=Number(u?.fay_value??"0"),S={name:o.fay,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(lt)?.groups,u!=null){const b=Number(u?.pbo_value??"0"),S={name:o.pbo,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(df)?.groups,u!=null){const b=Number(u?.fe_value??"0"),S={name:o.fe,encodingId:Number(b)};return m(f,S,l[0].length)}if(u=l[0].match(ft)?.groups,u!=null){const b=u?.fn_value??"",S={name:o.fn,font:b};return m(f,S,l[0].length)}if(u=l[0].match(mt)?.groups,u!=null){const b=Number(u?.an_value??"0"),S={name:o.an,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(at)?.groups,u!=null){const b=Number(u?.be_value??"0"),S={name:o.be,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Rt)?.groups,u!=null){const b=Number(u?.fr_value??"0"),S={name:o.fr,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Pt)?.groups,u!=null){const b=Number(u?.fs_value??"0"),S={name:o.fs,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Kf)?.groups,u!=null){const b=Number(u?.ko_value??"0"),S={name:o.ko,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Df)?.groups,u!=null){const b=Number(u?.kf_value??"0"),S={name:o.kf,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Xf)?.groups,u!=null){const b=Number(F(u?.color1_bgr_blue??"0")),S=Number(F(u?.color1_bgr_green??"0")),J=Number(F(u?.color1_bgr_red??"0")),M={name:o.color1,blue:b,green:S,red:J};return m(f,M,l[0].length)}if(u=l[0].match(Yf)?.groups,u!=null){const b=Number(F(u?.color2_bgr_blue??"0")),S=Number(F(u?.color2_bgr_green??"0")),J=Number(F(u?.color2_bgr_red??"0")),M={name:o.color2,blue:b,green:S,red:J};return m(f,M,l[0].length)}if(u=l[0].match(Wf)?.groups,u!=null){const b=Number(F(u?.color3_bgr_blue??"0")),S=Number(F(u?.color3_bgr_green??"0")),J=Number(F(u?.color3_bgr_red??"0")),M={name:o.color3,blue:b,green:S,red:J};return m(f,M,l[0].length)}if(u=l[0].match(Bf)?.groups,u!=null){const b=Number(F(u?.color4_bgr_blue??"0")),S=Number(F(u?.color4_bgr_green??"0")),J=Number(F(u?.color4_bgr_red??"0")),M={name:o.color4,blue:b,green:S,red:J};return m(f,M,l[0].length)}if(u=l[0].match(Hf)?.groups,u!=null){const b=u.alpha1_value??"",S={name:o.alpha1,value:b};return m(f,S,l[0].length)}if(u=l[0].match(Mf)?.groups,u!=null){const b=u.alpha2_value??"",S={name:o.alpha2,value:b};return m(f,S,l[0].length)}if(u=l[0].match(zf)?.groups,u!=null){const b=u.alpha3_value??"",S={name:o.alpha3,value:b};return m(f,S,l[0].length)}if(u=l[0].match(Ff)?.groups,u!=null){const b=u.alpha4_value??"",S={name:o.alpha4,value:b};return m(f,S,l[0].length)}if(u=l[0].match(jf)?.groups,u!=null){const b=Number(u?.k_lower_case_value??"0"),S={name:o.kLowerCase,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Of)?.groups,u!=null){const b=Number(u?.k_upper_case_value??"0"),S={name:o.kUpperCase,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(xf)?.groups,u!=null){const b=Number(u?.q_value??"0"),S={name:o.q,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(kf)?.groups,u!=null){const b=Number(u?.s_value??"0"),S={name:o.s,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(pf)?.groups,u!=null){const b=Number(u?.u_value??"0"),S={name:o.u,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(sf)?.groups,u!=null){const b=u?.r_value??"",S={name:o.r,style:b};return m(f,S,l[0].length)}if(u=l[0].match(gt)?.groups,u!=null){const b=Number(u?.p_value??"0"),S={name:o.p,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(It)?.groups,u!=null){const b=Number(u?.i_value??"0"),S={name:o.i,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Tf)?.groups,u!=null){const b=Number(F(u?.color_bgr_blue??"0")),S=Number(F(u?.color_bgr_green??"0")),J=Number(F(u?.color_bgr_red??"0")),M={name:o.color,blue:b,green:S,red:J};return m(f,M,l[0].length)}if(u=l[0].match(bt)?.groups,u!=null){const b=Number(u?.b_value??"0"),S={name:o.b,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}if(u=l[0].match(Sf)?.groups,u!=null){const b=Number(u?.a_value??"0"),S={name:o.a,value:Number.isNaN(b)?0:b};return m(f,S,l[0].length)}const a=l[0],e={name:o.unknown,value:a};return m(f,e,l[0].length)}var wl=function(n,f,t,r){if(t.startsWith(o.t)){const g=r[0].match(Zn)?.groups,l=g?.tags??"",m=[];Ln(l,m);const u=g?.arg1?Number(g.arg1):null,a=g?.arg2?Number(g.arg2):null,e=g?.arg3?Number(g.arg3):null,b={name:o.t,accel:null,t1:null,t2:null,tags:m};if(u!==null&&a!==null&&e!==null)b.t1=u,b.t2=a,b.accel=e;else if(u!==null&&a!==null&&e===null)b.t1=u,b.t2=a,b.accel=null;else if(u!==null)b.accel=u;f.push(b)}if(n=n.substring(r[0].length),n.length>0)Ln(n,f);return f};function Am(n){const f=[],t=n.matchAll(of);for(let r of t){if(r.groups?.fx){const g=r.groups.fx.substring(1,r.groups.fx.length-1),l=[];Ln(g,l),f.push({name:"effect",tags:l});continue}if(r.groups?.txt){f.push({name:"text",value:r.groups?.txt});continue}}return f}function Pg(n){let f="";for(let t of n.tags)switch(t.name){case o.t:{const r={name:"effect",tags:t.tags},g=Pg(r);if(t.t1!==null&&t.t2!==null&&t.accel!==null)f+=`\\t(${t.t1},${t.t2},${t.accel},${g})`;else if(t.t1!==null&&t.t2!==null&&t.accel===null)f+=`\\t(${t.t1},${t.t2},${g})`;else if(t.accel!==null)f+=`\\t(${t.accel},${g})`;else f+=`\\t(${g})`;break}case o.pos:case o.org:f+=`\\${t.name}(${t.x},${t.y})`;break;case o.move:if(f+=`\\move(${t.x1},${t.y1},${t.x2},${t.y2}`,t.t1!=null&&t.t2!=null)f+=`,${t.t1},${t.t2}`;f+=")";break;case o.clip:case o.iclip:f+=`\\${t.name}(${t.drawCommands})`;break;case o.fad:f+=`\\fad(${t.in},${t.out})`;break;case o.fade:f+=`\\fade(${t.alpha1},${t.alpha2},${t.alpha3},${t.t1},${t.t2},${t.t3},${t.t4})`;break;case o.fe:f+=`\\fe${t.encodingId}`;break;case o.fn:f+=`\\fn${t.font}`;break;case o.r:f+=`\\r${t.style}`;break;case o.color:case o.color1:case o.color2:case o.color3:case o.color4:{const r=jn(t.blue),g=jn(t.green),l=jn(t.red);f+=`\\${t.name}&H${r}${g}${l}&`;break}case o.text:case o.unknown:f+=t.value;break;default:f+=`\\${t.name}${t.value}`;break}return f}function Ig(n){let f="";for(let t of n){if(t.name=="text"){f+=t.value;continue}f+="{"+Pg(t)+"}"}return f}function Hm(n){const f=[];for(let t=0;t<n.length;t++){const r=n[t];if(r.name!="effect")continue;const g=n[t+1];if(g.name!="effect"){t++;continue}if(g==null)break;r.tags.push(...g.tags),f.push(t+1)}for(let t of f)n.splice(t,1)}function Jm(n,f){zl(n,(t)=>{switch(t.name){case o.t:{if(t.accel!=null)t.accel=C(t.accel,f);if(t.t1!=null)t.t1=C(t.t1,f);if(t.t2!=null)t.t2=C(t.t2,f);break}case o.pos:case o.org:t.x=C(t.x,f),t.y=C(t.y,f);break;case o.move:if(t.x1=C(t.x1,f),t.y1=C(t.y1,f),t.x2=C(t.x2,f),t.y2=C(t.y2,f),t.t1!=null)t.t1=C(t.t1,f);if(t.t2!=null)t.t2=C(t.t2,f);break;case o.fad:t.in=C(t.in,f),t.out=C(t.out,f);break;case o.fade:t.t1=C(t.t1,f),t.t2=C(t.t2,f),t.t3=C(t.t3,f),t.t4=C(t.t4,f),t.alpha1=C(t.alpha1,f),t.alpha2=C(t.alpha2,f),t.alpha3=C(t.alpha3,f);break;case o.fe:t.encodingId=Math.floor(t.encodingId);break;case o.color:case o.color1:case o.color2:case o.color3:case o.color4:t.blue=Math.floor(t.blue),t.green=Math.floor(t.green),t.red=Math.floor(t.red);break;case o.clip:case o.iclip:case o.fn:case o.r:case o.text:case o.unknown:break;default:if(typeof t.value==="number")t.value=C(t.value,f);break}})}function zl(n,f){for(let t of n){if(t.name!="effect")continue;for(let r of t.tags)f(r)}}function Mm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.a,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function wm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.b,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function zm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.color,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Cm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.color1,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Fm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.color2,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Lm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.color3,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function jm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.color4,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Rm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.alpha,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Om(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.alpha1,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Um(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.alpha2,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Dm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.alpha3,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Vm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.alpha4,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Km(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.an,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Em(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.be,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function xm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.blur,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Im(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.bord,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function km(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.xbord,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Pm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.ybord,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function im(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.shad,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function pm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.xshad,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function ym(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.yshad,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function sm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fr,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Zm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.frx,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function dm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fry,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function no(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.frz,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function fo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fax,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function to(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fay,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function go(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.p,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function ro(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.pbo,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function lo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.q,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function uo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.s,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function mo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.u,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function oo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.r,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function bo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fe,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function co(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fn,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function ao(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fscx,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function So(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fscy,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function $o(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fsp,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function eo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.kLowerCase,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function vo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.kUpperCase,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function ho(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.ko,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Go(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.kf,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function No(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.i,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function _o(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fs,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function To(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.pos,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Xo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.org,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Yo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fad,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Wo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fade,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Bo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.clip,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Qo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.iclip,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function qo(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.move,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Ao(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.t,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Ho(n,f){const t={name:o.a,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Jo(n,f){const t={name:o.an,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Mo(n,f){const t={name:o.b,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function wo(n,f,t,r){const g={name:o.color,blue:f,green:t,red:r},[l,m]=X(n,g.name,g);if(!l)m.blue=f,m.green=t,m.red=r;return m}function zo(n,f,t,r){const g={name:o.color1,blue:f,green:t,red:r},[l,m]=X(n,g.name,g);if(!l)m.blue=f,m.green=t,m.red=r;return m}function Co(n,f,t,r){const g={name:o.color2,blue:f,green:t,red:r},[l,m]=X(n,g.name,g);if(!l)m.blue=f,m.green=t,m.red=r;return m}function Fo(n,f,t,r){const g={name:o.color3,blue:f,green:t,red:r},[l,m]=X(n,g.name,g);if(!l)m.blue=f,m.green=t,m.red=r;return m}function Lo(n,f,t,r){const g={name:o.color4,blue:f,green:t,red:r},[l,m]=X(n,g.name,g);if(!l)m.blue=f,m.green=t,m.red=r;return m}function jo(n,f){const t={name:o.alpha,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Ro(n,f){const t={name:o.alpha1,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Oo(n,f){const t={name:o.alpha2,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Uo(n,f){const t={name:o.alpha3,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Do(n,f){const t={name:o.alpha4,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Vo(n,f){const t={name:o.blur,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Ko(n,f){const t={name:o.bord,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Eo(n,f){const t={name:o.xbord,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function xo(n,f){const t={name:o.ybord,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Io(n,f){const t={name:o.fax,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function ko(n,f){const t={name:o.fay,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Po(n,f){const t={name:o.fscx,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function io(n,f){const t={name:o.fscy,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function po(n,f){const t={name:o.fsp,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function yo(n,f){const t={name:o.fe,encodingId:f},[r,g]=X(n,t.name,t);if(!r)g.encodingId=f;return g}function so(n,f){const t={name:o.fn,font:f},[r,g]=X(n,t.name,t);if(!r)g.font=f;return g}function Zo(n,f){const t={name:o.kLowerCase,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function nb(n,f){const t={name:o.kUpperCase,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function fb(n,f){const t={name:o.kf,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function tb(n,f){const t={name:o.ko,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function gb(n,f){const t={name:o.p,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function rb(n,f){const t={name:o.pbo,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function lb(n,f){const t={name:o.q,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function ub(n,f){const t={name:o.s,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function mb(n,f){const t={name:o.shad,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function ob(n,f){const t={name:o.xshad,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function bb(n,f){const t={name:o.yshad,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function cb(n,f){const t={name:o.u,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function ab(n,f){const t={name:o.be,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Sb(n,f){const t={name:o.fs,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function $b(n,f){const t={name:o.fr,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function eb(n,f){const t={name:o.frx,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function vb(n,f){const t={name:o.fry,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function hb(n,f){const t={name:o.frz,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Gb(n,f){const t={name:o.i,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Nb(n,f){const t={name:o.r,style:f},[r,g]=X(n,t.name,t);if(!r)g.style=f;return g}function _b(n,f,t){const r={name:o.pos,x:f,y:t},[g,l]=X(n,r.name,r);if(!g)l.x=f,l.y=t;return l}function Tb(n,f,t){const r={name:o.org,x:f,y:t},[g,l]=X(n,r.name,r);if(!g)l.x=f,l.y=t;return l}function Xb(n,f,t){const r={name:o.fad,in:f,out:t},[g,l]=X(n,r.name,r);if(!g)l.in=f,l.out=t;return l}function Yb(n,f,t,r,g,l,m,u){const a={name:o.fade,alpha1:f,alpha2:t,alpha3:r,t1:g,t2:l,t3:m,t4:u},[e,b]=X(n,a.name,a);if(!e)b.alpha1=f,b.alpha2=t,b.alpha3=r,b.t1=g,b.t2=l,b.t3=m,b.t4=u;return b}function Wb(n,f){const t={name:o.clip,drawCommands:f},[r,g]=X(n,t.name,t);if(!r)g.drawCommands=f;return g}function Bb(n,f){const t={name:o.iclip,drawCommands:f},[r,g]=X(n,t.name,t);if(!r)g.drawCommands=f;return g}function Qb(n,f,t,r,g,l=null,m=null){const u={name:o.move,x1:f,y1:t,x2:r,y2:g,t1:l,t2:m},[a,e]=X(n,u.name,u);if(!a)e.x1=f,e.y1=t,e.x2=r,e.y2=g,e.t1=l,e.t2=m;return e}function qb(n,f,t=null,r=null,g=null){const l={name:o.t,t1:r,t2:g,accel:t,tags:f},[m,u]=X(n,l.name,l);if(!m)u.t1=r,u.t2=g,u.accel=t,u.tags=f;return u}function Ab(n){return[{name:"effect",tags:n}]}function Hb(n){const f=n.find((t)=>t.name==="effect");if(f==null||f.name!="effect")return[];return f.tags}var X=function(n,f,t){const r=n.find((l)=>l.name=="effect");if(r?.name!="effect")return n.unshift({name:"effect",tags:[t]}),[!0,t];const g=r.tags.find((l)=>l.name==f);if(g?.name!=f)return r.tags.push(t),[!0,t];return[!1,g]};function Jb(n,f){const t=n.find((g)=>g.name=="effect");if(t?.name!="effect")return;const r=t.tags.findIndex((g)=>g.name===f);if(r<0)return;t.tags.splice(r,1)}function xg(n){const f=n.match(cf);if(f==null)return null;const t=f.groups,r=dn(t?.start??"");if(r==null)return null;const g=dn(t?.end??"");if(g==null)return null;return{type:t?.type??"",layer:Number(t?.layer??"0"),start:r,end:g,style:t?.style??"",actor:t?.actor??"",marginLeft:Number(t?.marginLeft??"0"),marginRight:Number(t?.marginRight??"0"),marginVertical:Number(t?.marginVertical??"0"),effect:t?.effect??"",content:t?.content??""}}function Ag(n){let f=n.type;return f+=": ",f+=Math.floor(n.layer),f+=",",f+=ff(n.start),f+=",",f+=ff(n.end),f+=",",f+=n.style,f+=",",f+=n.actor,f+=",",f+=Math.floor(n.marginLeft),f+=",",f+=Math.floor(n.marginRight),f+=",",f+=Math.floor(n.marginVertical),f+=",",f+=n.effect,f+=",",f+=n.content,f}function kg(n){return gn(n.end)-gn(n.start)}function Mb(n){const f=n.match(_f);if(f==null)return null;const t=f.groups;return{blue:F(t?.color_bgr_blue??""),green:F(t?.color_bgr_green??""),red:F(t?.color_bgr_red??"")}}function wb(){return{type:"Dialogue",layer:0,start:{hours:0,minutes:0,seconds:0},end:{hours:0,minutes:0,seconds:5},style:"Default",actor:"",marginLeft:0,marginRight:0,marginVertical:0,effect:"",content:""}}var o;(function($){$["a"]="a";$["alpha"]="alpha";$["alpha1"]="1a";$["alpha2"]="2a";$["alpha3"]="3a";$["alpha4"]="4a";$["an"]="an";$["b"]="b";$["be"]="be";$["blur"]="blur";$["bord"]="bord";$["clip"]="clip";$["color"]="c";$["color1"]="1c";$["color2"]="2c";$["color3"]="3c";$["color4"]="4c";$["fad"]="fad";$["fade"]="fade";$["fax"]="fax";$["fay"]="fay";$["fe"]="fe";$["fn"]="fn";$["fr"]="fr";$["frx"]="frx";$["fry"]="fry";$["frz"]="frz";$["fs"]="fs";$["fscx"]="fscx";$["fscy"]="fscy";$["fsp"]="fsp";$["i"]="i";$["iclip"]="iclip";$["kLowerCase"]="k";$["kUpperCase"]="K";$["kf"]="kf";$["ko"]="ko";$["move"]="move";$["org"]="org";$["p"]="p";$["pbo"]="pbo";$["pos"]="pos";$["q"]="q";$["r"]="r";$["s"]="s";$["shad"]="shad";$["t"]="t";$["text"]="text";$["u"]="u";$["unknown"]="unknown";$["xbord"]="xbord";$["xshad"]="xshad";$["ybord"]="ybord";$["yshad"]="yshad"})(o||(o={}));export{Jm as truncateNumberTags,C as truncate,ff as timeToString,gn as timeToSeconds,Ab as tagsToItems,pl as sumTimes,yl as subtractTimes,Dg as styleToString,Ym as splitSyllabes,bb as setYshad,xo as setYbord,ob as setXshad,Eo as setXbord,cb as setU,qb as setT,mb as setShad,ub as setS,Nb as setR,lb as setQ,_b as setPos,rb as setPbo,gb as setP,Tb as setOrg,Qb as setMove,tb as setKo,fb as setKf,nb as setKUpperCase,Zo as setKLowerCase,Bb as setIclip,Gb as setI,po as setFsp,io as setFscy,Po as setFscx,Sb as setFs,hb as setFrz,vb as setFry,eb as setFrx,$b as setFr,so as setFn,yo as setFe,ko as setFay,Io as setFax,Yb as setFade,Xb as setFad,Lo as setColor4,Fo as setColor3,Co as setColor2,zo as setColor1,wo as setColor,Wb as setClip,Ko as setBord,Vo as setBlur,ab as setBe,Mo as setB,Jo as setAn,Do as setAlpha4,Uo as setAlpha3,Oo as setAlpha2,Ro as setAlpha1,jo as setAlpha,Ho as setA,Kg as sectionStylesToString,Ug as sectionScriptInfoToString,Rg as sectionProjectGarbageToString,Lg as sectionGraphicsToString,zg as sectionFontsToString,Jg as sectionExtraDataToString,qg as sectionEventsToString,cg as secondsToTime,Jb as removeTag,dn as parseTime,Ln as parseTags,xg as parseLine,Am as parseContent,Mb as parseColorBGR,hm as parseASSFile,jn as numberToHex,Vg as newSectionStyles,Fg as newSectionGraphics,wg as newSectionFonts,Hg as newSectionExtraData,Qg as newSectionEvents,Og as newScriptInfo,jg as newProjectGarbage,Hm as mergeNeighboringEffects,Ag as lineToString,Hb as itemsToTags,Ml as isRomajiWord,Cl as interpolate,F as hexToNumber,yu as generateDefaultSectionStyles,wb as generateDefaultLine,zl as forEachTag,ym as findYshad,Pm as findYbord,pm as findXshad,km as findXbord,mo as findU,Ao as findT,im as findShad,uo as findS,oo as findR,lo as findQ,To as findPos,ro as findPbo,go as findP,Xo as findOrg,qo as findMove,ho as findKo,Go as findKf,vo as findKUpperCase,eo as findKLowerCase,Qo as findIclip,No as findI,$o as findFsp,So as findFscy,ao as findFscx,_o as findFs,no as findFrz,dm as findFry,Zm as findFrx,sm as findFr,co as findFn,bo as findFe,to as findFay,fo as findFax,Wo as findFade,Yo as findFad,jm as findColor4,Lm as findColor3,Fm as findColor2,Cm as findColor1,zm as findColor,Bo as findClip,Im as findBord,xm as findBlur,Em as findBe,wm as findB,Km as findAn,Vm as findAlpha4,Dm as findAlpha3,Um as findAlpha2,Om as findAlpha1,Rm as findAlpha,Mm as findA,Ig as contentsToString,Pg as contentEffectToString,kg as calculateLineDurationInSeconds,nf as adjustTimeOverplus,o as TagName,ju as ScriptInfoPropertyYCbCrMatrix,zu as ScriptInfoPropertyWrapStyle,Eu as ScriptInfoPropertyUpdateDetails,Mu as ScriptInfoPropertyTitle,Vu as ScriptInfoPropertySynchPoint,Ku as ScriptInfoPropertyScriptUpdatedBy,wu as ScriptInfoPropertyScriptType,Lu as ScriptInfoPropertyScaledBorderAndShadow,Fu as ScriptInfoPropertyPlayResY,Cu as ScriptInfoPropertyPlayResX,Ou as ScriptInfoPropertyOriginalTranslation,Du as ScriptInfoPropertyOriginalTiming,Ru as ScriptInfoPropertyOriginalScript,Uu as ScriptInfoPropertyOriginalEditing,Qu as ProjectGarbagePropertyVideoZoomPercent,Hu as ProjectGarbagePropertyVideoPosition,Tu as ProjectGarbagePropertyVideoFile,Bu as ProjectGarbagePropertyVideoARValue,Wu as ProjectGarbagePropertyVideoARMode,Xu as ProjectGarbagePropertyTimecodesFile,qu as ProjectGarbagePropertyScrollPosition,Nu as ProjectGarbagePropertyLastStyleStorage,Yu as ProjectGarbagePropertyKeyframesFile,hu as ProjectGarbagePropertyExportFilters,Gu as ProjectGarbagePropertyExportEncoding,vu as ProjectGarbagePropertyAutomationScripts,_u as ProjectGarbagePropertyAudioFile,Au as ProjectGarbagePropertyActiveLine,Fn as Encodings,Bg as Encoding,Cg as AttachedGraphicToString,Mg as AttachedFontToString,Cn as Alignments,Wg as Alignment,vm as ASSFileToString};

//# debugId=0AB2C3BFE752A04264756e2164756e21
