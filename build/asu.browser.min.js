function z(n){return parseInt(n,16)}function Fn(n){return Math.floor(n).toString(16).padStart(2,"0").toUpperCase()}function Cm(n,f,g){let a=n>f,t=f,m=n;if(a)t=n,m=f;let r=(t-m)/g,o=m,b=[m];for(let u=1;u<g;u++)o+=r,b.push(o);if(b[g-1]=t,a)b.reverse();return b}function w(n,f){f=Math.floor(f);let g=`(-?\\d+.?\\d{1,${f}})`,a=new RegExp(g),t=n.toString().match(a);if(!t||t.length===0)return n;return Number(t[0])}var Pt=/^(\(.*\)|\\?.)$/,gn=(n)=>{let f=n.toString();return Pt.test(f)?f:`(?:${f})`},pt=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,yt=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/,W=(n)=>{let f=(g)=>W(`(?<${g}>${`${n}`.replace(pt,"$1$2")})`);return{toString:()=>n.toString(),and:Object.assign((...g)=>W(`${n}${e(...g)}`),{referenceTo:(g)=>W(`${n}\\k<${g}>`)}),or:(...g)=>W(`(?:${n}|${e(...g)})`),after:(...g)=>W(`(?<=${e(...g)})${n}`),before:(...g)=>W(`${n}(?=${e(...g)})`),notAfter:(...g)=>W(`(?<!${e(...g)})${n}`),notBefore:(...g)=>W(`${n}(?!${e(...g)})`),times:Object.assign((g)=>W(`${gn(n)}{${g}}`),{any:()=>W(`${gn(n)}*`),atLeast:(g)=>W(`${gn(n)}{${g},}`),atMost:(g)=>W(`${gn(n)}{0,${g}}`),between:(g,a)=>W(`${gn(n)}{${g},${a}}`)}),optionally:()=>W(`${gn(n)}?`),as:f,groupedAs:f,grouped:()=>W(`${n}`.replace(yt,"($1$3)$2")),at:{lineStart:()=>W(`^${n}`),lineEnd:()=>W(`${n}$`)}}},st=/[.*+?^${}()|[\]\\/]/g;var F=(n)=>W(`[^${n.replace(/[-\\^\]]/g,"\\$&")}]`),En=(...n)=>W(`(?:${n.map((f)=>e(f)).join("|")})`),xn=W("."),Zt=W("\\b\\w+\\b"),dt=W("\\w"),na=W("\\b"),O=W("\\d"),fa=W("\\s"),In=Object.assign(W("[a-zA-Z]"),{lowercase:W("[a-z]"),uppercase:W("[A-Z]")}),ga=W("\\t"),ta=W("\\n"),aa=W("\\r"),ma={word:W("\\W+"),wordChar:W("\\W"),wordBoundary:W("\\B"),digit:W("\\D"),whitespace:W("\\S"),letter:Object.assign(W("[^a-zA-Z]"),{lowercase:W("[^a-z]"),uppercase:W("[^A-Z]")}),tab:W("[^\\t]"),linefeed:W("[^\\n]"),carriageReturn:W("[^\\r]")};var e=(...n)=>W(n.map((f)=>typeof f==="string"?f.replace(st,"\\$&"):f).join("")),J=(...n)=>W(`${gn(e(...n))}+`);var v=(...n)=>{let f=n.length>1&&(Array.isArray(n[n.length-1])||n[n.length-1]instanceof Set)?n.pop():void 0;return new RegExp(e(...n).toString(),[...f||""].join(""))};var lf=/(?<fx>{[^{]*})|(?<txt>{*[^{]*)/g,uf=/^[^\\]+/g,kn=/(?<sil>(?:sha|shi|shu|she|sho|cha|chi|chu|che|cho|tsu|kya|kyi|kyu|kye|kyo|gya|gyi|gyu|gye|gyo|sya|syu|syi|sye|syo|zya|zyu|zyi|zye|zyo|jya|jyu|jyi|jye|jyo|tya|tyi|tyu|tye|tyo|dya|dyi|dyu|dye|dyo|nya|nyi|nyu|nye|nyo|hya|hyi|hyu|hye|hyo|fya|fyi|fyu|fye|fyo|bya|byi|byu|bye|byo|pya|pyi|pyu|pye|pyo|mya|myi|myu|mye|myo|rya|ryi|ryu|rye|ryo|vya|vyi|vyu|vye|vyo|ka|ki|ku|ke|ko|ga|gi|gu|ge|go|sa|su|si|se|so|za|zu|zi|ze|zo|ja|ju|ji|je|jo|ta|ti|tu|te|to|da|di|du|de|do|na|ni|nu|ne|no|ha|hi|hu|he|ho|fa|fi|fu|fe|fo|ba|bi|bu|be|bo|pa|pi|pu|pe|po|ma|mi|mu|me|mo|ya|yi|yu|ye|yo|ra|ri|ru|re|ro|wa|wo|va|vi|vu|ve|vo|a|i|u|e|o|n|t)[^a-zA-Z\d\s:]*\s?)/g,rf=J(O).and(e(":")).and(O.times(2)).and(e(":")).and(O.times(2)).and(e(".")).and(O.times(2)),ra=En("Dialogue","Comment").groupedAs("type").and(e(": ")).and(J(O).optionally().groupedAs("layer")).and(e(",")).and(rf.optionally().groupedAs("start")).and(e(",")).and(rf.optionally().groupedAs("end")).and(e(",")).and(J(F(",").optionally()).groupedAs("style")).and(e(",")).and(J(F(",")).optionally().groupedAs("actor")).and(e(",")).and(J(O).optionally().groupedAs("marginLeft")).and(e(",")).and(J(O).optionally().groupedAs("marginRight")).and(e(",")).and(J(O).optionally().groupedAs("marginVertical")).and(e(",")).and(J(F(",")).optionally().groupedAs("effect")).and(e(",")).and(J(xn).optionally().groupedAs("content")),ef=v(ra),la=e("-").optionally().and(J(O)),G=la.and(e(".").and(J(O)).optionally()),of=e("\\").and("a").and(G.groupedAs("a_value")),bf=v(of),L=In.or(O).times(2),Nf=e("&H").and(L.groupedAs("color_bgr_blue")).and(L.groupedAs("color_bgr_green")).and(L.groupedAs("color_bgr_red")).and(e("&")),Tf=e("\\c").and(Nf),cf=e("\\1c").and(e("&H")).and(L.groupedAs("color1_bgr_blue")).and(L.groupedAs("color1_bgr_green")).and(L.groupedAs("color1_bgr_red")).and(e("&")),Sf=e("\\2c").and(e("&H")).and(L.groupedAs("color2_bgr_blue")).and(L.groupedAs("color2_bgr_green")).and(L.groupedAs("color2_bgr_red")).and(e("&")),$f=e("\\3c").and(e("&H")).and(L.groupedAs("color3_bgr_blue")).and(L.groupedAs("color3_bgr_green")).and(L.groupedAs("color3_bgr_red")).and(e("&")),vf=e("\\4c").and(e("&H")).and(L.groupedAs("color4_bgr_blue")).and(L.groupedAs("color4_bgr_green")).and(L.groupedAs("color4_bgr_red")).and(e("&")),hf=v(Nf),Gf=v(Tf),_f=v(cf),Xf=v(Sf),Yf=v($f),Wf=v(vf),Bf=e("\\").and("alpha").and(J(F("\\")).groupedAs("alpha_value")),Qf=v(Bf),Af=e("\\").and("1a").and(J(F("\\")).groupedAs("alpha1_value")),qf=v(Af),Hf=e("\\").and("2a").and(J(F("\\")).groupedAs("alpha2_value")),Jf=v(Hf),Mf=e("\\").and("3a").and(J(F("\\")).groupedAs("alpha3_value")),wf=v(Mf),zf=e("\\").and("4a").and(J(F("\\")).groupedAs("alpha4_value")),Cf=v(zf),Ff=e("\\").and("k").and(G.groupedAs("k_lower_case_value")),Lf=v(Ff),jf=e("\\").and("K").and(G.groupedAs("k_upper_case_value")),Rf=v(jf),Of=e("\\").and("kf").and(G.groupedAs("kf_value")),Uf=v(Of),Df=e("\\").and("ko").and(G.groupedAs("ko_value")),Vf=v(Df),Kf=e("\\").and("q").and(G.groupedAs("q_value")),Ef=v(Kf),xf=e("\\").and("s").and(G.groupedAs("s_value")),If=v(xf),kf=e("\\").and("u").and(G.groupedAs("u_value")),Pf=v(kf),pf=e("\\").and("r").and(J(F("\\")).groupedAs("r_value")),yf=v(pf),sf=e("\\").and("fe").and(G.groupedAs("fe_value")),Zf=v(sf),df=e("\\").and("fn").and(J(F("\\")).groupedAs("fn_value")),ng=v(df),fg=e("\\").and("p").and(G.groupedAs("p_value")),gg=v(fg),tg=e("\\").and("pbo").and(G.groupedAs("pbo_value")),ag=v(tg),mg=e("\\").and("an").and(G.groupedAs("an_value")),rg=v(mg),lg=e("\\").and("b").and(G.groupedAs("b_value")),ug=v(lg),eg=e("\\").and("be").and(G.groupedAs("be_value")),og=v(eg),bg=e("\\").and("blur").and(G.groupedAs("blur_value")),Ng=v(bg),Tg=e("\\").and("bord").and(G.groupedAs("bord_value")),cg=v(Tg),Sg=e("\\").and("xbord").and(G.groupedAs("xbord_value")),$g=v(Sg),vg=e("\\").and("ybord").and(G.groupedAs("ybord_value")),hg=v(vg),Gg=e("\\").and("shad").and(G.groupedAs("shad_value")),_g=v(Gg),Xg=e("\\").and("xshad").and(G.groupedAs("xshad_value")),Yg=v(Xg),Wg=e("\\").and("yshad").and(G.groupedAs("yshad_value")),Bg=v(Wg),Qg=e("\\").and("fax").and(G.groupedAs("fax_value")),Ag=v(Qg),qg=e("\\").and("fay").and(G.groupedAs("fay_value")),Hg=v(qg),Jg=e("\\").and("fscx").and(G.groupedAs("fscx_value")),Mg=v(Jg),wg=e("\\").and("fscy").and(G.groupedAs("fscy_value")),zg=v(wg),Cg=e("\\").and("fsp").and(G.groupedAs("fsp_value")),Fg=v(Cg),Lg=e("\\").and("fr").and(G.groupedAs("fr_value")),jg=v(Lg),Rg=e("\\").and("frx").and(G.groupedAs("frx_value")),Og=v(Rg),Ug=e("\\").and("fry").and(G.groupedAs("fry_value")),Dg=v(Ug),Vg=e("\\").and("frz").and(G.groupedAs("frz_value")),Kg=v(Vg),Eg=e("\\").and("i").and(e("1").or("0").groupedAs("i_value")),xg=v(Eg),Ig=e("\\").and("fs").and(G.groupedAs("fs_value")),kg=v(Ig),ig=e("\\").and("pos").and(e("(")).and(G.groupedAs("pos_x")).and(e(",")).and(G.groupedAs("pos_y")).and(e(")")),Pg=v(ig),pg=e("\\").and("org").and(e("(")).and(G.groupedAs("org_x")).and(e(",")).and(G.groupedAs("org_y")).and(e(")")),yg=v(pg),sg=e("\\").and("fad").and(e("(")).and(G.groupedAs("in")).and(e(",")).and(G.groupedAs("out")).and(e(")")),Zg=v(sg),dg=e("\\").and("fade").and(e("(")).and(G.groupedAs("fade_alpha1")).and(e(",")).and(G.groupedAs("fade_alpha2")).and(e(",")).and(G.groupedAs("fade_alpha3")).and(e(",")).and(G.groupedAs("fade_t1")).and(e(",")).and(G.groupedAs("fade_t2")).and(e(",")).and(G.groupedAs("fade_t3")).and(e(",")).and(G.groupedAs("fade_t4")).and(e(")")),nt=v(dg),ua=e(",").and(G.groupedAs("move_t1")).and(e(",")).and(G.groupedAs("move_t2")).optionally(),ft=e("\\").and("move").and(e("(")).and(G.groupedAs("move_x1")).and(e(",")).and(G.groupedAs("move_y1")).and(e(",")).and(G.groupedAs("move_x2")).and(e(",")).and(G.groupedAs("move_y2")).and(ua).and(e(")")),gt=v(ft),tt=e("\\").and("clip").and(e("(")).and(J(F(")")).groupedAs("clip_args")).and(e(")")),at=v(tt),mt=e("\\").and("iclip").and(e("(")).and(J(F(")")).groupedAs("iclip_args")).and(e(")")),rt=v(mt),ea=e("\\").and(J(F("\\")).groupedAs("unknown_value")),lt=eg.or(Bf).or(Sg).or(vg).or(Xg).or(Wg).or(mt).or(ft).or(bg).or(Tg).or(Gg).or(Jg).or(wg).or(dg).or(tt).or(Cg).or(ig).or(pg).or(sg).or(tg).or(Rg).or(Ug).or(Vg).or(Qg).or(qg).or(Df).or(Of).or(Lg).or(Ig).or(sf).or(df).or(mg).or(cf).or(Sf).or($f).or(vf).or(Af).or(Hf).or(Mf).or(zf).or(Tf).or(Kf).or(kf).or(xf).or(fg).or(pf).or(Eg).or(lg).or(of).or(Ff).or(jf).or(ea),oa=e("\\").at.lineStart().and("t").and(e("(")).and(G.groupedAs("arg1").and(e(",")).optionally()).and(G.groupedAs("arg2").and(e(",")).optionally()).and(G.groupedAs("arg3").and(e(",")).optionally()).and(J(lt).groupedAs("tags")).and(e(")")),ut=v(lt),Pn=v(oa);function et(n){let f=Math.floor(n/3600),g=Math.floor((n/3600-f)*60);return n=n-f*3600-g*60,{hours:f,minutes:g,seconds:n}}function pn(n){let f=/(?<h>\d+):(?<m>[0-9]{1,2}?):(?<s>[0-9]{1,2}(?:\.[0-9]{1,2})?)/,g=n.match(f);if(!g||g.length===0)return null;let a=Math.floor(Number(g.groups?.h??"0")),t=Math.floor(Number(g.groups?.m??"0")),m=Number(g.groups?.s??"0"),l={hours:a,minutes:t,seconds:m};return yn(l),l}function yn(n){if(n.seconds>=60)n.seconds-=60,n.minutes++;if(n.minutes>=60)n.minutes-=60,n.hours++;if(n.hours>=9)n.hours=9,n.minutes=59,n.seconds=59.99}function sn(n){yn(n);let f=n.hours.toFixed(0),g=n.minutes.toFixed(0).padStart(2,"0"),a=n.seconds.toFixed(2).padStart(5,"0");return`${f}:${g}:${a}`}function tn(n){return yn(n),n.hours*3600+n.minutes*60+n.seconds}function pm(n,f){let g=tn(n),a=tn(f),t=g+a;return et(t)}function ym(n,f){let g=tn(n),a=tn(f),t=g-a;return et(t)}var q;(function(n){n.assertEqual=(t)=>t;function f(t){}n.assertIs=f;function g(t){throw new Error}n.assertNever=g,n.arrayToEnum=(t)=>{let m={};for(let l of t)m[l]=l;return m},n.getValidEnumValues=(t)=>{let m=n.objectKeys(t).filter((r)=>typeof t[t[r]]!=="number"),l={};for(let r of m)l[r]=t[r];return n.objectValues(l)},n.objectValues=(t)=>{return n.objectKeys(t).map(function(m){return t[m]})},n.objectKeys=typeof Object.keys==="function"?(t)=>Object.keys(t):(t)=>{let m=[];for(let l in t)if(Object.prototype.hasOwnProperty.call(t,l))m.push(l);return m},n.find=(t,m)=>{for(let l of t)if(m(l))return l;return},n.isInteger=typeof Number.isInteger==="function"?(t)=>Number.isInteger(t):(t)=>typeof t==="number"&&isFinite(t)&&Math.floor(t)===t;function a(t,m=" | "){return t.map((l)=>typeof l==="string"?`'${l}'`:l).join(m)}n.joinValues=a,n.jsonStringifyReplacer=(t,m)=>{if(typeof m==="bigint")return m.toString();return m}})(q||(q={}));var dn;(function(n){n.mergeShapes=(f,g)=>{return{...f,...g}}})(dn||(dn={}));var S=q.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),s=(n)=>{switch(typeof n){case"undefined":return S.undefined;case"string":return S.string;case"number":return isNaN(n)?S.nan:S.number;case"boolean":return S.boolean;case"function":return S.function;case"bigint":return S.bigint;case"symbol":return S.symbol;case"object":if(Array.isArray(n))return S.array;if(n===null)return S.null;if(n.then&&typeof n.then==="function"&&n.catch&&typeof n.catch==="function")return S.promise;if(typeof Map!=="undefined"&&n instanceof Map)return S.map;if(typeof Set!=="undefined"&&n instanceof Set)return S.set;if(typeof Date!=="undefined"&&n instanceof Date)return S.date;return S.object;default:return S.unknown}},T=q.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Na=(n)=>{return JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:")};class U extends Error{constructor(n){super();this.issues=[],this.addIssue=(g)=>{this.issues=[...this.issues,g]},this.addIssues=(g=[])=>{this.issues=[...this.issues,...g]};let f=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,f);else this.__proto__=f;this.name="ZodError",this.issues=n}get errors(){return this.issues}format(n){let f=n||function(t){return t.message},g={_errors:[]},a=(t)=>{for(let m of t.issues)if(m.code==="invalid_union")m.unionErrors.map(a);else if(m.code==="invalid_return_type")a(m.returnTypeError);else if(m.code==="invalid_arguments")a(m.argumentsError);else if(m.path.length===0)g._errors.push(f(m));else{let l=g,r=0;while(r<m.path.length){let o=m.path[r];if(r!==m.path.length-1)l[o]=l[o]||{_errors:[]};else l[o]=l[o]||{_errors:[]},l[o]._errors.push(f(m));l=l[o],r++}}};return a(this),g}static assert(n){if(!(n instanceof U))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,q.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=(f)=>f.message){let f={},g=[];for(let a of this.issues)if(a.path.length>0)f[a.path[0]]=f[a.path[0]]||[],f[a.path[0]].push(n(a));else g.push(n(a));return{formErrors:g,fieldErrors:f}}get formErrors(){return this.flatten()}}U.create=(n)=>{return new U(n)};var bn=(n,f)=>{let g;switch(n.code){case T.invalid_type:if(n.received===S.undefined)g="Required";else g=`Expected ${n.expected}, received ${n.received}`;break;case T.invalid_literal:g=`Invalid literal value, expected ${JSON.stringify(n.expected,q.jsonStringifyReplacer)}`;break;case T.unrecognized_keys:g=`Unrecognized key(s) in object: ${q.joinValues(n.keys,", ")}`;break;case T.invalid_union:g="Invalid input";break;case T.invalid_union_discriminator:g=`Invalid discriminator value. Expected ${q.joinValues(n.options)}`;break;case T.invalid_enum_value:g=`Invalid enum value. Expected ${q.joinValues(n.options)}, received '${n.received}'`;break;case T.invalid_arguments:g="Invalid function arguments";break;case T.invalid_return_type:g="Invalid function return type";break;case T.invalid_date:g="Invalid date";break;case T.invalid_string:if(typeof n.validation==="object")if("includes"in n.validation){if(g=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position==="number")g=`${g} at one or more positions greater than or equal to ${n.validation.position}`}else if("startsWith"in n.validation)g=`Invalid input: must start with "${n.validation.startsWith}"`;else if("endsWith"in n.validation)g=`Invalid input: must end with "${n.validation.endsWith}"`;else q.assertNever(n.validation);else if(n.validation!=="regex")g=`Invalid ${n.validation}`;else g="Invalid";break;case T.too_small:if(n.type==="array")g=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`;else if(n.type==="string")g=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`;else if(n.type==="number")g=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`;else if(n.type==="date")g=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`;else g="Invalid input";break;case T.too_big:if(n.type==="array")g=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`;else if(n.type==="string")g=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`;else if(n.type==="number")g=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`;else if(n.type==="bigint")g=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`;else if(n.type==="date")g=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`;else g="Invalid input";break;case T.custom:g="Invalid input";break;case T.invalid_intersection_types:g="Intersection results could not be merged";break;case T.not_multiple_of:g=`Number must be a multiple of ${n.multipleOf}`;break;case T.not_finite:g="Number must be finite";break;default:g=f.defaultError,q.assertNever(n)}return{message:g}},Nt=bn;function Ta(n){Nt=n}function Ln(){return Nt}var jn=(n)=>{let{data:f,path:g,errorMaps:a,issueData:t}=n,m=[...g,...t.path||[]],l={...t,path:m};if(t.message!==void 0)return{...t,path:m,message:t.message};let r="",o=a.filter((b)=>!!b).slice().reverse();for(let b of o)r=b(l,{data:f,defaultError:r}).message;return{...t,path:m,message:r}},ca=[];function c(n,f){let g=Ln(),a=jn({issueData:f,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,g,g===bn?void 0:bn].filter((t)=>!!t)});n.common.issues.push(a)}class C{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(n,f){let g=[];for(let a of f){if(a.status==="aborted")return Y;if(a.status==="dirty")n.dirty();g.push(a.value)}return{status:n.value,value:g}}static async mergeObjectAsync(n,f){let g=[];for(let a of f){let t=await a.key,m=await a.value;g.push({key:t,value:m})}return C.mergeObjectSync(n,g)}static mergeObjectSync(n,f){let g={};for(let a of f){let{key:t,value:m}=a;if(t.status==="aborted")return Y;if(m.status==="aborted")return Y;if(t.status==="dirty")n.dirty();if(m.status==="dirty")n.dirty();if(t.value!=="__proto__"&&(typeof m.value!=="undefined"||a.alwaysSet))g[t.value]=m.value}return{status:n.value,value:g}}}var Y=Object.freeze({status:"aborted"}),en=(n)=>({status:"dirty",value:n}),j=(n)=>({status:"valid",value:n}),nf=(n)=>n.status==="aborted",ff=(n)=>n.status==="dirty",Qn=(n)=>n.status==="valid",An=(n)=>typeof Promise!=="undefined"&&n instanceof Promise;function Rn(n,f,g,a){if(g==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof f==="function"?n!==f||!a:!f.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?a:g==="a"?a.call(n):a?a.value:f.get(n)}function Tt(n,f,g,a,t){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!t)throw new TypeError("Private accessor was defined without a setter");if(typeof f==="function"?n!==f||!t:!f.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?t.call(n,g):t?t.value=g:f.set(n,g),g}var $;(function(n){n.errToObj=(f)=>typeof f==="string"?{message:f}:f||{},n.toString=(f)=>typeof f==="string"?f:f===null||f===void 0?void 0:f.message})($||($={}));var Wn,Bn;class I{constructor(n,f,g,a){this._cachedPath=[],this.parent=n,this.data=f,this._path=g,this._key=a}get path(){if(!this._cachedPath.length)if(this._key instanceof Array)this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var ot=(n,f)=>{if(Qn(f))return{success:!0,data:f.value};else{if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let g=new U(n.common.issues);return this._error=g,this._error}}}};function B(n){if(!n)return{};let{errorMap:f,invalid_type_error:g,required_error:a,description:t}=n;if(f&&(g||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(f)return{errorMap:f,description:t};return{errorMap:(l,r)=>{var o,b;let{message:u}=n;if(l.code==="invalid_enum_value")return{message:u!==null&&u!==void 0?u:r.defaultError};if(typeof r.data==="undefined")return{message:(o=u!==null&&u!==void 0?u:a)!==null&&o!==void 0?o:r.defaultError};if(l.code!=="invalid_type")return{message:r.defaultError};return{message:(b=u!==null&&u!==void 0?u:g)!==null&&b!==void 0?b:r.defaultError}},description:t}}class Q{constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(n){return s(n.data)}_getOrReturnCtx(n,f){return f||{common:n.parent.common,data:n.data,parsedType:s(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new C,ctx:{common:n.parent.common,data:n.data,parsedType:s(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){let f=this._parse(n);if(An(f))throw new Error("Synchronous parse encountered promise.");return f}_parseAsync(n){let f=this._parse(n);return Promise.resolve(f)}parse(n,f){let g=this.safeParse(n,f);if(g.success)return g.data;throw g.error}safeParse(n,f){var g;let a={common:{issues:[],async:(g=f===null||f===void 0?void 0:f.async)!==null&&g!==void 0?g:!1,contextualErrorMap:f===null||f===void 0?void 0:f.errorMap},path:(f===null||f===void 0?void 0:f.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:s(n)},t=this._parseSync({data:n,path:a.path,parent:a});return ot(a,t)}async parseAsync(n,f){let g=await this.safeParseAsync(n,f);if(g.success)return g.data;throw g.error}async safeParseAsync(n,f){let g={common:{issues:[],contextualErrorMap:f===null||f===void 0?void 0:f.errorMap,async:!0},path:(f===null||f===void 0?void 0:f.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:s(n)},a=this._parse({data:n,path:g.path,parent:g}),t=await(An(a)?a:Promise.resolve(a));return ot(g,t)}refine(n,f){let g=(a)=>{if(typeof f==="string"||typeof f==="undefined")return{message:f};else if(typeof f==="function")return f(a);else return f};return this._refinement((a,t)=>{let m=n(a),l=()=>t.addIssue({code:T.custom,...g(a)});if(typeof Promise!=="undefined"&&m instanceof Promise)return m.then((r)=>{if(!r)return l(),!1;else return!0});if(!m)return l(),!1;else return!0})}refinement(n,f){return this._refinement((g,a)=>{if(!n(g))return a.addIssue(typeof f==="function"?f(g,a):f),!1;else return!0})}_refinement(n){return new D({schema:this,typeName:X.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}optional(){return x.create(this,this._def)}nullable(){return y.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return E.create(this,this._def)}promise(){return ln.create(this,this._def)}or(n){return Sn.create([this,n],this._def)}and(n){return $n.create(this,n,this._def)}transform(n){return new D({...B(this._def),schema:this,typeName:X.ZodEffects,effect:{type:"transform",transform:n}})}default(n){let f=typeof n==="function"?n:()=>n;return new _n({...B(this._def),innerType:this,defaultValue:f,typeName:X.ZodDefault})}brand(){return new Un({typeName:X.ZodBranded,type:this,...B(this._def)})}catch(n){let f=typeof n==="function"?n:()=>n;return new Xn({...B(this._def),innerType:this,catchValue:f,typeName:X.ZodCatch})}describe(n){return new this.constructor({...this._def,description:n})}pipe(n){return zn.create(this,n)}readonly(){return Yn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var Sa=/^c[^\s-]{8,}$/i,$a=/^[0-9a-z]+$/,va=/^[0-9A-HJKMNP-TV-Z]{26}$/,ha=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ga=/^[a-z0-9_-]{21}$/i,_a=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Xa=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ya="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Zn,Wa=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ba=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Qa=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ct="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Aa=new RegExp(`^${ct}$`);function St(n){let f="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";if(n.precision)f=`${f}\\.\\d{${n.precision}}`;else if(n.precision==null)f=`${f}(\\.\\d+)?`;return f}function qa(n){return new RegExp(`^${St(n)}$`)}function $t(n){let f=`${ct}T${St(n)}`,g=[];if(g.push(n.local?"Z?":"Z"),n.offset)g.push("([+-]\\d{2}:?\\d{2})");return f=`${f}(${g.join("|")})`,new RegExp(`^${f}$`)}function Ha(n,f){if((f==="v4"||!f)&&Wa.test(n))return!0;if((f==="v6"||!f)&&Ba.test(n))return!0;return!1}class K extends Q{_parse(n){if(this._def.coerce)n.data=String(n.data);if(this._getType(n)!==S.string){let t=this._getOrReturnCtx(n);return c(t,{code:T.invalid_type,expected:S.string,received:t.parsedType}),Y}let g=new C,a=void 0;for(let t of this._def.checks)if(t.kind==="min"){if(n.data.length<t.value)a=this._getOrReturnCtx(n,a),c(a,{code:T.too_small,minimum:t.value,type:"string",inclusive:!0,exact:!1,message:t.message}),g.dirty()}else if(t.kind==="max"){if(n.data.length>t.value)a=this._getOrReturnCtx(n,a),c(a,{code:T.too_big,maximum:t.value,type:"string",inclusive:!0,exact:!1,message:t.message}),g.dirty()}else if(t.kind==="length"){let m=n.data.length>t.value,l=n.data.length<t.value;if(m||l){if(a=this._getOrReturnCtx(n,a),m)c(a,{code:T.too_big,maximum:t.value,type:"string",inclusive:!0,exact:!0,message:t.message});else if(l)c(a,{code:T.too_small,minimum:t.value,type:"string",inclusive:!0,exact:!0,message:t.message});g.dirty()}}else if(t.kind==="email"){if(!Xa.test(n.data))a=this._getOrReturnCtx(n,a),c(a,{validation:"email",code:T.invalid_string,message:t.message}),g.dirty()}else if(t.kind==="emoji"){if(!Zn)Zn=new RegExp(Ya,"u");if(!Zn.test(n.data))a=this._getOrReturnCtx(n,a),c(a,{validation:"emoji",code:T.invalid_string,message:t.message}),g.dirty()}else if(t.kind==="uuid"){if(!ha.test(n.data))a=this._getOrReturnCtx(n,a),c(a,{validation:"uuid",code:T.invalid_string,message:t.message}),g.dirty()}else if(t.kind==="nanoid"){if(!Ga.test(n.data))a=this._getOrReturnCtx(n,a),c(a,{validation:"nanoid",code:T.invalid_string,message:t.message}),g.dirty()}else if(t.kind==="cuid"){if(!Sa.test(n.data))a=this._getOrReturnCtx(n,a),c(a,{validation:"cuid",code:T.invalid_string,message:t.message}),g.dirty()}else if(t.kind==="cuid2"){if(!$a.test(n.data))a=this._getOrReturnCtx(n,a),c(a,{validation:"cuid2",code:T.invalid_string,message:t.message}),g.dirty()}else if(t.kind==="ulid"){if(!va.test(n.data))a=this._getOrReturnCtx(n,a),c(a,{validation:"ulid",code:T.invalid_string,message:t.message}),g.dirty()}else if(t.kind==="url")try{new URL(n.data)}catch(m){a=this._getOrReturnCtx(n,a),c(a,{validation:"url",code:T.invalid_string,message:t.message}),g.dirty()}else if(t.kind==="regex"){if(t.regex.lastIndex=0,!t.regex.test(n.data))a=this._getOrReturnCtx(n,a),c(a,{validation:"regex",code:T.invalid_string,message:t.message}),g.dirty()}else if(t.kind==="trim")n.data=n.data.trim();else if(t.kind==="includes"){if(!n.data.includes(t.value,t.position))a=this._getOrReturnCtx(n,a),c(a,{code:T.invalid_string,validation:{includes:t.value,position:t.position},message:t.message}),g.dirty()}else if(t.kind==="toLowerCase")n.data=n.data.toLowerCase();else if(t.kind==="toUpperCase")n.data=n.data.toUpperCase();else if(t.kind==="startsWith"){if(!n.data.startsWith(t.value))a=this._getOrReturnCtx(n,a),c(a,{code:T.invalid_string,validation:{startsWith:t.value},message:t.message}),g.dirty()}else if(t.kind==="endsWith"){if(!n.data.endsWith(t.value))a=this._getOrReturnCtx(n,a),c(a,{code:T.invalid_string,validation:{endsWith:t.value},message:t.message}),g.dirty()}else if(t.kind==="datetime"){if(!$t(t).test(n.data))a=this._getOrReturnCtx(n,a),c(a,{code:T.invalid_string,validation:"datetime",message:t.message}),g.dirty()}else if(t.kind==="date"){if(!Aa.test(n.data))a=this._getOrReturnCtx(n,a),c(a,{code:T.invalid_string,validation:"date",message:t.message}),g.dirty()}else if(t.kind==="time"){if(!qa(t).test(n.data))a=this._getOrReturnCtx(n,a),c(a,{code:T.invalid_string,validation:"time",message:t.message}),g.dirty()}else if(t.kind==="duration"){if(!_a.test(n.data))a=this._getOrReturnCtx(n,a),c(a,{validation:"duration",code:T.invalid_string,message:t.message}),g.dirty()}else if(t.kind==="ip"){if(!Ha(n.data,t.version))a=this._getOrReturnCtx(n,a),c(a,{validation:"ip",code:T.invalid_string,message:t.message}),g.dirty()}else if(t.kind==="base64"){if(!Qa.test(n.data))a=this._getOrReturnCtx(n,a),c(a,{validation:"base64",code:T.invalid_string,message:t.message}),g.dirty()}else q.assertNever(t);return{status:g.value,value:n.data}}_regex(n,f,g){return this.refinement((a)=>n.test(a),{validation:f,code:T.invalid_string,...$.errToObj(g)})}_addCheck(n){return new K({...this._def,checks:[...this._def.checks,n]})}email(n){return this._addCheck({kind:"email",...$.errToObj(n)})}url(n){return this._addCheck({kind:"url",...$.errToObj(n)})}emoji(n){return this._addCheck({kind:"emoji",...$.errToObj(n)})}uuid(n){return this._addCheck({kind:"uuid",...$.errToObj(n)})}nanoid(n){return this._addCheck({kind:"nanoid",...$.errToObj(n)})}cuid(n){return this._addCheck({kind:"cuid",...$.errToObj(n)})}cuid2(n){return this._addCheck({kind:"cuid2",...$.errToObj(n)})}ulid(n){return this._addCheck({kind:"ulid",...$.errToObj(n)})}base64(n){return this._addCheck({kind:"base64",...$.errToObj(n)})}ip(n){return this._addCheck({kind:"ip",...$.errToObj(n)})}datetime(n){var f,g;if(typeof n==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n});return this._addCheck({kind:"datetime",precision:typeof(n===null||n===void 0?void 0:n.precision)==="undefined"?null:n===null||n===void 0?void 0:n.precision,offset:(f=n===null||n===void 0?void 0:n.offset)!==null&&f!==void 0?f:!1,local:(g=n===null||n===void 0?void 0:n.local)!==null&&g!==void 0?g:!1,...$.errToObj(n===null||n===void 0?void 0:n.message)})}date(n){return this._addCheck({kind:"date",message:n})}time(n){if(typeof n==="string")return this._addCheck({kind:"time",precision:null,message:n});return this._addCheck({kind:"time",precision:typeof(n===null||n===void 0?void 0:n.precision)==="undefined"?null:n===null||n===void 0?void 0:n.precision,...$.errToObj(n===null||n===void 0?void 0:n.message)})}duration(n){return this._addCheck({kind:"duration",...$.errToObj(n)})}regex(n,f){return this._addCheck({kind:"regex",regex:n,...$.errToObj(f)})}includes(n,f){return this._addCheck({kind:"includes",value:n,position:f===null||f===void 0?void 0:f.position,...$.errToObj(f===null||f===void 0?void 0:f.message)})}startsWith(n,f){return this._addCheck({kind:"startsWith",value:n,...$.errToObj(f)})}endsWith(n,f){return this._addCheck({kind:"endsWith",value:n,...$.errToObj(f)})}min(n,f){return this._addCheck({kind:"min",value:n,...$.errToObj(f)})}max(n,f){return this._addCheck({kind:"max",value:n,...$.errToObj(f)})}length(n,f){return this._addCheck({kind:"length",value:n,...$.errToObj(f)})}nonempty(n){return this.min(1,$.errToObj(n))}trim(){return new K({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((n)=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find((n)=>n.kind==="date")}get isTime(){return!!this._def.checks.find((n)=>n.kind==="time")}get isDuration(){return!!this._def.checks.find((n)=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find((n)=>n.kind==="email")}get isURL(){return!!this._def.checks.find((n)=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find((n)=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find((n)=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find((n)=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find((n)=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find((n)=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find((n)=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find((n)=>n.kind==="ip")}get isBase64(){return!!this._def.checks.find((n)=>n.kind==="base64")}get minLength(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n}get maxLength(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n}}K.create=(n)=>{var f;return new K({checks:[],typeName:X.ZodString,coerce:(f=n===null||n===void 0?void 0:n.coerce)!==null&&f!==void 0?f:!1,...B(n)})};function Ja(n,f){let g=(n.toString().split(".")[1]||"").length,a=(f.toString().split(".")[1]||"").length,t=g>a?g:a,m=parseInt(n.toFixed(t).replace(".","")),l=parseInt(f.toFixed(t).replace(".",""));return m%l/Math.pow(10,t)}class d extends Q{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce)n.data=Number(n.data);if(this._getType(n)!==S.number){let t=this._getOrReturnCtx(n);return c(t,{code:T.invalid_type,expected:S.number,received:t.parsedType}),Y}let g=void 0,a=new C;for(let t of this._def.checks)if(t.kind==="int"){if(!q.isInteger(n.data))g=this._getOrReturnCtx(n,g),c(g,{code:T.invalid_type,expected:"integer",received:"float",message:t.message}),a.dirty()}else if(t.kind==="min"){if(t.inclusive?n.data<t.value:n.data<=t.value)g=this._getOrReturnCtx(n,g),c(g,{code:T.too_small,minimum:t.value,type:"number",inclusive:t.inclusive,exact:!1,message:t.message}),a.dirty()}else if(t.kind==="max"){if(t.inclusive?n.data>t.value:n.data>=t.value)g=this._getOrReturnCtx(n,g),c(g,{code:T.too_big,maximum:t.value,type:"number",inclusive:t.inclusive,exact:!1,message:t.message}),a.dirty()}else if(t.kind==="multipleOf"){if(Ja(n.data,t.value)!==0)g=this._getOrReturnCtx(n,g),c(g,{code:T.not_multiple_of,multipleOf:t.value,message:t.message}),a.dirty()}else if(t.kind==="finite"){if(!Number.isFinite(n.data))g=this._getOrReturnCtx(n,g),c(g,{code:T.not_finite,message:t.message}),a.dirty()}else q.assertNever(t);return{status:a.value,value:n.data}}gte(n,f){return this.setLimit("min",n,!0,$.toString(f))}gt(n,f){return this.setLimit("min",n,!1,$.toString(f))}lte(n,f){return this.setLimit("max",n,!0,$.toString(f))}lt(n,f){return this.setLimit("max",n,!1,$.toString(f))}setLimit(n,f,g,a){return new d({...this._def,checks:[...this._def.checks,{kind:n,value:f,inclusive:g,message:$.toString(a)}]})}_addCheck(n){return new d({...this._def,checks:[...this._def.checks,n]})}int(n){return this._addCheck({kind:"int",message:$.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$.toString(n)})}multipleOf(n,f){return this._addCheck({kind:"multipleOf",value:n,message:$.toString(f)})}finite(n){return this._addCheck({kind:"finite",message:$.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$.toString(n)})}get minValue(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n}get maxValue(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n}get isInt(){return!!this._def.checks.find((n)=>n.kind==="int"||n.kind==="multipleOf"&&q.isInteger(n.value))}get isFinite(){let n=null,f=null;for(let g of this._def.checks)if(g.kind==="finite"||g.kind==="int"||g.kind==="multipleOf")return!0;else if(g.kind==="min"){if(f===null||g.value>f)f=g.value}else if(g.kind==="max"){if(n===null||g.value<n)n=g.value}return Number.isFinite(f)&&Number.isFinite(n)}}d.create=(n)=>{return new d({checks:[],typeName:X.ZodNumber,coerce:(n===null||n===void 0?void 0:n.coerce)||!1,...B(n)})};class nn extends Q{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce)n.data=BigInt(n.data);if(this._getType(n)!==S.bigint){let t=this._getOrReturnCtx(n);return c(t,{code:T.invalid_type,expected:S.bigint,received:t.parsedType}),Y}let g=void 0,a=new C;for(let t of this._def.checks)if(t.kind==="min"){if(t.inclusive?n.data<t.value:n.data<=t.value)g=this._getOrReturnCtx(n,g),c(g,{code:T.too_small,type:"bigint",minimum:t.value,inclusive:t.inclusive,message:t.message}),a.dirty()}else if(t.kind==="max"){if(t.inclusive?n.data>t.value:n.data>=t.value)g=this._getOrReturnCtx(n,g),c(g,{code:T.too_big,type:"bigint",maximum:t.value,inclusive:t.inclusive,message:t.message}),a.dirty()}else if(t.kind==="multipleOf"){if(n.data%t.value!==BigInt(0))g=this._getOrReturnCtx(n,g),c(g,{code:T.not_multiple_of,multipleOf:t.value,message:t.message}),a.dirty()}else q.assertNever(t);return{status:a.value,value:n.data}}gte(n,f){return this.setLimit("min",n,!0,$.toString(f))}gt(n,f){return this.setLimit("min",n,!1,$.toString(f))}lte(n,f){return this.setLimit("max",n,!0,$.toString(f))}lt(n,f){return this.setLimit("max",n,!1,$.toString(f))}setLimit(n,f,g,a){return new nn({...this._def,checks:[...this._def.checks,{kind:n,value:f,inclusive:g,message:$.toString(a)}]})}_addCheck(n){return new nn({...this._def,checks:[...this._def.checks,n]})}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$.toString(n)})}multipleOf(n,f){return this._addCheck({kind:"multipleOf",value:n,message:$.toString(f)})}get minValue(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n}get maxValue(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n}}nn.create=(n)=>{var f;return new nn({checks:[],typeName:X.ZodBigInt,coerce:(f=n===null||n===void 0?void 0:n.coerce)!==null&&f!==void 0?f:!1,...B(n)})};class Nn extends Q{_parse(n){if(this._def.coerce)n.data=Boolean(n.data);if(this._getType(n)!==S.boolean){let g=this._getOrReturnCtx(n);return c(g,{code:T.invalid_type,expected:S.boolean,received:g.parsedType}),Y}return j(n.data)}}Nn.create=(n)=>{return new Nn({typeName:X.ZodBoolean,coerce:(n===null||n===void 0?void 0:n.coerce)||!1,...B(n)})};class an extends Q{_parse(n){if(this._def.coerce)n.data=new Date(n.data);if(this._getType(n)!==S.date){let t=this._getOrReturnCtx(n);return c(t,{code:T.invalid_type,expected:S.date,received:t.parsedType}),Y}if(isNaN(n.data.getTime())){let t=this._getOrReturnCtx(n);return c(t,{code:T.invalid_date}),Y}let g=new C,a=void 0;for(let t of this._def.checks)if(t.kind==="min"){if(n.data.getTime()<t.value)a=this._getOrReturnCtx(n,a),c(a,{code:T.too_small,message:t.message,inclusive:!0,exact:!1,minimum:t.value,type:"date"}),g.dirty()}else if(t.kind==="max"){if(n.data.getTime()>t.value)a=this._getOrReturnCtx(n,a),c(a,{code:T.too_big,message:t.message,inclusive:!0,exact:!1,maximum:t.value,type:"date"}),g.dirty()}else q.assertNever(t);return{status:g.value,value:new Date(n.data.getTime())}}_addCheck(n){return new an({...this._def,checks:[...this._def.checks,n]})}min(n,f){return this._addCheck({kind:"min",value:n.getTime(),message:$.toString(f)})}max(n,f){return this._addCheck({kind:"max",value:n.getTime(),message:$.toString(f)})}get minDate(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n!=null?new Date(n):null}get maxDate(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n!=null?new Date(n):null}}an.create=(n)=>{return new an({checks:[],coerce:(n===null||n===void 0?void 0:n.coerce)||!1,typeName:X.ZodDate,...B(n)})};class qn extends Q{_parse(n){if(this._getType(n)!==S.symbol){let g=this._getOrReturnCtx(n);return c(g,{code:T.invalid_type,expected:S.symbol,received:g.parsedType}),Y}return j(n.data)}}qn.create=(n)=>{return new qn({typeName:X.ZodSymbol,...B(n)})};class Tn extends Q{_parse(n){if(this._getType(n)!==S.undefined){let g=this._getOrReturnCtx(n);return c(g,{code:T.invalid_type,expected:S.undefined,received:g.parsedType}),Y}return j(n.data)}}Tn.create=(n)=>{return new Tn({typeName:X.ZodUndefined,...B(n)})};class cn extends Q{_parse(n){if(this._getType(n)!==S.null){let g=this._getOrReturnCtx(n);return c(g,{code:T.invalid_type,expected:S.null,received:g.parsedType}),Y}return j(n.data)}}cn.create=(n)=>{return new cn({typeName:X.ZodNull,...B(n)})};class mn extends Q{constructor(){super(...arguments);this._any=!0}_parse(n){return j(n.data)}}mn.create=(n)=>{return new mn({typeName:X.ZodAny,...B(n)})};class Z extends Q{constructor(){super(...arguments);this._unknown=!0}_parse(n){return j(n.data)}}Z.create=(n)=>{return new Z({typeName:X.ZodUnknown,...B(n)})};class i extends Q{_parse(n){let f=this._getOrReturnCtx(n);return c(f,{code:T.invalid_type,expected:S.never,received:f.parsedType}),Y}}i.create=(n)=>{return new i({typeName:X.ZodNever,...B(n)})};class Hn extends Q{_parse(n){if(this._getType(n)!==S.undefined){let g=this._getOrReturnCtx(n);return c(g,{code:T.invalid_type,expected:S.void,received:g.parsedType}),Y}return j(n.data)}}Hn.create=(n)=>{return new Hn({typeName:X.ZodVoid,...B(n)})};class E extends Q{_parse(n){let{ctx:f,status:g}=this._processInputParams(n),a=this._def;if(f.parsedType!==S.array)return c(f,{code:T.invalid_type,expected:S.array,received:f.parsedType}),Y;if(a.exactLength!==null){let m=f.data.length>a.exactLength.value,l=f.data.length<a.exactLength.value;if(m||l)c(f,{code:m?T.too_big:T.too_small,minimum:l?a.exactLength.value:void 0,maximum:m?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),g.dirty()}if(a.minLength!==null){if(f.data.length<a.minLength.value)c(f,{code:T.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),g.dirty()}if(a.maxLength!==null){if(f.data.length>a.maxLength.value)c(f,{code:T.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),g.dirty()}if(f.common.async)return Promise.all([...f.data].map((m,l)=>{return a.type._parseAsync(new I(f,m,f.path,l))})).then((m)=>{return C.mergeArray(g,m)});let t=[...f.data].map((m,l)=>{return a.type._parseSync(new I(f,m,f.path,l))});return C.mergeArray(g,t)}get element(){return this._def.type}min(n,f){return new E({...this._def,minLength:{value:n,message:$.toString(f)}})}max(n,f){return new E({...this._def,maxLength:{value:n,message:$.toString(f)}})}length(n,f){return new E({...this._def,exactLength:{value:n,message:$.toString(f)}})}nonempty(n){return this.min(1,n)}}E.create=(n,f)=>{return new E({type:n,minLength:null,maxLength:null,exactLength:null,typeName:X.ZodArray,...B(f)})};function un(n){if(n instanceof M){let f={};for(let g in n.shape){let a=n.shape[g];f[g]=x.create(un(a))}return new M({...n._def,shape:()=>f})}else if(n instanceof E)return new E({...n._def,type:un(n.element)});else if(n instanceof x)return x.create(un(n.unwrap()));else if(n instanceof y)return y.create(un(n.unwrap()));else if(n instanceof P)return P.create(n.items.map((f)=>un(f)));else return n}class M extends Q{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let n=this._def.shape(),f=q.objectKeys(n);return this._cached={shape:n,keys:f}}_parse(n){if(this._getType(n)!==S.object){let o=this._getOrReturnCtx(n);return c(o,{code:T.invalid_type,expected:S.object,received:o.parsedType}),Y}let{status:g,ctx:a}=this._processInputParams(n),{shape:t,keys:m}=this._getCached(),l=[];if(!(this._def.catchall instanceof i&&this._def.unknownKeys==="strip")){for(let o in a.data)if(!m.includes(o))l.push(o)}let r=[];for(let o of m){let b=t[o],u=a.data[o];r.push({key:{status:"valid",value:o},value:b._parse(new I(a,u,a.path,o)),alwaysSet:o in a.data})}if(this._def.catchall instanceof i){let o=this._def.unknownKeys;if(o==="passthrough")for(let b of l)r.push({key:{status:"valid",value:b},value:{status:"valid",value:a.data[b]}});else if(o==="strict"){if(l.length>0)c(a,{code:T.unrecognized_keys,keys:l}),g.dirty()}else if(o==="strip");else throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let o=this._def.catchall;for(let b of l){let u=a.data[b];r.push({key:{status:"valid",value:b},value:o._parse(new I(a,u,a.path,b)),alwaysSet:b in a.data})}}if(a.common.async)return Promise.resolve().then(async()=>{let o=[];for(let b of r){let u=await b.key,N=await b.value;o.push({key:u,value:N,alwaysSet:b.alwaysSet})}return o}).then((o)=>{return C.mergeObjectSync(g,o)});else return C.mergeObjectSync(g,r)}get shape(){return this._def.shape()}strict(n){return $.errToObj,new M({...this._def,unknownKeys:"strict",...n!==void 0?{errorMap:(f,g)=>{var a,t,m,l;let r=(m=(t=(a=this._def).errorMap)===null||t===void 0?void 0:t.call(a,f,g).message)!==null&&m!==void 0?m:g.defaultError;if(f.code==="unrecognized_keys")return{message:(l=$.errToObj(n).message)!==null&&l!==void 0?l:r};return{message:r}}}:{}})}strip(){return new M({...this._def,unknownKeys:"strip"})}passthrough(){return new M({...this._def,unknownKeys:"passthrough"})}extend(n){return new M({...this._def,shape:()=>({...this._def.shape(),...n})})}merge(n){return new M({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>({...this._def.shape(),...n._def.shape()}),typeName:X.ZodObject})}setKey(n,f){return this.augment({[n]:f})}catchall(n){return new M({...this._def,catchall:n})}pick(n){let f={};return q.objectKeys(n).forEach((g)=>{if(n[g]&&this.shape[g])f[g]=this.shape[g]}),new M({...this._def,shape:()=>f})}omit(n){let f={};return q.objectKeys(this.shape).forEach((g)=>{if(!n[g])f[g]=this.shape[g]}),new M({...this._def,shape:()=>f})}deepPartial(){return un(this)}partial(n){let f={};return q.objectKeys(this.shape).forEach((g)=>{let a=this.shape[g];if(n&&!n[g])f[g]=a;else f[g]=a.optional()}),new M({...this._def,shape:()=>f})}required(n){let f={};return q.objectKeys(this.shape).forEach((g)=>{if(n&&!n[g])f[g]=this.shape[g];else{let t=this.shape[g];while(t instanceof x)t=t._def.innerType;f[g]=t}}),new M({...this._def,shape:()=>f})}keyof(){return vt(q.objectKeys(this.shape))}}M.create=(n,f)=>{return new M({shape:()=>n,unknownKeys:"strip",catchall:i.create(),typeName:X.ZodObject,...B(f)})};M.strictCreate=(n,f)=>{return new M({shape:()=>n,unknownKeys:"strict",catchall:i.create(),typeName:X.ZodObject,...B(f)})};M.lazycreate=(n,f)=>{return new M({shape:n,unknownKeys:"strip",catchall:i.create(),typeName:X.ZodObject,...B(f)})};class Sn extends Q{_parse(n){let{ctx:f}=this._processInputParams(n),g=this._def.options;function a(t){for(let l of t)if(l.result.status==="valid")return l.result;for(let l of t)if(l.result.status==="dirty")return f.common.issues.push(...l.ctx.common.issues),l.result;let m=t.map((l)=>new U(l.ctx.common.issues));return c(f,{code:T.invalid_union,unionErrors:m}),Y}if(f.common.async)return Promise.all(g.map(async(t)=>{let m={...f,common:{...f.common,issues:[]},parent:null};return{result:await t._parseAsync({data:f.data,path:f.path,parent:m}),ctx:m}})).then(a);else{let t=void 0,m=[];for(let r of g){let o={...f,common:{...f.common,issues:[]},parent:null},b=r._parseSync({data:f.data,path:f.path,parent:o});if(b.status==="valid")return b;else if(b.status==="dirty"&&!t)t={result:b,ctx:o};if(o.common.issues.length)m.push(o.common.issues)}if(t)return f.common.issues.push(...t.ctx.common.issues),t.result;let l=m.map((r)=>new U(r));return c(f,{code:T.invalid_union,unionErrors:l}),Y}}get options(){return this._def.options}}Sn.create=(n,f)=>{return new Sn({options:n,typeName:X.ZodUnion,...B(f)})};var p=(n)=>{if(n instanceof vn)return p(n.schema);else if(n instanceof D)return p(n.innerType());else if(n instanceof hn)return[n.value];else if(n instanceof fn)return n.options;else if(n instanceof Gn)return q.objectValues(n.enum);else if(n instanceof _n)return p(n._def.innerType);else if(n instanceof Tn)return[void 0];else if(n instanceof cn)return[null];else if(n instanceof x)return[void 0,...p(n.unwrap())];else if(n instanceof y)return[null,...p(n.unwrap())];else if(n instanceof Un)return p(n.unwrap());else if(n instanceof Yn)return p(n.unwrap());else if(n instanceof Xn)return p(n._def.innerType);else return[]};class On extends Q{_parse(n){let{ctx:f}=this._processInputParams(n);if(f.parsedType!==S.object)return c(f,{code:T.invalid_type,expected:S.object,received:f.parsedType}),Y;let g=this.discriminator,a=f.data[g],t=this.optionsMap.get(a);if(!t)return c(f,{code:T.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[g]}),Y;if(f.common.async)return t._parseAsync({data:f.data,path:f.path,parent:f});else return t._parseSync({data:f.data,path:f.path,parent:f})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(n,f,g){let a=new Map;for(let t of f){let m=p(t.shape[n]);if(!m.length)throw new Error(`A discriminator value for key \`${n}\` could not be extracted from all schema options`);for(let l of m){if(a.has(l))throw new Error(`Discriminator property ${String(n)} has duplicate value ${String(l)}`);a.set(l,t)}}return new On({typeName:X.ZodDiscriminatedUnion,discriminator:n,options:f,optionsMap:a,...B(g)})}}function gf(n,f){let g=s(n),a=s(f);if(n===f)return{valid:!0,data:n};else if(g===S.object&&a===S.object){let t=q.objectKeys(f),m=q.objectKeys(n).filter((r)=>t.indexOf(r)!==-1),l={...n,...f};for(let r of m){let o=gf(n[r],f[r]);if(!o.valid)return{valid:!1};l[r]=o.data}return{valid:!0,data:l}}else if(g===S.array&&a===S.array){if(n.length!==f.length)return{valid:!1};let t=[];for(let m=0;m<n.length;m++){let l=n[m],r=f[m],o=gf(l,r);if(!o.valid)return{valid:!1};t.push(o.data)}return{valid:!0,data:t}}else if(g===S.date&&a===S.date&&+n===+f)return{valid:!0,data:n};else return{valid:!1}}class $n extends Q{_parse(n){let{status:f,ctx:g}=this._processInputParams(n),a=(t,m)=>{if(nf(t)||nf(m))return Y;let l=gf(t.value,m.value);if(!l.valid)return c(g,{code:T.invalid_intersection_types}),Y;if(ff(t)||ff(m))f.dirty();return{status:f.value,value:l.data}};if(g.common.async)return Promise.all([this._def.left._parseAsync({data:g.data,path:g.path,parent:g}),this._def.right._parseAsync({data:g.data,path:g.path,parent:g})]).then(([t,m])=>a(t,m));else return a(this._def.left._parseSync({data:g.data,path:g.path,parent:g}),this._def.right._parseSync({data:g.data,path:g.path,parent:g}))}}$n.create=(n,f,g)=>{return new $n({left:n,right:f,typeName:X.ZodIntersection,...B(g)})};class P extends Q{_parse(n){let{status:f,ctx:g}=this._processInputParams(n);if(g.parsedType!==S.array)return c(g,{code:T.invalid_type,expected:S.array,received:g.parsedType}),Y;if(g.data.length<this._def.items.length)return c(g,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Y;if(!this._def.rest&&g.data.length>this._def.items.length)c(g,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),f.dirty();let t=[...g.data].map((m,l)=>{let r=this._def.items[l]||this._def.rest;if(!r)return null;return r._parse(new I(g,m,g.path,l))}).filter((m)=>!!m);if(g.common.async)return Promise.all(t).then((m)=>{return C.mergeArray(f,m)});else return C.mergeArray(f,t)}get items(){return this._def.items}rest(n){return new P({...this._def,rest:n})}}P.create=(n,f)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new P({items:n,typeName:X.ZodTuple,rest:null,...B(f)})};class Jn extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){let{status:f,ctx:g}=this._processInputParams(n);if(g.parsedType!==S.object)return c(g,{code:T.invalid_type,expected:S.object,received:g.parsedType}),Y;let a=[],t=this._def.keyType,m=this._def.valueType;for(let l in g.data)a.push({key:t._parse(new I(g,l,g.path,l)),value:m._parse(new I(g,g.data[l],g.path,l)),alwaysSet:l in g.data});if(g.common.async)return C.mergeObjectAsync(f,a);else return C.mergeObjectSync(f,a)}get element(){return this._def.valueType}static create(n,f,g){if(f instanceof Q)return new Jn({keyType:n,valueType:f,typeName:X.ZodRecord,...B(g)});return new Jn({keyType:K.create(),valueType:n,typeName:X.ZodRecord,...B(f)})}}class Mn extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){let{status:f,ctx:g}=this._processInputParams(n);if(g.parsedType!==S.map)return c(g,{code:T.invalid_type,expected:S.map,received:g.parsedType}),Y;let a=this._def.keyType,t=this._def.valueType,m=[...g.data.entries()].map(([l,r],o)=>{return{key:a._parse(new I(g,l,g.path,[o,"key"])),value:t._parse(new I(g,r,g.path,[o,"value"]))}});if(g.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let r of m){let o=await r.key,b=await r.value;if(o.status==="aborted"||b.status==="aborted")return Y;if(o.status==="dirty"||b.status==="dirty")f.dirty();l.set(o.value,b.value)}return{status:f.value,value:l}})}else{let l=new Map;for(let r of m){let{key:o,value:b}=r;if(o.status==="aborted"||b.status==="aborted")return Y;if(o.status==="dirty"||b.status==="dirty")f.dirty();l.set(o.value,b.value)}return{status:f.value,value:l}}}}Mn.create=(n,f,g)=>{return new Mn({valueType:f,keyType:n,typeName:X.ZodMap,...B(g)})};class rn extends Q{_parse(n){let{status:f,ctx:g}=this._processInputParams(n);if(g.parsedType!==S.set)return c(g,{code:T.invalid_type,expected:S.set,received:g.parsedType}),Y;let a=this._def;if(a.minSize!==null){if(g.data.size<a.minSize.value)c(g,{code:T.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),f.dirty()}if(a.maxSize!==null){if(g.data.size>a.maxSize.value)c(g,{code:T.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),f.dirty()}let t=this._def.valueType;function m(r){let o=new Set;for(let b of r){if(b.status==="aborted")return Y;if(b.status==="dirty")f.dirty();o.add(b.value)}return{status:f.value,value:o}}let l=[...g.data.values()].map((r,o)=>t._parse(new I(g,r,g.path,o)));if(g.common.async)return Promise.all(l).then((r)=>m(r));else return m(l)}min(n,f){return new rn({...this._def,minSize:{value:n,message:$.toString(f)}})}max(n,f){return new rn({...this._def,maxSize:{value:n,message:$.toString(f)}})}size(n,f){return this.min(n,f).max(n,f)}nonempty(n){return this.min(1,n)}}rn.create=(n,f)=>{return new rn({valueType:n,minSize:null,maxSize:null,typeName:X.ZodSet,...B(f)})};class on extends Q{constructor(){super(...arguments);this.validate=this.implement}_parse(n){let{ctx:f}=this._processInputParams(n);if(f.parsedType!==S.function)return c(f,{code:T.invalid_type,expected:S.function,received:f.parsedType}),Y;function g(l,r){return jn({data:l,path:f.path,errorMaps:[f.common.contextualErrorMap,f.schemaErrorMap,Ln(),bn].filter((o)=>!!o),issueData:{code:T.invalid_arguments,argumentsError:r}})}function a(l,r){return jn({data:l,path:f.path,errorMaps:[f.common.contextualErrorMap,f.schemaErrorMap,Ln(),bn].filter((o)=>!!o),issueData:{code:T.invalid_return_type,returnTypeError:r}})}let t={errorMap:f.common.contextualErrorMap},m=f.data;if(this._def.returns instanceof ln){let l=this;return j(async function(...r){let o=new U([]),b=await l._def.args.parseAsync(r,t).catch((H)=>{throw o.addIssue(g(r,H)),o}),u=await Reflect.apply(m,this,b);return await l._def.returns._def.type.parseAsync(u,t).catch((H)=>{throw o.addIssue(a(u,H)),o})})}else{let l=this;return j(function(...r){let o=l._def.args.safeParse(r,t);if(!o.success)throw new U([g(r,o.error)]);let b=Reflect.apply(m,this,o.data),u=l._def.returns.safeParse(b,t);if(!u.success)throw new U([a(b,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...n){return new on({...this._def,args:P.create(n).rest(Z.create())})}returns(n){return new on({...this._def,returns:n})}implement(n){return this.parse(n)}strictImplement(n){return this.parse(n)}static create(n,f,g){return new on({args:n?n:P.create([]).rest(Z.create()),returns:f||Z.create(),typeName:X.ZodFunction,...B(g)})}}class vn extends Q{get schema(){return this._def.getter()}_parse(n){let{ctx:f}=this._processInputParams(n);return this._def.getter()._parse({data:f.data,path:f.path,parent:f})}}vn.create=(n,f)=>{return new vn({getter:n,typeName:X.ZodLazy,...B(f)})};class hn extends Q{_parse(n){if(n.data!==this._def.value){let f=this._getOrReturnCtx(n);return c(f,{received:f.data,code:T.invalid_literal,expected:this._def.value}),Y}return{status:"valid",value:n.data}}get value(){return this._def.value}}hn.create=(n,f)=>{return new hn({value:n,typeName:X.ZodLiteral,...B(f)})};function vt(n,f){return new fn({values:n,typeName:X.ZodEnum,...B(f)})}class fn extends Q{constructor(){super(...arguments);Wn.set(this,void 0)}_parse(n){if(typeof n.data!=="string"){let f=this._getOrReturnCtx(n),g=this._def.values;return c(f,{expected:q.joinValues(g),received:f.parsedType,code:T.invalid_type}),Y}if(!Rn(this,Wn,"f"))Tt(this,Wn,new Set(this._def.values),"f");if(!Rn(this,Wn,"f").has(n.data)){let f=this._getOrReturnCtx(n),g=this._def.values;return c(f,{received:f.data,code:T.invalid_enum_value,options:g}),Y}return j(n.data)}get options(){return this._def.values}get enum(){let n={};for(let f of this._def.values)n[f]=f;return n}get Values(){let n={};for(let f of this._def.values)n[f]=f;return n}get Enum(){let n={};for(let f of this._def.values)n[f]=f;return n}extract(n,f=this._def){return fn.create(n,{...this._def,...f})}exclude(n,f=this._def){return fn.create(this.options.filter((g)=>!n.includes(g)),{...this._def,...f})}}Wn=new WeakMap;fn.create=vt;class Gn extends Q{constructor(){super(...arguments);Bn.set(this,void 0)}_parse(n){let f=q.getValidEnumValues(this._def.values),g=this._getOrReturnCtx(n);if(g.parsedType!==S.string&&g.parsedType!==S.number){let a=q.objectValues(f);return c(g,{expected:q.joinValues(a),received:g.parsedType,code:T.invalid_type}),Y}if(!Rn(this,Bn,"f"))Tt(this,Bn,new Set(q.getValidEnumValues(this._def.values)),"f");if(!Rn(this,Bn,"f").has(n.data)){let a=q.objectValues(f);return c(g,{received:g.data,code:T.invalid_enum_value,options:a}),Y}return j(n.data)}get enum(){return this._def.values}}Bn=new WeakMap;Gn.create=(n,f)=>{return new Gn({values:n,typeName:X.ZodNativeEnum,...B(f)})};class ln extends Q{unwrap(){return this._def.type}_parse(n){let{ctx:f}=this._processInputParams(n);if(f.parsedType!==S.promise&&f.common.async===!1)return c(f,{code:T.invalid_type,expected:S.promise,received:f.parsedType}),Y;let g=f.parsedType===S.promise?f.data:Promise.resolve(f.data);return j(g.then((a)=>{return this._def.type.parseAsync(a,{path:f.path,errorMap:f.common.contextualErrorMap})}))}}ln.create=(n,f)=>{return new ln({type:n,typeName:X.ZodPromise,...B(f)})};class D extends Q{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===X.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){let{status:f,ctx:g}=this._processInputParams(n),a=this._def.effect||null,t={addIssue:(m)=>{if(c(g,m),m.fatal)f.abort();else f.dirty()},get path(){return g.path}};if(t.addIssue=t.addIssue.bind(t),a.type==="preprocess"){let m=a.transform(g.data,t);if(g.common.async)return Promise.resolve(m).then(async(l)=>{if(f.value==="aborted")return Y;let r=await this._def.schema._parseAsync({data:l,path:g.path,parent:g});if(r.status==="aborted")return Y;if(r.status==="dirty")return en(r.value);if(f.value==="dirty")return en(r.value);return r});else{if(f.value==="aborted")return Y;let l=this._def.schema._parseSync({data:m,path:g.path,parent:g});if(l.status==="aborted")return Y;if(l.status==="dirty")return en(l.value);if(f.value==="dirty")return en(l.value);return l}}if(a.type==="refinement"){let m=(l)=>{let r=a.refinement(l,t);if(g.common.async)return Promise.resolve(r);if(r instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(g.common.async===!1){let l=this._def.schema._parseSync({data:g.data,path:g.path,parent:g});if(l.status==="aborted")return Y;if(l.status==="dirty")f.dirty();return m(l.value),{status:f.value,value:l.value}}else return this._def.schema._parseAsync({data:g.data,path:g.path,parent:g}).then((l)=>{if(l.status==="aborted")return Y;if(l.status==="dirty")f.dirty();return m(l.value).then(()=>{return{status:f.value,value:l.value}})})}if(a.type==="transform")if(g.common.async===!1){let m=this._def.schema._parseSync({data:g.data,path:g.path,parent:g});if(!Qn(m))return m;let l=a.transform(m.value,t);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:f.value,value:l}}else return this._def.schema._parseAsync({data:g.data,path:g.path,parent:g}).then((m)=>{if(!Qn(m))return m;return Promise.resolve(a.transform(m.value,t)).then((l)=>({status:f.value,value:l}))});q.assertNever(a)}}D.create=(n,f,g)=>{return new D({schema:n,typeName:X.ZodEffects,effect:f,...B(g)})};D.createWithPreprocess=(n,f,g)=>{return new D({schema:f,effect:{type:"preprocess",transform:n},typeName:X.ZodEffects,...B(g)})};class x extends Q{_parse(n){if(this._getType(n)===S.undefined)return j(void 0);return this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}x.create=(n,f)=>{return new x({innerType:n,typeName:X.ZodOptional,...B(f)})};class y extends Q{_parse(n){if(this._getType(n)===S.null)return j(null);return this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}y.create=(n,f)=>{return new y({innerType:n,typeName:X.ZodNullable,...B(f)})};class _n extends Q{_parse(n){let{ctx:f}=this._processInputParams(n),g=f.data;if(f.parsedType===S.undefined)g=this._def.defaultValue();return this._def.innerType._parse({data:g,path:f.path,parent:f})}removeDefault(){return this._def.innerType}}_n.create=(n,f)=>{return new _n({innerType:n,typeName:X.ZodDefault,defaultValue:typeof f.default==="function"?f.default:()=>f.default,...B(f)})};class Xn extends Q{_parse(n){let{ctx:f}=this._processInputParams(n),g={...f,common:{...f.common,issues:[]}},a=this._def.innerType._parse({data:g.data,path:g.path,parent:{...g}});if(An(a))return a.then((t)=>{return{status:"valid",value:t.status==="valid"?t.value:this._def.catchValue({get error(){return new U(g.common.issues)},input:g.data})}});else return{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new U(g.common.issues)},input:g.data})}}removeCatch(){return this._def.innerType}}Xn.create=(n,f)=>{return new Xn({innerType:n,typeName:X.ZodCatch,catchValue:typeof f.catch==="function"?f.catch:()=>f.catch,...B(f)})};class wn extends Q{_parse(n){if(this._getType(n)!==S.nan){let g=this._getOrReturnCtx(n);return c(g,{code:T.invalid_type,expected:S.nan,received:g.parsedType}),Y}return{status:"valid",value:n.data}}}wn.create=(n)=>{return new wn({typeName:X.ZodNaN,...B(n)})};var Ma=Symbol("zod_brand");class Un extends Q{_parse(n){let{ctx:f}=this._processInputParams(n),g=f.data;return this._def.type._parse({data:g,path:f.path,parent:f})}unwrap(){return this._def.type}}class zn extends Q{_parse(n){let{status:f,ctx:g}=this._processInputParams(n);if(g.common.async)return(async()=>{let t=await this._def.in._parseAsync({data:g.data,path:g.path,parent:g});if(t.status==="aborted")return Y;if(t.status==="dirty")return f.dirty(),en(t.value);else return this._def.out._parseAsync({data:t.value,path:g.path,parent:g})})();else{let a=this._def.in._parseSync({data:g.data,path:g.path,parent:g});if(a.status==="aborted")return Y;if(a.status==="dirty")return f.dirty(),{status:"dirty",value:a.value};else return this._def.out._parseSync({data:a.value,path:g.path,parent:g})}}static create(n,f){return new zn({in:n,out:f,typeName:X.ZodPipeline})}}class Yn extends Q{_parse(n){let f=this._def.innerType._parse(n),g=(a)=>{if(Qn(a))a.value=Object.freeze(a.value);return a};return An(f)?f.then((a)=>g(a)):g(f)}unwrap(){return this._def.innerType}}Yn.create=(n,f)=>{return new Yn({innerType:n,typeName:X.ZodReadonly,...B(f)})};function ht(n,f={},g){if(n)return mn.create().superRefine((a,t)=>{var m,l;if(!n(a)){let r=typeof f==="function"?f(a):typeof f==="string"?{message:f}:f,o=(l=(m=r.fatal)!==null&&m!==void 0?m:g)!==null&&l!==void 0?l:!0,b=typeof r==="string"?{message:r}:r;t.addIssue({code:"custom",...b,fatal:o})}});return mn.create()}var wa={object:M.lazycreate},X;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(X||(X={}));var za=(n,f={message:`Input not instance of ${n.name}`})=>ht((g)=>g instanceof n,f),Gt=K.create,_t=d.create,Ca=wn.create,Fa=nn.create,Xt=Nn.create,La=an.create,ja=qn.create,Ra=Tn.create,Oa=cn.create,Ua=mn.create,Da=Z.create,Va=i.create,Ka=Hn.create,Ea=E.create,xa=M.create,Ia=M.strictCreate,ka=Sn.create,ia=On.create,Pa=$n.create,pa=P.create,ya=Jn.create,sa=Mn.create,Za=rn.create,da=on.create,nm=vn.create,fm=hn.create,gm=fn.create,tm=Gn.create,am=ln.create,bt=D.create,mm=x.create,rm=y.create,lm=D.createWithPreprocess,um=zn.create,em=()=>Gt().optional(),om=()=>_t().optional(),bm=()=>Xt().optional(),Nm={string:(n)=>K.create({...n,coerce:!0}),number:(n)=>d.create({...n,coerce:!0}),boolean:(n)=>Nn.create({...n,coerce:!0}),bigint:(n)=>nn.create({...n,coerce:!0}),date:(n)=>an.create({...n,coerce:!0})},Tm=Y,Dn=Object.freeze({__proto__:null,defaultErrorMap:bn,setErrorMap:Ta,getErrorMap:Ln,makeIssue:jn,EMPTY_PATH:ca,addIssueToContext:c,ParseStatus:C,INVALID:Y,DIRTY:en,OK:j,isAborted:nf,isDirty:ff,isValid:Qn,isAsync:An,get util(){return q},get objectUtil(){return dn},ZodParsedType:S,getParsedType:s,ZodType:Q,datetimeRegex:$t,ZodString:K,ZodNumber:d,ZodBigInt:nn,ZodBoolean:Nn,ZodDate:an,ZodSymbol:qn,ZodUndefined:Tn,ZodNull:cn,ZodAny:mn,ZodUnknown:Z,ZodNever:i,ZodVoid:Hn,ZodArray:E,ZodObject:M,ZodUnion:Sn,ZodDiscriminatedUnion:On,ZodIntersection:$n,ZodTuple:P,ZodRecord:Jn,ZodMap:Mn,ZodSet:rn,ZodFunction:on,ZodLazy:vn,ZodLiteral:hn,ZodEnum:fn,ZodNativeEnum:Gn,ZodPromise:ln,ZodEffects:D,ZodTransformer:D,ZodOptional:x,ZodNullable:y,ZodDefault:_n,ZodCatch:Xn,ZodNaN:wn,BRAND:Ma,ZodBranded:Un,ZodPipeline:zn,ZodReadonly:Yn,custom:ht,Schema:Q,ZodSchema:Q,late:wa,get ZodFirstPartyTypeKind(){return X},coerce:Nm,any:Ua,array:Ea,bigint:Fa,boolean:Xt,date:La,discriminatedUnion:ia,effect:bt,enum:gm,function:da,instanceof:za,intersection:Pa,lazy:nm,literal:fm,map:sa,nan:Ca,nativeEnum:tm,never:Va,null:Oa,nullable:rm,number:_t,object:xa,oboolean:bm,onumber:om,optional:mm,ostring:em,pipeline:um,preprocess:lm,promise:am,record:ya,set:Za,strictObject:Ia,string:Gt,symbol:ja,transformer:bt,tuple:pa,undefined:Ra,union:ka,unknown:Da,void:Ka,NEVER:Tm,ZodIssueCode:T,quotelessJson:Na,ZodError:U});var tf;((b)=>{b[b.DOWN_LEFT=1]="DOWN_LEFT";b[b.DOWN_CENTER=2]="DOWN_CENTER";b[b.DOWN_RIGHT=3]="DOWN_RIGHT";b[b.CENTER_LEFT=4]="CENTER_LEFT";b[b.CENTER_CENTER=5]="CENTER_CENTER";b[b.CENTER_RIGHT=6]="CENTER_RIGHT";b[b.UP_LEFT=7]="UP_LEFT";b[b.UP_CENTER=8]="UP_CENTER";b[b.UP_RIGHT=9]="UP_RIGHT"})(tf||={});var Yt=Dn.nativeEnum(tf);var af;((A)=>{A[A.ANSI=0]="ANSI";A[A.DEFAULT=1]="DEFAULT";A[A.SYMBOL=2]="SYMBOL";A[A.MAC=77]="MAC";A[A.SHIFT_JIS=128]="SHIFT_JIS";A[A.HANGEUL=129]="HANGEUL";A[A.JOHAB=130]="JOHAB";A[A.GB2312=134]="GB2312";A[A.CHINESE_BIG5=136]="CHINESE_BIG5";A[A.GREEK=161]="GREEK";A[A.TURKISH=162]="TURKISH";A[A.VIETNAMESE=163]="VIETNAMESE";A[A.HEBREW=177]="HEBREW";A[A.ARAB=178]="ARAB";A[A.BALTIC=186]="BALTIC";A[A.RUSSIAN=204]="RUSSIAN";A[A.THAI=222]="THAI";A[A.EASTERN_EUROPE=238]="EASTERN_EUROPE";A[A.OEM=255]="OEM"})(af||={});var Wt=Dn.nativeEnum(af);function Bt(){return{format:"Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text",lines:[]}}function Qt(n){let f="[Events]";f+=`
Format: ${n.format}`;for(let g of n.lines)f+=`
${At(g)}`;return f}function qt(){return{data:[]}}function Ht(n){let f="[Aegisub Extradata]";for(let g of n.data)f+=`
Data: ${g}`;return f}function Jt(n){let f=`fontname: ${n.name}`;for(let g of n.data)f+=`
${g}`;return f}function Mt(){return{files:[]}}function wt(n){let f=`[Fonts]
`,g=0;for(let a of n.files){if(g>0)f+=`

`;f+=Jt(a),g++}return f+=`
`,f}function zt(n){let f=`filename: ${n.name}`;for(let g of n.data)f+=`
${g}`;return f}function Ct(){return{files:[]}}function Ft(n){let f=`[Graphics]
`,g=0;for(let a of n.files){if(g>0)f+=`

`;f+=zt(a),g++}return f}var Sr="Automation Scripts",$r="Export Filters",vr="Export Encoding",hr="Last Style Storage",Gr="Audio File",_r="Video File",Xr="Timecodes File",Yr="Keyframes File",Wr="Video AR Mode",Br="Video AR Value",Qr="Video Zoom Percent",Ar="Scroll Position",qr="Active Line",Hr="Video Position";function Lt(){return{comments:[],properties:new Map}}function jt(n){let f="[Aegisub Project Garbage]";for(let g of n.comments)f+=`
; ${g}`;for(let[g,a]of n.properties)f+=`
${g}: ${a}`;return f}var Mr="Title",wr="ScriptType",zr="WrapStyle",Cr="PlayResX",Fr="PlayResY",Lr="ScaledBorderAndShadow",jr="YCbCr Matrix",Rr="Original Script",Or="Original Translation",Ur="Original Editing",Dr="Original Timing",Vr="Synch Point",Kr="Script Updated By",Er="Update Details";function Rt(){return{comments:[],properties:new Map}}function Ot(n){let f="[Script Info]";for(let g of n.comments)f+=`
; ${g}`;for(let[g,a]of n.properties)f+=`
${g}: ${a}`;return f}function Ut(n){let f=`Style: ${n.name}`;return f+=`,${n.fontName}`,f+=`,${n.fontSize}`,f+=`,${n.primaryAlpha}`,f+=`,${n.primaryColor}`,f+=`,${n.secondaryAlpha}`,f+=`,${n.secondaryColor}`,f+=`,${n.outlineAlpha}`,f+=`,${n.outlineColor}`,f+=`,${n.backAlpha}`,f+=`,${n.backColor}`,f+=`,${n.bold}`,f+=`,${n.italic}`,f+=`,${n.underline}`,f+=`,${n.strikeOut}`,f+=`,${n.scaleX}`,f+=`,${n.scaleY}`,f+=`,${n.spacing}`,f+=`,${n.angle}`,f+=`,${n.borderStyle}`,f+=`,${n.outline}`,f+=`,${n.shadow}`,f+=`,${n.alignment}`,f+=`,${n.marginLeft}`,f+=`,${n.marginRight}`,f+=`,${n.marginVertical}`,f+=`,${n.encoding}`,f}function Dt(){return{format:"Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding",styles:[]}}function yr(){return{format:"Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding",styles:[{name:"Default",fontName:"Arial",fontSize:20,primaryAlpha:"&H00FFFFFF",primaryColor:"&H000000FF",secondaryAlpha:"&H00000000",secondaryColor:"&H00000000",outlineAlpha:"",outlineColor:"",backAlpha:"",backColor:"",bold:0,italic:0,underline:0,strikeOut:0,scaleX:100,scaleY:100,spacing:0,angle:0,borderStyle:1,outline:2,shadow:2,alignment:2,marginLeft:10,marginRight:10,marginVertical:10,encoding:1}]}}function Vt(n){let f="[V4+ Styles]";f+=`
Format: ${n.format}`;for(let g of n.styles)f+=`
${Ut(g)}`;return f}var cm="[Script Info]",Sm="[Aegisub Project Garbage]",$m="[V4+ Styles]",vm="[Graphics]",hm="[Fonts]",Gm="[Events]",_m="[Aegisub Extradata]",Vn="; ",Kt="Data: ";function Sl(n){let f="";return f+=Ot(n.scriptInfo),f+=`

`+jt(n.aegisubProjectGarbage),f+=`

`+Vt(n.styles),f+=`

`+wt(n.fonts),f+=`

`+Ft(n.graphics),f+=`

`+Qt(n.events),f+=`

`+Ht(n.extraData),f+=`
`,f}function $l(n){let f={scriptInfo:Rt(),aegisubProjectGarbage:Lt(),styles:Dt(),fonts:Mt(),graphics:Ct(),events:Bt(),extraData:qt()},g="scriptInfo",a="projectGarbage",t="styles",m="fonts",l="graphics",r="events",o="extraData",b="",u="",N=n.split(`
`);for(let H=0;H<N.length;H++){let V=H+1,R=Xm(N[H]);if(R.length===0)continue;switch(R){case cm:b="scriptInfo";continue;case Sm:b="projectGarbage";continue;case $m:b="styles";continue;case hm:b="fonts";continue;case vm:b="graphics";continue;case Gm:b="events";continue;case _m:b="extraData";continue}let k="";switch(b){case"scriptInfo":k=Ym(f,R);break;case"projectGarbage":k=Wm(f,R);break;case"styles":k=Bm(f,R);break;case"fonts":u=Qm(f,R,u);break;case"graphics":u=Am(f,R,u);break;case"events":k=qm(f,R);break;case"extraData":Hm(f,R);break;default:console.error(`failed to parse line ${V}`);break}if(k.length>0)return console.error(`failed to parse ass file at line ${V}: ${k}
Line:
${R}`),null}return f}function Xm(n){return n=n.replaceAll("\\uFEFF",""),n=n.replaceAll("\r",""),n}function Kn(n){let f=/(?<key>.+):\s+(?<value>.*)\s*/,g={key:"",value:""},a=n.match(f);if(!a||a.length===0)return[g,`not a key-value pair: ${n}`];return g.key=a.groups?.key??"",g.value=a.groups?.value??"",[g,""]}function Ym(n,f){if(f.startsWith(Vn)){let t=f.substring(Vn.length);return n.scriptInfo.comments.push(t),""}let[g,a]=Kn(f);if(a.length>0)return`failed to parse script info line: ${a}`;return n.scriptInfo.properties.set(g.key,g.value),""}function Wm(n,f){if(f.startsWith(Vn)){let t=f.substring(Vn.length);return n.aegisubProjectGarbage.comments.push(t),""}let[g,a]=Kn(f);if(a.length>0)return`failed to parse script info line: ${a}`;return n.aegisubProjectGarbage.properties.set(g.key,g.value),""}function Bm(n,f){let g=/Style: (?<name>.*)\s*,\s*(?<fontName>.*)\s*,\s*(?<fontSize>\d+(?:\.\d+)?)\s*,\s*&H(?<alpha1>[A-Fa-f0-9]{2})(?<color1>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha2>[A-Fa-f0-9]{2})(?<color2>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha3>[A-Fa-f0-9]{2})(?<color3>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha4>[A-Fa-f0-9]{2})(?<color4>[A-Fa-f0-9]{6})\s*,\s*(?<bold>0|-1)\s*,\s*(?<italic>0|-1)\s*,\s*(?<underline>0|-1)\s*,\s*(?<strikeout>0|-1)\s*,\s*(?<scaleX>\d+(?:\.\d+)?)\s*,\s*(?<scaleY>\d+(?:\.\d+)?)\s*,\s*(?<spacing>\d+(?:\.\d+)?)\s*,\s*(?<angle>-?\d+(?:\.\d+)?)\s*,\s*(?<borderStyle>\d+)\s*,\s*(?<outline>\d+(?:\.\d+)?)\s*,\s*(?<shadow>\d+(?:\.\d+)?)\s*,\s*(?<alignment>[1-9])\s*,\s*(?<marginLeft>\d+)\s*,\s*(?<marginRight>\d+)\s*,\s*(?<marginVertical>\d+)\s*,\s*(?<encoding>\d+)/;if(!f.startsWith("Style: "))return"";let a=f.match(g);if(!a||a.length===0||!a.groups)return`failed to parse style: not a style: ${f}`;let t=Yt.safeParse(Number(a.groups.alignment));if(!t.success)return`failed to parse style: invalid alignment: ${f}`;let m=t.data,l=Wt.safeParse(Number(a.groups.encoding));if(!l.success)return`failed to parse style: invalid encoding: ${a.groups.encoding}`;let r=l.data,o={name:a.groups.name??"",fontName:a.groups.fontName??"",fontSize:Number(a.groups.fontSize??"0"),primaryAlpha:a.groups.alpha1,primaryColor:a.groups.color1,secondaryAlpha:a.groups.alpha2,secondaryColor:a.groups.color2,outlineAlpha:a.groups.alpha3,outlineColor:a.groups.color3,backAlpha:a.groups.alpha4,backColor:a.groups.color4,bold:Number(a.groups.bold),italic:Number(a.groups.italic),underline:Number(a.groups.underline),strikeOut:Number(a.groups.strikeout),scaleX:Number(a.groups.scaleX),scaleY:Number(a.groups.scaleY),spacing:Number(a.groups.spacing),angle:Number(a.groups.angle),borderStyle:Number(a.groups.borderStyle),outline:Number(a.groups.outline),shadow:Number(a.groups.shadow),alignment:m,marginLeft:Number(a.groups.marginLeft),marginRight:Number(a.groups.marginRight),marginVertical:Number(a.groups.marginVertical),encoding:r};return n.styles.styles.push(o),""}function Qm(n,f,g){let[a,t]=Kn(f);if(t.length===0&&a.key=="fontname"){let r=a.value,o={name:"",data:[]},b=n.fonts.files.findIndex((u)=>u.name===r);return n.fonts.files.push(o),b=n.fonts.files.length-1,o=n.fonts.files[b],o.name=r,g=r,r}let m=n.fonts.files.findLastIndex((r)=>r.name==g);if(m<0)return"";return n.fonts.files[m].data.push(f),g}function Am(n,f,g){let[a,t]=Kn(f);if(t.length===0&&a.key=="filename"){let r=a.value,o={name:"",data:[]},b=n.graphics.files.findIndex((u)=>u.name===r);return n.graphics.files.push(o),b=n.graphics.files.length-1,o=n.graphics.files[b],o.name=r,g=r,r}let m=n.graphics.files.findLastIndex((r)=>r.name==g);if(m<0)return"";return n.graphics.files[m].data.push(f),g}function qm(n,f){if(f.startsWith("Format:"))return n.events.format=f,"";let g=Et(f);if(g==null)return`not a event (dialogue / comment): ${g}`;return n.events.lines.push(g),""}function Hm(n,f){if(!f.startsWith(Kt))return;let g=f.substring(Kt.length);n.extraData.data.push(g)}function Yl(n){let f=[],g=n.content.split(" ");for(let o=0;o<g.length;o++){let b=g[o];if(Jm(b)){let u=b.matchAll(kn);for(let N of u)f.push({text:N[1],durationInMs:0})}else f.push({text:b,durationInMs:0});if(o!=g.length-1)f[f.length-1].text+=" "}let a=kt(n),t=Math.floor(Math.round(a*100/f.length)),m=f.length*t;for(let o of f)o.durationInMs=t;if(m!==a*100){let b=a*100-m;f[f.length-1].durationInMs+=b}let r=[];for(let o of f)r.push({name:"effect",tags:[{name:"kf",value:o.durationInMs}]},{name:"text",value:o.text});n.content=It(r)}function Jm(n){while(n.length>0){let f=n.match(kn);if(!f||f.length===0)return!1;n=n.substring(f[0].length)}return!0}var xt;((h)=>{h.a="a";h.alpha="alpha";h.alpha1="1a";h.alpha2="2a";h.alpha3="3a";h.alpha4="4a";h.an="an";h.b="b";h.be="be";h.blur="blur";h.bord="bord";h.clip="clip";h.color="c";h.color1="1c";h.color2="2c";h.color3="3c";h.color4="4c";h.fad="fad";h.fade="fade";h.fax="fax";h.fay="fay";h.fe="fe";h.fn="fn";h.fr="fr";h.frx="frx";h.fry="fry";h.frz="frz";h.fs="fs";h.fscx="fscx";h.fscy="fscy";h.fsp="fsp";h.i="i";h.iclip="iclip";h.kLowerCase="k";h.kUpperCase="K";h.kf="kf";h.ko="ko";h.move="move";h.org="org";h.p="p";h.pbo="pbo";h.pos="pos";h.q="q";h.r="r";h.s="s";h.shad="shad";h.t="t";h.text="text";h.u="u";h.unknown="unknown";h.xbord="xbord";h.xshad="xshad";h.ybord="ybord";h.yshad="yshad"})(xt||={});function Cn(n,f){let g=n.substring(1),a=n.match(Pn);if(a&&a.length>0)return Mm(n,f,g,a);let t=n.match(uf);if(t&&t.length>0){let u=t[0];if(f.push({name:"text",value:u}),n=n.substring(u.length),n.length>0)Cn(n,f);return f}let m=n.match(ut);if(!m||m.length==0)return f;function l(u,N,H){if(u.push(N),n=n.substring(H),n.length>0)Cn(n,u);return u}let r=m[0].match(gt)?.groups;if(r!=null){let u=Number(r?.move_x1??"0"),N=Number(r?.move_y1??"0"),H=Number(r?.move_x2??"0"),V=Number(r?.move_y2??"0"),R=r?.move_t1?Number(r.move_t1):null,k=r?.move_t2?Number(r.move_t2):null;return l(f,{name:"move",x1:u,y1:N,x2:H,y2:V,t1:R,t2:k},m[0].length)}if(r=m[0].match(Qf)?.groups,r!=null){let u=r?.alpha_value??"";return l(f,{name:"alpha",value:u},m[0].length)}if(r=m[0].match($g)?.groups,r!=null){let u=Number(r?.xbord_value??"0"),N={name:"xbord",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(hg)?.groups,r!=null){let u=Number(r?.ybord_value??"0"),N={name:"ybord",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Yg)?.groups,r!=null){let u=Number(r?.xshad_value??"0"),N={name:"xshad",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Bg)?.groups,r!=null){let u=Number(r?.yshad_value??"0"),N={name:"yshad",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(rt)?.groups,r!=null){let u=r?.iclip_args??"";return l(f,{name:"iclip",drawCommands:u},m[0].length)}if(r=m[0].match(Ng)?.groups,r!=null){let u=Number(r?.blur_value??"0"),N={name:"blur",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(cg)?.groups,r!=null){let u=Number(r?.bord_value??"0"),N={name:"bord",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(_g)?.groups,r!=null){let u=Number(r?.shad_value??"0"),N={name:"shad",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Mg)?.groups,r!=null){let u=Number(r?.fscx_value??"0"),N={name:"fscx",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(zg)?.groups,r!=null){let u=Number(r?.fscy_value??"0"),N={name:"fscy",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(nt)?.groups,r!=null){let u=Number(r?.fade_alpha1??"0"),N=Number(r?.fade_alpha2??"0"),H=Number(r?.fade_alpha3??"0"),V=Number(r?.fade_t1??"0"),R=Number(r?.fade_t2??"0"),k=Number(r?.fade_t3??"0"),mf=Number(r?.fade_t4??"0");return l(f,{name:"fade",alpha1:u,alpha2:N,alpha3:H,t1:V,t2:R,t3:k,t4:mf},m[0].length)}if(r=m[0].match(at)?.groups,r!=null){let u=r?.clip_args??"";return l(f,{name:"clip",drawCommands:u},m[0].length)}if(r=m[0].match(Fg)?.groups,r!=null){let u=Number(r?.fsp_value??"0"),N={name:"fsp",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Pg)?.groups,r!=null){let u=Number(r?.pos_x??"0"),N=Number(r?.pos_y??"0");return l(f,{name:"pos",x:u,y:N},m[0].length)}if(r=m[0].match(yg)?.groups,r!=null){let u=Number(r?.org_x??"0"),N=Number(r?.org_y??"0");return l(f,{name:"org",x:u,y:N},m[0].length)}if(r=m[0].match(Zg)?.groups,r!=null){let u=Number(r?.in??"0"),N=Number(r?.out??"0");return l(f,{name:"fad",in:u,out:N},m[0].length)}if(r=m[0].match(Og)?.groups,r!=null){let u=Number(r?.frx_value??"0"),N={name:"frx",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Dg)?.groups,r!=null){let u=Number(r?.fry_value??"0"),N={name:"fry",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Kg)?.groups,r!=null){let u=Number(r?.frz_value??"0"),N={name:"frz",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Ag)?.groups,r!=null){let u=Number(r?.fax_value??"0"),N={name:"fax",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Hg)?.groups,r!=null){let u=Number(r?.fay_value??"0"),N={name:"fay",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(ag)?.groups,r!=null){let u=Number(r?.pbo_value??"0"),N={name:"pbo",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Zf)?.groups,r!=null){let u=Number(r?.fe_value??"0"),N={name:"fe",encodingId:Number(u)};return l(f,N,m[0].length)}if(r=m[0].match(ng)?.groups,r!=null){let u=r?.fn_value??"";return l(f,{name:"fn",font:u},m[0].length)}if(r=m[0].match(rg)?.groups,r!=null){let u=Number(r?.an_value??"0"),N={name:"an",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(og)?.groups,r!=null){let u=Number(r?.be_value??"0"),N={name:"be",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(jg)?.groups,r!=null){let u=Number(r?.fr_value??"0"),N={name:"fr",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(kg)?.groups,r!=null){let u=Number(r?.fs_value??"0"),N={name:"fs",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Vf)?.groups,r!=null){let u=Number(r?.ko_value??"0"),N={name:"ko",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Uf)?.groups,r!=null){let u=Number(r?.kf_value??"0"),N={name:"kf",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(_f)?.groups,r!=null){let u=Number(z(r?.color1_bgr_blue??"0")),N=Number(z(r?.color1_bgr_green??"0")),H=Number(z(r?.color1_bgr_red??"0"));return l(f,{name:"1c",blue:u,green:N,red:H},m[0].length)}if(r=m[0].match(Xf)?.groups,r!=null){let u=Number(z(r?.color2_bgr_blue??"0")),N=Number(z(r?.color2_bgr_green??"0")),H=Number(z(r?.color2_bgr_red??"0"));return l(f,{name:"2c",blue:u,green:N,red:H},m[0].length)}if(r=m[0].match(Yf)?.groups,r!=null){let u=Number(z(r?.color3_bgr_blue??"0")),N=Number(z(r?.color3_bgr_green??"0")),H=Number(z(r?.color3_bgr_red??"0"));return l(f,{name:"3c",blue:u,green:N,red:H},m[0].length)}if(r=m[0].match(Wf)?.groups,r!=null){let u=Number(z(r?.color4_bgr_blue??"0")),N=Number(z(r?.color4_bgr_green??"0")),H=Number(z(r?.color4_bgr_red??"0"));return l(f,{name:"4c",blue:u,green:N,red:H},m[0].length)}if(r=m[0].match(qf)?.groups,r!=null){let u=r.alpha1_value??"";return l(f,{name:"1a",value:u},m[0].length)}if(r=m[0].match(Jf)?.groups,r!=null){let u=r.alpha2_value??"";return l(f,{name:"2a",value:u},m[0].length)}if(r=m[0].match(wf)?.groups,r!=null){let u=r.alpha3_value??"";return l(f,{name:"3a",value:u},m[0].length)}if(r=m[0].match(Cf)?.groups,r!=null){let u=r.alpha4_value??"";return l(f,{name:"4a",value:u},m[0].length)}if(r=m[0].match(Lf)?.groups,r!=null){let u=Number(r?.k_lower_case_value??"0"),N={name:"k",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Rf)?.groups,r!=null){let u=Number(r?.k_upper_case_value??"0"),N={name:"K",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Ef)?.groups,r!=null){let u=Number(r?.q_value??"0"),N={name:"q",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(If)?.groups,r!=null){let u=Number(r?.s_value??"0"),N={name:"s",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Pf)?.groups,r!=null){let u=Number(r?.u_value??"0"),N={name:"u",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(yf)?.groups,r!=null){let u=r?.r_value??"";return l(f,{name:"r",style:u},m[0].length)}if(r=m[0].match(gg)?.groups,r!=null){let u=Number(r?.p_value??"0"),N={name:"p",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(xg)?.groups,r!=null){let u=Number(r?.i_value??"0"),N={name:"i",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(Gf)?.groups,r!=null){let u=Number(z(r?.color_bgr_blue??"0")),N=Number(z(r?.color_bgr_green??"0")),H=Number(z(r?.color_bgr_red??"0"));return l(f,{name:"c",blue:u,green:N,red:H},m[0].length)}if(r=m[0].match(ug)?.groups,r!=null){let u=Number(r?.b_value??"0"),N={name:"b",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}if(r=m[0].match(bf)?.groups,r!=null){let u=Number(r?.a_value??"0"),N={name:"a",value:Number.isNaN(u)?0:u};return l(f,N,m[0].length)}let o=m[0];return l(f,{name:"unknown",value:o},m[0].length)}function Mm(n,f,g,a){if(g.startsWith("t")){let t=a[0].match(Pn)?.groups,m=t?.tags??"",l=[];Cn(m,l);let r=t?.arg1?Number(t.arg1):null,o=t?.arg2?Number(t.arg2):null,b=t?.arg3?Number(t.arg3):null,u={name:"t",accel:null,t1:null,t2:null,tags:l};if(r!==null&&o!==null&&b!==null)u.t1=r,u.t2=o,u.accel=b;else if(r!==null&&o!==null&&b===null)u.t1=r,u.t2=o,u.accel=null;else if(r!==null)u.accel=r;f.push(u)}if(n=n.substring(a[0].length),n.length>0)Cn(n,f);return f}function ql(n){let f=[],g=n.matchAll(lf);for(let a of g){if(a.groups?.fx){let t=a.groups.fx.substring(1,a.groups.fx.length-1),m=[];Cn(t,m),f.push({name:"effect",tags:m});continue}if(a.groups?.txt){f.push({name:"text",value:a.groups?.txt});continue}}return f}function it(n){let f="";for(let g of n.tags)switch(g.name){case"t":{let a={name:"effect",tags:g.tags},t=it(a);if(g.t1!==null&&g.t2!==null&&g.accel!==null)f+=`\\t(${g.t1},${g.t2},${g.accel},${t})`;else if(g.t1!==null&&g.t2!==null&&g.accel===null)f+=`\\t(${g.t1},${g.t2},${t})`;else if(g.accel!==null)f+=`\\t(${g.accel},${t})`;else f+=`\\t(${t})`;break}case"pos":case"org":f+=`\\${g.name}(${g.x},${g.y})`;break;case"move":if(f+=`\\move(${g.x1},${g.y1},${g.x2},${g.y2}`,g.t1!=null&&g.t2!=null)f+=`,${g.t1},${g.t2}`;f+=")";break;case"clip":case"iclip":f+=`\\${g.name}(${g.drawCommands})`;break;case"fad":f+=`\\fad(${g.in},${g.out})`;break;case"fade":f+=`\\fade(${g.alpha1},${g.alpha2},${g.alpha3},${g.t1},${g.t2},${g.t3},${g.t4})`;break;case"fe":f+=`\\fe${g.encodingId}`;break;case"fn":f+=`\\fn${g.font}`;break;case"r":f+=`\\r${g.style}`;break;case"c":case"1c":case"2c":case"3c":case"4c":{let a=Fn(g.blue),t=Fn(g.green),m=Fn(g.red);f+=`\\${g.name}&H${a}${t}${m}&`;break}case"text":case"unknown":f+=g.value;break;default:f+=`\\${g.name}${g.value}`;break}return f}function It(n){let f="";for(let g of n){if(g.name=="text"){f+=g.value;continue}f+="{"+it(g)+"}"}return f}function Hl(n){let f=[];for(let g=0;g<n.length;g++){let a=n[g];if(a.name!="effect")continue;let t=n[g+1];if(t.name!="effect"){g++;continue}if(t==null)break;a.tags.push(...t.tags),f.push(g+1)}for(let g of f)n.splice(g,1)}function Jl(n,f){wm(n,(g)=>{switch(g.name){case"t":{if(g.accel!=null)g.accel=w(g.accel,f);if(g.t1!=null)g.t1=w(g.t1,f);if(g.t2!=null)g.t2=w(g.t2,f);break}case"pos":case"org":g.x=w(g.x,f),g.y=w(g.y,f);break;case"move":if(g.x1=w(g.x1,f),g.y1=w(g.y1,f),g.x2=w(g.x2,f),g.y2=w(g.y2,f),g.t1!=null)g.t1=w(g.t1,f);if(g.t2!=null)g.t2=w(g.t2,f);break;case"fad":g.in=w(g.in,f),g.out=w(g.out,f);break;case"fade":g.t1=w(g.t1,f),g.t2=w(g.t2,f),g.t3=w(g.t3,f),g.t4=w(g.t4,f),g.alpha1=w(g.alpha1,f),g.alpha2=w(g.alpha2,f),g.alpha3=w(g.alpha3,f);break;case"fe":g.encodingId=Math.floor(g.encodingId);break;case"c":case"1c":case"2c":case"3c":case"4c":g.blue=Math.floor(g.blue),g.green=Math.floor(g.green),g.red=Math.floor(g.red);break;case"clip":case"iclip":case"fn":case"r":case"text":case"unknown":break;default:if(typeof g.value==="number")g.value=w(g.value,f);break}})}function wm(n,f){for(let g of n){if(g.name!="effect")continue;for(let a of g.tags)f(a)}}function Ml(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="a",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function wl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="b",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function zl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="c",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Cl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="1c",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Fl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="2c",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Ll(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="3c",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function jl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="4c",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Rl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="alpha",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Ol(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="1a",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Ul(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="2a",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Dl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="3a",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Vl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="4a",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Kl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="an",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function El(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="be",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function xl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="blur",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Il(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="bord",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function kl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="xbord",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function il(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="ybord",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Pl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="shad",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function pl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="xshad",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function yl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="yshad",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function sl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="fr",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Zl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="frx",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function dl(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="fry",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function nu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="frz",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function fu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="fax",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function gu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="fay",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function tu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="p",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function au(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="pbo",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function mu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="q",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function ru(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="s",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function lu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="u",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function uu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="r",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function eu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="fe",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function ou(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="fn",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function bu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="fscx",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Nu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="fscy",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Tu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="fsp",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function cu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="k",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Su(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="K",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function $u(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="ko",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function vu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="kf",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function hu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="i",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Gu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="fs",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function _u(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="pos",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Xu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="org",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Yu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="fad",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Wu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="fade",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Bu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="clip",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Qu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="iclip",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Au(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="move",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function qu(n){let f=n.find((t)=>t.name=="effect");if(f?.name!="effect")return null;let g="t",a=f.tags.find((t)=>t.name==g);if(a?.name!=g)return null;return a}function Hu(n,f){let g={name:"a",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Ju(n,f){let g={name:"an",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Mu(n,f){let g={name:"b",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function wu(n,f,g,a){let t={name:"c",blue:f,green:g,red:a},[m,l]=_(n,t.name,t);if(!m)l.blue=f,l.green=g,l.red=a;return l}function zu(n,f,g,a){let t={name:"1c",blue:f,green:g,red:a},[m,l]=_(n,t.name,t);if(!m)l.blue=f,l.green=g,l.red=a;return l}function Cu(n,f,g,a){let t={name:"2c",blue:f,green:g,red:a},[m,l]=_(n,t.name,t);if(!m)l.blue=f,l.green=g,l.red=a;return l}function Fu(n,f,g,a){let t={name:"3c",blue:f,green:g,red:a},[m,l]=_(n,t.name,t);if(!m)l.blue=f,l.green=g,l.red=a;return l}function Lu(n,f,g,a){let t={name:"4c",blue:f,green:g,red:a},[m,l]=_(n,t.name,t);if(!m)l.blue=f,l.green=g,l.red=a;return l}function ju(n,f){let g={name:"alpha",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Ru(n,f){let g={name:"1a",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Ou(n,f){let g={name:"2a",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Uu(n,f){let g={name:"3a",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Du(n,f){let g={name:"4a",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Vu(n,f){let g={name:"blur",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Ku(n,f){let g={name:"bord",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Eu(n,f){let g={name:"xbord",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function xu(n,f){let g={name:"ybord",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Iu(n,f){let g={name:"fax",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function ku(n,f){let g={name:"fay",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function iu(n,f){let g={name:"fscx",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Pu(n,f){let g={name:"fscy",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function pu(n,f){let g={name:"fsp",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function yu(n,f){let g={name:"fe",encodingId:f},[a,t]=_(n,g.name,g);if(!a)t.encodingId=f;return t}function su(n,f){let g={name:"fn",font:f},[a,t]=_(n,g.name,g);if(!a)t.font=f;return t}function Zu(n,f){let g={name:"k",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function du(n,f){let g={name:"K",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function ne(n,f){let g={name:"kf",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function fe(n,f){let g={name:"ko",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function ge(n,f){let g={name:"p",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function te(n,f){let g={name:"pbo",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function ae(n,f){let g={name:"q",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function me(n,f){let g={name:"s",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function re(n,f){let g={name:"shad",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function le(n,f){let g={name:"xshad",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function ue(n,f){let g={name:"yshad",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function ee(n,f){let g={name:"u",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function oe(n,f){let g={name:"be",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function be(n,f){let g={name:"fs",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Ne(n,f){let g={name:"fr",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Te(n,f){let g={name:"frx",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function ce(n,f){let g={name:"fry",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function Se(n,f){let g={name:"frz",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function $e(n,f){let g={name:"i",value:f},[a,t]=_(n,g.name,g);if(!a)t.value=f;return t}function ve(n,f){let g={name:"r",style:f},[a,t]=_(n,g.name,g);if(!a)t.style=f;return t}function he(n,f,g){let a={name:"pos",x:f,y:g},[t,m]=_(n,a.name,a);if(!t)m.x=f,m.y=g;return m}function Ge(n,f,g){let a={name:"org",x:f,y:g},[t,m]=_(n,a.name,a);if(!t)m.x=f,m.y=g;return m}function _e(n,f,g){let a={name:"fad",in:f,out:g},[t,m]=_(n,a.name,a);if(!t)m.in=f,m.out=g;return m}function Xe(n,f,g,a,t,m,l,r){let o={name:"fade",alpha1:f,alpha2:g,alpha3:a,t1:t,t2:m,t3:l,t4:r},[b,u]=_(n,o.name,o);if(!b)u.alpha1=f,u.alpha2=g,u.alpha3=a,u.t1=t,u.t2=m,u.t3=l,u.t4=r;return u}function Ye(n,f){let g={name:"clip",drawCommands:f},[a,t]=_(n,g.name,g);if(!a)t.drawCommands=f;return t}function We(n,f){let g={name:"iclip",drawCommands:f},[a,t]=_(n,g.name,g);if(!a)t.drawCommands=f;return t}function Be(n,f,g,a,t,m=null,l=null){let r={name:"move",x1:f,y1:g,x2:a,y2:t,t1:m,t2:l},[o,b]=_(n,r.name,r);if(!o)b.x1=f,b.y1=g,b.x2=a,b.y2=t,b.t1=m,b.t2=l;return b}function Qe(n,f,g=null,a=null,t=null){let m={name:"t",t1:a,t2:t,accel:g,tags:f},[l,r]=_(n,m.name,m);if(!l)r.t1=a,r.t2=t,r.accel=g,r.tags=f;return r}function Ae(n){return[{name:"effect",tags:n}]}function qe(n){let f=n.find((g)=>g.name==="effect");if(f==null||f.name!="effect")return[];return f.tags}function _(n,f,g){let a=n.find((m)=>m.name=="effect");if(a?.name!="effect")return n.unshift({name:"effect",tags:[g]}),[!0,g];let t=a.tags.find((m)=>m.name==f);if(t?.name!=f)return a.tags.push(g),[!0,g];return[!1,t]}function He(n,f){let g=n.find((t)=>t.name=="effect");if(g?.name!="effect")return;let a=g.tags.findIndex((t)=>t.name===f);if(a<0)return;g.tags.splice(a,1)}function Et(n){let f=n.match(ef);if(f==null)return null;let g=f.groups,a=pn(g?.start??"");if(a==null)return null;let t=pn(g?.end??"");if(t==null)return null;return{type:g?.type??"",layer:Number(g?.layer??"0"),start:a,end:t,style:g?.style??"",actor:g?.actor??"",marginLeft:Number(g?.marginLeft??"0"),marginRight:Number(g?.marginRight??"0"),marginVertical:Number(g?.marginVertical??"0"),effect:g?.effect??"",content:g?.content??""}}function At(n){let f=n.type;return f+=": ",f+=Math.floor(n.layer),f+=",",f+=sn(n.start),f+=",",f+=sn(n.end),f+=",",f+=n.style,f+=",",f+=n.actor,f+=",",f+=Math.floor(n.marginLeft),f+=",",f+=Math.floor(n.marginRight),f+=",",f+=Math.floor(n.marginVertical),f+=",",f+=n.effect,f+=",",f+=n.content,f}function kt(n){return tn(n.end)-tn(n.start)}function Je(n){let f=n.match(hf);if(f==null)return null;let g=f.groups;return{blue:z(g?.color_bgr_blue??""),green:z(g?.color_bgr_green??""),red:z(g?.color_bgr_red??"")}}function Me(){return{type:"Dialogue",layer:0,start:{hours:0,minutes:0,seconds:0},end:{hours:0,minutes:0,seconds:5},style:"Default",actor:"",marginLeft:0,marginRight:0,marginVertical:0,effect:"",content:""}}export{Jl as truncateNumberTags,w as truncate,sn as timeToString,tn as timeToSeconds,Ae as tagsToItems,pm as sumTimes,ym as subtractTimes,Ut as styleToString,Yl as splitSyllabes,ue as setYshad,xu as setYbord,le as setXshad,Eu as setXbord,ee as setU,Qe as setT,re as setShad,me as setS,ve as setR,ae as setQ,he as setPos,te as setPbo,ge as setP,Ge as setOrg,Be as setMove,fe as setKo,ne as setKf,du as setKUpperCase,Zu as setKLowerCase,We as setIclip,$e as setI,pu as setFsp,Pu as setFscy,iu as setFscx,be as setFs,Se as setFrz,ce as setFry,Te as setFrx,Ne as setFr,su as setFn,yu as setFe,ku as setFay,Iu as setFax,Xe as setFade,_e as setFad,Lu as setColor4,Fu as setColor3,Cu as setColor2,zu as setColor1,wu as setColor,Ye as setClip,Ku as setBord,Vu as setBlur,oe as setBe,Mu as setB,Ju as setAn,Du as setAlpha4,Uu as setAlpha3,Ou as setAlpha2,Ru as setAlpha1,ju as setAlpha,Hu as setA,Vt as sectionStylesToString,Ot as sectionScriptInfoToString,jt as sectionProjectGarbageToString,Ft as sectionGraphicsToString,wt as sectionFontsToString,Ht as sectionExtraDataToString,Qt as sectionEventsToString,et as secondsToTime,He as removeTag,pn as parseTime,Cn as parseTags,Et as parseLine,ql as parseContent,Je as parseColorBGR,$l as parseASSFile,Fn as numberToHex,Dt as newSectionStyles,Ct as newSectionGraphics,Mt as newSectionFonts,qt as newSectionExtraData,Bt as newSectionEvents,Rt as newScriptInfo,Lt as newProjectGarbage,Hl as mergeNeighboringEffects,At as lineToString,qe as itemsToTags,Jm as isRomajiWord,Cm as interpolate,z as hexToNumber,yr as generateDefaultSectionStyles,Me as generateDefaultLine,wm as forEachTag,yl as findYshad,il as findYbord,pl as findXshad,kl as findXbord,lu as findU,qu as findT,Pl as findShad,ru as findS,uu as findR,mu as findQ,_u as findPos,au as findPbo,tu as findP,Xu as findOrg,Au as findMove,$u as findKo,vu as findKf,Su as findKUpperCase,cu as findKLowerCase,Qu as findIclip,hu as findI,Tu as findFsp,Nu as findFscy,bu as findFscx,Gu as findFs,nu as findFrz,dl as findFry,Zl as findFrx,sl as findFr,ou as findFn,eu as findFe,gu as findFay,fu as findFax,Wu as findFade,Yu as findFad,jl as findColor4,Ll as findColor3,Fl as findColor2,Cl as findColor1,zl as findColor,Bu as findClip,Il as findBord,xl as findBlur,El as findBe,wl as findB,Kl as findAn,Vl as findAlpha4,Dl as findAlpha3,Ul as findAlpha2,Ol as findAlpha1,Rl as findAlpha,Ml as findA,It as contentsToString,it as contentEffectToString,kt as calculateLineDurationInSeconds,yn as adjustTimeOverplus,xt as TagName,jr as ScriptInfoPropertyYCbCrMatrix,zr as ScriptInfoPropertyWrapStyle,Er as ScriptInfoPropertyUpdateDetails,Mr as ScriptInfoPropertyTitle,Vr as ScriptInfoPropertySynchPoint,Kr as ScriptInfoPropertyScriptUpdatedBy,wr as ScriptInfoPropertyScriptType,Lr as ScriptInfoPropertyScaledBorderAndShadow,Fr as ScriptInfoPropertyPlayResY,Cr as ScriptInfoPropertyPlayResX,Or as ScriptInfoPropertyOriginalTranslation,Dr as ScriptInfoPropertyOriginalTiming,Rr as ScriptInfoPropertyOriginalScript,Ur as ScriptInfoPropertyOriginalEditing,Qr as ProjectGarbagePropertyVideoZoomPercent,Hr as ProjectGarbagePropertyVideoPosition,_r as ProjectGarbagePropertyVideoFile,Br as ProjectGarbagePropertyVideoARValue,Wr as ProjectGarbagePropertyVideoARMode,Xr as ProjectGarbagePropertyTimecodesFile,Ar as ProjectGarbagePropertyScrollPosition,hr as ProjectGarbagePropertyLastStyleStorage,Yr as ProjectGarbagePropertyKeyframesFile,$r as ProjectGarbagePropertyExportFilters,vr as ProjectGarbagePropertyExportEncoding,Sr as ProjectGarbagePropertyAutomationScripts,Gr as ProjectGarbagePropertyAudioFile,qr as ProjectGarbagePropertyActiveLine,af as Encodings,Wt as Encoding,zt as AttachedGraphicToString,Jt as AttachedFontToString,tf as Alignments,Yt as Alignment,Sl as ASSFileToString};

//# debugId=CD8A4BDEF2B4B77864756E2164756E21
