function G(Z){return parseInt(Z,16)}function S(Z){return Math.floor(Z).toString(16).padStart(2,"0").toUpperCase()}function q_(Z,_,$){const A=Z>_;let j=_,z=Z;if(A)j=Z,z=_;const H=(j-z)/$;let Y=z;const E=[z];for(let K=1;K<$;K++){if(Y+=H,Y>j)Y=j;E.push(Y)}if(E[$-1]=j,A)E.reverse();return E}var P$=/^(\(.*\)|\\?.)$/,C=(Z)=>{const _=Z.toString();return P$.test(_)?_:`(?:${_})`},q$=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,L$=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/,Q=(Z)=>{const _=($)=>Q(`(?<${$}>${`${Z}`.replace(q$,"$1$2")})`);return{toString:()=>Z.toString(),and:Object.assign((...$)=>Q(`${Z}${W(...$)}`),{referenceTo:($)=>Q(`${Z}\\k<${$}>`)}),or:(...$)=>Q(`(?:${Z}|${W(...$)})`),after:(...$)=>Q(`(?<=${W(...$)})${Z}`),before:(...$)=>Q(`${Z}(?=${W(...$)})`),notAfter:(...$)=>Q(`(?<!${W(...$)})${Z}`),notBefore:(...$)=>Q(`${Z}(?!${W(...$)})`),times:Object.assign(($)=>Q(`${C(Z)}{${$}}`),{any:()=>Q(`${C(Z)}*`),atLeast:($)=>Q(`${C(Z)}{${$},}`),atMost:($)=>Q(`${C(Z)}{0,${$}}`),between:($,A)=>Q(`${C(Z)}{${$},${A}}`)}),optionally:()=>Q(`${C(Z)}?`),as:_,groupedAs:_,grouped:()=>Q(`${Z}`.replace(L$,"($1$3)$2")),at:{lineStart:()=>Q(`^${Z}`),lineEnd:()=>Q(`${Z}\$`)}}},J$=/[.*+?^${}()|[\]\\/]/g;var R=(Z)=>Q(`[^${Z.replace(/[-\\^\]]/g,"\\$&")}]`),U=(...Z)=>Q(`(?:${Z.map((_)=>W(_)).join("|")})`),v=Q("."),Q$=Q("\\b\\w+\\b"),H$=Q("\\w"),Y$=Q("\\b"),J=Q("\\d"),E$=Q("\\s"),b=Object.assign(Q("[a-zA-Z]"),{lowercase:Q("[a-z]"),uppercase:Q("[A-Z]")}),X$=Q("\\t"),K$=Q("\\n"),G$=Q("\\r"),B$={word:Q("\\W+"),wordChar:Q("\\W"),wordBoundary:Q("\\B"),digit:Q("\\D"),whitespace:Q("\\S"),letter:Object.assign(Q("[^a-zA-Z]"),{lowercase:Q("[^a-z]"),uppercase:Q("[^A-Z]")}),tab:Q("[^\\t]"),linefeed:Q("[^\\n]"),carriageReturn:Q("[^\\r]")};var W=(...Z)=>Q(Z.map((_)=>typeof _==="string"?_.replace(J$,"\\$&"):_).join("")),q=(...Z)=>Q(`${C(W(...Z))}+`);var B=(...Z)=>{const _=Z.length>1&&(Array.isArray(Z[Z.length-1])||Z[Z.length-1]instanceof Set)?Z.pop():void 0;return new RegExp(W(...Z).toString(),[..._||""].join(""))};var y=/(?<fx>{[^{]*})|(?<txt>{*[^{]*)/g,p=q(J).and(W(":")).and(J.times(2)).and(W(":")).and(J.times(2)).and(W(".")).and(J.times(2)),R$=U("Dialogue","Comment").groupedAs("type").and(W(": ")).and(q(J).optionally().groupedAs("layer")).and(W(",")).and(p.optionally().groupedAs("start")).and(W(",")).and(p.optionally().groupedAs("end")).and(W(",")).and(q(R(",").optionally()).groupedAs("style")).and(W(",")).and(q(R(",")).optionally().groupedAs("actor")).and(W(",")).and(q(J).optionally().groupedAs("marginLeft")).and(W(",")).and(q(J).optionally().groupedAs("marginRight")).and(W(",")).and(q(J).optionally().groupedAs("marginVertical")).and(W(",")).and(q(R(",")).optionally().groupedAs("effect")).and(W(",")).and(q(v).optionally().groupedAs("content")),w=B(R$),I$=W("-").optionally().and(q(J)),X=I$.and(W(".").and(q(J)).optionally()),C$=W("\\").and("a").and(q(J)),F=W("&H").and(b.or(J).times(2).groupedAs("color_rgb_red")).and(b.or(J).times(2).groupedAs("color_rgb_green")).and(b.or(J).times(2).groupedAs("color_rgb_blue")).and(W("&")),V=W("\\").and(F),c=W("\\1c").and(F),o=W("\\2c").and(F),f=W("\\3c").and(F),n=W("\\4c").and(F),d=B(V),x=B(c),r=B(o),i=B(f),u=B(n),b$=W("\\").and("alpha").and(q(R("\\"))),F$=W("\\").and("1a").and(q(R("\\"))),S$=W("\\").and("2a").and(q(R("\\"))),M$=W("\\").and("3a").and(q(R("\\"))),O$=W("\\").and("4a").and(q(R("\\"))),U$=W("\\").and("k").and(q(J)),v$=W("\\").and("K").and(q(J)),h$=W("\\").and("kf").and(q(J)),p$=W("\\").and("ko").and(q(J)),y$=W("\\").and("q").and(q(J)),w$=W("\\").and("s").and(q(J)),V$=W("\\").and("u").and(q(J)),c$=W("\\").and("r").and(q(R("\\"))),o$=W("\\").and("fe").and(q(J)),f$=W("\\").and("fn").and(q(R("\\"))),n$=W("\\").and("p").and(q(J)),d$=W("\\").and("pbo").and(q(J)),x$=W("\\").and("an").and(q(J)),r$=W("\\").and("b").and(q(J)),i$=W("\\").and("be").and(q(J)),u$=W("\\").and("blur").and(q(J)),s$=W("\\").and("bord").and(q(J)),l$=W("\\").and("xbord").and(q(J)),N$=W("\\").and("ybord").and(q(J)),T$=W("\\").and("shad").and(q(J)),m$=W("\\").and("xshad").and(q(J)),g$=W("\\").and("yshad").and(q(J)),t$=W("\\").and("fax").and(q(J)),e$=W("\\").and("fay").and(q(J)),a$=W("\\").and("fscx").and(q(J)),$_=W("\\").and("fscy").and(q(J)),__=W("\\").and("fsp").and(q(J)),j_=W("\\").and("fr").and(X),A_=W("\\").and("frx").and(X),Z_=W("\\").and("fry").and(X),k_=W("\\").and("frz").and(X),z_=W("\\").and("i").and(W("1").or("0")),D_=W("\\").and("fs").and(q(J)),s=W("\\").and("pos").and(W("(")).and(X.groupedAs("pos_x")).and(W(",")).and(X.groupedAs("pos_y")).and(W(")")),l=B(s),N=W("\\").and("org").and(W("(")).and(X.groupedAs("org_x")).and(W(",")).and(X.groupedAs("org_y")).and(W(")")),T=B(N),m=W("\\").and("fad").and(W("(")).and(X.groupedAs("in")).and(W(",")).and(X.groupedAs("out")).and(W(")")),g=B(m),t=W("\\").and("fade").and(W("(")).and(X.groupedAs("fade_alpha1")).and(W(",")).and(X.groupedAs("fade_alpha2")).and(W(",")).and(X.groupedAs("fade_alpha3")).and(W(",")).and(X.groupedAs("fade_t1")).and(W(",")).and(X.groupedAs("fade_t2")).and(W(",")).and(X.groupedAs("fade_t3")).and(W(",")).and(X.groupedAs("fade_t4")).and(W(")")),e=B(t),W_=W(",").and(X.groupedAs("move_t1")).and(W(",")).and(X.groupedAs("move_t2")).optionally(),a=W("\\").and("move").and(W("(")).and(X.groupedAs("move_x1")).and(W(",")).and(X.groupedAs("move_y1")).and(W(",")).and(X.groupedAs("move_x2")).and(W(",")).and(X.groupedAs("move_y2")).and(W_).and(W(")")),$$=B(a),_$=W("\\").and("clip").and(W("(")).and(q(R(")")).groupedAs("clip_args")).and(W(")")),j$=B(_$),A$=W("\\").and("iclip").and(W("(")).and(q(R(")")).groupedAs("iclip_args")).and(W(")")),Z$=B(A$),k$=i$.or(b$).or(l$).or(N$).or(m$).or(g$).or(A$).or(a).or(u$).or(s$).or(T$).or(a$).or($_).or(t).or(_$).or(__).or(s).or(N).or(m).or(d$).or(A_).or(Z_).or(k_).or(t$).or(e$).or(p$).or(h$).or(j_).or(D_).or(o$).or(f$).or(x$).or(c).or(o).or(f).or(n).or(F$).or(S$).or(M$).or(O$).or(V).or(y$).or(V$).or(w$).or(n$).or(c$).or(z_).or(r$).or(C$).or(U$).or(v$),P_=W("\\").at.lineStart().and("t").and(W("(")).and(q(J).groupedAs("arg1").and(W(",")).optionally()).and(q(J).groupedAs("arg2").and(W(",")).optionally()).and(q(J).groupedAs("arg3").and(W(",")).optionally()).and(q(k$).groupedAs("tags")).and(W(")")),z$=B(k$),h=B(P_);function M(Z,_){const $=Z.substring(1),A=Z.match(h);if(A&&A[0]){if($.startsWith(k.t)){const z=A[0].match(h)?.groups,D=z?.tags??"",H=[];M(D,H);const Y=z?.arg1?Number(z.arg1):null,E=z?.arg2?Number(z.arg2):null,K=z?.arg3?Number(z.arg3):null,I={name:k.t,accel:null,t1:null,t2:null,tags:H};if(Y!==null&&E!==null&&K!==null)I.t1=Y,I.t2=E,I.accel=K;else if(Y!==null&&E!==null&&K===null)I.t1=Y,I.t2=E,I.accel=null;else if(Y!==null)I.accel=Y;_.push(I)}if(Z=Z.substring(A[0].length),Z.length>0)M(Z,_);return _}const j=Z.match(z$);if(!j||!j[0])return _;if($.startsWith(k.move)){const z=j[0].match($$)?.groups,D=Number(z?.move_x1??"0"),H=Number(z?.move_y1??"0"),Y=Number(z?.move_x2??"0"),E=Number(z?.move_y2??"0"),K=z?.move_t1?Number(z.move_t1):null,I=z?.move_t2?Number(z.move_t2):null,O={name:k.move,x1:D,y1:H,x2:Y,y2:E,t1:K,t2:I};_.push(O)}else if($.startsWith(k.alpha)){const z=j[0].substring(1+k.alpha.length),D={name:k.alpha,value:z};_.push(D)}else if($.startsWith(k.xbord)){const z=Number(j[0].substring(1+k.xbord.length)),D={name:k.xbord,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.ybord)){const z=Number(j[0].substring(1+k.ybord.length)),D={name:k.ybord,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.xshad)){const z=Number(j[0].substring(1+k.xshad.length)),D={name:k.xshad,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.yshad)){const z=Number(j[0].substring(1+k.yshad.length)),D={name:k.yshad,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.iclip)){const D=j[0].match(Z$)?.groups?.iclip_args??"",H={name:k.iclip,drawCommands:D};_.push(H)}else if($.startsWith(k.blur)){const z=Number(j[0].substring(1+k.blur.length)),D={name:k.blur,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.bord)){const z=Number(j[0].substring(1+k.bord.length)),D={name:k.bord,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.shad)){const z=Number(j[0].substring(1+k.shad.length)),D={name:k.shad,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.fscx)){const z=Number(j[0].substring(1+k.fscx.length)),D={name:k.fscx,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.fscy)){const z=Number(j[0].substring(1+k.fscy.length)),D={name:k.fscy,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.fade)){const z=j[0].match(e)?.groups,D=Number(z?.fade_alpha1??"0"),H=Number(z?.fade_alpha2??"0"),Y=Number(z?.fade_alpha3??"0"),E=Number(z?.fade_t1??"0"),K=Number(z?.fade_t2??"0"),I=Number(z?.fade_t3??"0"),O=Number(z?.fade_t4??"0"),W$={name:k.fade,alpha1:D,alpha2:H,alpha3:Y,t1:E,t2:K,t3:I,t4:O};_.push(W$)}else if($.startsWith(k.clip)){const D=j[0].match(j$)?.groups?.clip_args??"",H={name:k.clip,drawCommands:D};_.push(H)}else if($.startsWith(k.fsp)){const z=Number(j[0].substring(1+k.fsp.length)),D={name:k.fsp,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.pos)){const z=j[0].match(l)?.groups,D=Number(z?.pos_x??"0"),H=Number(z?.pos_y??"0"),Y={name:k.pos,x:D,y:H};_.push(Y)}else if($.startsWith(k.org)){const z=j[0].match(T)?.groups,D=Number(z?.org_x??"0"),H=Number(z?.org_y??"0"),Y={name:k.org,x:D,y:H};_.push(Y)}else if($.startsWith(k.fad)){const z=j[0].match(g)?.groups,D=Number(z?.in??"0"),H=Number(z?.out??"0"),Y={name:k.fad,in:D,out:H};_.push(Y)}else if($.startsWith(k.frx)){const z=Number(j[0].substring(1+k.frx.length)),D={name:k.frx,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.fry)){const z=Number(j[0].substring(1+k.fry.length)),D={name:k.fry,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.frz)){const z=Number(j[0].substring(1+k.frz.length)),D={name:k.frz,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.fax)){const z=Number(j[0].substring(1+k.fax.length)),D={name:k.fax,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.fay)){const z=Number(j[0].substring(1+k.fay.length)),D={name:k.fay,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.pbo)){const z=Number(j[0].substring(1+k.pbo.length)),D={name:k.pbo,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.fe)){const z=Number(j[0].substring(1+k.fe.length)),D={name:k.fe,encodingId:Number(z)};_.push(D)}else if($.startsWith(k.fn)){const z=j[0].substring(1+k.fn.length),D={name:k.fn,font:z};_.push(D)}else if($.startsWith(k.an)){const z=Number(j[0].substring(1+k.be.length)),D={name:k.an,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.be)){const z=Number(j[0].substring(1+k.be.length)),D={name:k.be,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.fr)){const z=Number(j[0].substring(1+k.fr.length)),D={name:k.fr,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.fs)){const z=Number(j[0].substring(1+k.fs.length)),D={name:k.fs,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.ko)){const z=Number(j[0].substring(1+k.ko.length)),D={name:k.ko,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.kf)){const z=Number(j[0].substring(1+k.kf.length)),D={name:k.kf,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.color1)){const z=j[0].match(x)?.groups,D=Number(G(z?.color_rgb_red??"0")),H=Number(G(z?.color_rgb_green??"0")),Y=Number(G(z?.color_rgb_blue??"0")),E={name:k.color1,red:D,green:H,blue:Y};_.push(E)}else if($.startsWith(k.color2)){const z=j[0].match(r)?.groups,D=Number(G(z?.color_rgb_red??"0")),H=Number(G(z?.color_rgb_green??"0")),Y=Number(G(z?.color_rgb_blue??"0")),E={name:k.color2,red:D,green:H,blue:Y};_.push(E)}else if($.startsWith(k.color3)){const z=j[0].match(i)?.groups,D=Number(G(z?.color_rgb_red??"0")),H=Number(G(z?.color_rgb_green??"0")),Y=Number(G(z?.color_rgb_blue??"0")),E={name:k.color3,red:D,green:H,blue:Y};_.push(E)}else if($.startsWith(k.color4)){const z=j[0].match(u)?.groups,D=Number(G(z?.color_rgb_red??"0")),H=Number(G(z?.color_rgb_green??"0")),Y=Number(G(z?.color_rgb_blue??"0")),E={name:k.color4,red:D,green:H,blue:Y};_.push(E)}else if($.startsWith(k.alpha1)){const z=j[0].substring(1+k.alpha1.length),D={name:k.alpha1,value:z};_.push(D)}else if($.startsWith(k.alpha2)){const z=j[0].substring(1+k.alpha2.length),D={name:k.alpha2,value:z};_.push(D)}else if($.startsWith(k.alpha3)){const z=j[0].substring(1+k.alpha3.length),D={name:k.alpha3,value:z};_.push(D)}else if($.startsWith(k.alpha4)){const z=j[0].substring(1+k.alpha4.length),D={name:k.alpha4,value:z};_.push(D)}else if($.startsWith(k.kLowerCase)){const z=Number(j[0].substring(1+k.kLowerCase.length)),D={name:k.kLowerCase,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.kUpperCase)){const z=Number(j[0].substring(1+k.kUpperCase.length)),D={name:k.kUpperCase,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.q)){const z=Number(j[0].substring(1+k.q.length)),D={name:k.q,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.s)){const z=Number(j[0].substring(1+k.s.length)),D={name:k.s,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.u)){const z=Number(j[0].substring(1+k.u.length)),D={name:k.u,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.r)){const z=j[0].substring(1+k.r.length),D={name:k.r,style:z};_.push(D)}else if($.startsWith(k.p)){const z=Number(j[0].substring(1+k.p.length)),D={name:k.p,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.i)){const z=Number(j[0].substring(1+k.i.length)),D={name:k.i,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.color)){const z=j[0].match(d)?.groups,D=Number(G(z?.color_rgb_red??"0")),H=Number(G(z?.color_rgb_green??"0")),Y=Number(G(z?.color_rgb_blue??"0")),E={name:k.color,red:D,green:H,blue:Y};_.push(E)}else if($.startsWith(k.b)){const z=Number(j[0].substring(1+k.b.length)),D={name:k.b,value:Number.isNaN(z)?0:z};_.push(D)}else if($.startsWith(k.a)){const z=Number(j[0].substring(1+k.a.length)),D={name:k.a,value:Number.isNaN(z)?0:z};_.push(D)}if(Z=Z.substring(j[0].length),Z.length>0)M(Z,_);return _}function U_(Z){const _=[],$=Z.matchAll(y);for(let A of $){if(A.groups?.fx){const j=A.groups.fx.substring(1,A.groups.fx.length-1),z=[];M(j,z),_.push({name:"effect",tags:z});continue}if(A.groups?.txt){_.push({name:"text",value:A.groups?.txt});continue}}return _}function D$(Z){let _="";for(let $ of Z.tags)switch($.name){case k.t:const A={name:"effect",tags:$.tags},j=D$(A);if($.t1!==null&&$.t2!==null&&$.accel!==null)_+=`\\t(${$.t1},${$.t2},${$.accel},${j})`;else if($.t1!==null&&$.t2!==null&&$.accel===null)_+=`\\t(${$.t1},${$.t2},${j})`;else if($.accel!==null)_+=`\\t(${$.accel},${j})`;else _+=`\\t(${j})`;break;case k.pos:case k.org:_+=`\\${$.name}(${$.x},${$.y})`;break;case k.move:if(_+=`\\move(${$.x1},${$.y1},${$.x2},${$.y2}`,$.t1!=null&&$.t2!=null)_+=`,${$.t1},${$.t2}`;_+=")";break;case k.clip:case k.iclip:_+=`\\${$.name}(${$.drawCommands})`;break;case k.fad:_+=`\\fad(${$.in},${$.out})`;break;case k.fade:_+=`\\fade(${$.alpha1},${$.alpha2},${$.alpha3},${$.t1},${$.t2},${$.t3},${$.t4})`;break;case k.fe:_+=`\\fe${$.encodingId}`;break;case k.fn:_+=`\\fn${$.font}`;break;case k.r:_+=`\\r${$.style}`;break;case k.color:case k.color1:case k.color2:case k.color3:case k.color4:const z=S($.red),D=S($.green),H=S($.blue);_+=`\\${$.name}&H${z}${D}${H}&`;break;default:_+=`\\${$.name}${$.value}`;break}return _}function v_(Z){let _="";for(let $ of Z){if($.name=="text"){_+=$.value;continue}_+="{"+D$($)+"}"}return _}function h_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.a,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function p_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.b,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function y_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.color,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function w_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.color1,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function V_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.color2,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function c_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.color3,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function o_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.color4,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function f_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.alpha,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function n_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.alpha1,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function d_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.alpha2,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function x_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.alpha3,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function r_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.alpha4,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function i_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.an,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function u_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.be,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function s_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.blur,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function l_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.bord,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function N_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.xbord,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function T_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.ybord,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function m_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.shad,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function g_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.xshad,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function t_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.yshad,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function e_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.fr,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function a_(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.frx,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function $j(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.fry,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function _j(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.frz,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function jj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.fax,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Aj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.fay,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Zj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.p,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function kj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.pbo,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function zj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.q,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Dj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.s,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Wj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.u,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Pj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.r,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function qj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.fe,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Lj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.fn,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Jj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.fscx,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Qj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.fscy,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Hj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.fsp,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Yj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.kLowerCase,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Ej(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.kUpperCase,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Xj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.ko,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Kj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.kf,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Gj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.i,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Bj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.fs,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Rj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.pos,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Ij(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.org,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Cj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.fad,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function bj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.fade,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Fj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.clip,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Sj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.iclip,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Mj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.move,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Oj(Z){const _=Z.find((j)=>j.name=="effect");if(_?.name!="effect")return null;const $=k.t,A=_.tags.find((j)=>j.name==$);if(A?.name!=$)return null;return A}function Uj(Z,_){const $={name:k.a,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function vj(Z,_){const $={name:k.an,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function hj(Z,_){const $={name:k.b,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function pj(Z,_,$,A){const j={name:k.color,red:_,green:$,blue:A},[z,D]=L(Z,j.name,j);if(!z)D.red=_,D.green=$,D.blue=A;return D}function yj(Z,_,$,A){const j={name:k.color1,red:_,green:$,blue:A},[z,D]=L(Z,j.name,j);if(!z)D.red=_,D.green=$,D.blue=A;return D}function wj(Z,_,$,A){const j={name:k.color2,red:_,green:$,blue:A},[z,D]=L(Z,j.name,j);if(!z)D.red=_,D.green=$,D.blue=A;return D}function Vj(Z,_,$,A){const j={name:k.color3,red:_,green:$,blue:A},[z,D]=L(Z,j.name,j);if(!z)D.red=_,D.green=$,D.blue=A;return D}function cj(Z,_,$,A){const j={name:k.color4,red:_,green:$,blue:A},[z,D]=L(Z,j.name,j);if(!z)D.red=_,D.green=$,D.blue=A;return D}function oj(Z,_){const $={name:k.alpha,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function fj(Z,_){const $={name:k.alpha1,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function nj(Z,_){const $={name:k.alpha2,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function dj(Z,_){const $={name:k.alpha3,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function xj(Z,_){const $={name:k.alpha4,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function rj(Z,_){const $={name:k.blur,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function ij(Z,_){const $={name:k.bord,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function uj(Z,_){const $={name:k.xbord,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function sj(Z,_){const $={name:k.ybord,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function lj(Z,_){const $={name:k.fax,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function Nj(Z,_){const $={name:k.fay,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function Tj(Z,_){const $={name:k.fscx,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function mj(Z,_){const $={name:k.fscy,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function gj(Z,_){const $={name:k.fsp,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function tj(Z,_){const $={name:k.fe,encodingId:_},[A,j]=L(Z,$.name,$);if(!A)j.encodingId=_;return j}function ej(Z,_){const $={name:k.fn,font:_},[A,j]=L(Z,$.name,$);if(!A)j.font=_;return j}function aj(Z,_){const $={name:k.kLowerCase,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function $1(Z,_){const $={name:k.kUpperCase,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function _1(Z,_){const $={name:k.kf,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function j1(Z,_){const $={name:k.ko,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function A1(Z,_){const $={name:k.p,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function Z1(Z,_){const $={name:k.pbo,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function k1(Z,_){const $={name:k.q,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function z1(Z,_){const $={name:k.s,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function D1(Z,_){const $={name:k.shad,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function W1(Z,_){const $={name:k.xshad,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function P1(Z,_){const $={name:k.yshad,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function q1(Z,_){const $={name:k.u,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function L1(Z,_){const $={name:k.be,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function J1(Z,_){const $={name:k.fs,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function Q1(Z,_){const $={name:k.fr,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function H1(Z,_){const $={name:k.frx,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function Y1(Z,_){const $={name:k.fry,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function E1(Z,_){const $={name:k.frz,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function X1(Z,_){const $={name:k.i,value:_},[A,j]=L(Z,$.name,$);if(!A)j.value=_;return j}function K1(Z,_){const $={name:k.r,style:_},[A,j]=L(Z,$.name,$);if(!A)j.style=_;return j}function G1(Z,_,$){const A={name:k.pos,x:_,y:$},[j,z]=L(Z,A.name,A);if(!j)z.x=_,z.y=$;return z}function B1(Z,_,$){const A={name:k.org,x:_,y:$},[j,z]=L(Z,A.name,A);if(!j)z.x=_,z.y=$;return z}function R1(Z,_,$){const A={name:k.fad,in:_,out:$},[j,z]=L(Z,A.name,A);if(!j)z.in=_,z.out=$;return z}function I1(Z,_,$,A,j,z,D,H){const Y={name:k.fade,alpha1:_,alpha2:$,alpha3:A,t1:j,t2:z,t3:D,t4:H},[E,K]=L(Z,Y.name,Y);if(!E)K.alpha1=_,K.alpha2=$,K.alpha3=A,K.t1=j,K.t2=z,K.t3=D,K.t4=H;return K}function C1(Z,_){const $={name:k.clip,drawCommands:_},[A,j]=L(Z,$.name,$);if(!A)j.drawCommands=_;return j}function b1(Z,_){const $={name:k.iclip,drawCommands:_},[A,j]=L(Z,$.name,$);if(!A)j.drawCommands=_;return j}function F1(Z,_,$,A,j,z=null,D=null){const H={name:k.move,x1:_,y1:$,x2:A,y2:j,t1:z,t2:D},[Y,E]=L(Z,H.name,H);if(!Y)E.x1=_,E.y1=$,E.x2=A,E.y2=j,E.t1=z,E.t2=D;return E}function S1(Z,_,$=null,A=null,j=null){const z={name:k.t,t1:A,t2:j,accel:$,tags:_},[D,H]=L(Z,z.name,z);if(!D)H.t1=A,H.t2=j,H.accel=$,H.tags=_;return H}function M1(Z){return[{name:"effect",tags:Z}]}function O1(Z){const _=Z.find(($)=>$.name==="effect");if(_==null||_.name!="effect")return[];return _.tags}var L=function(Z,_,$){const A=Z.find((z)=>z.name=="effect");if(A?.name!="effect")return Z.unshift({name:"effect",tags:[$]}),[!0,$];const j=A.tags.find((z)=>z.name==_);if(j?.name!=_)return A.tags.push($),[!0,$];return[!1,j]};function U1(Z,_){const $=Z.find((j)=>j.name=="effect");if($?.name!="effect")return;const A=$.tags.findIndex((j)=>j.name===_);if(A<0)return;$.tags.splice(A,1)}function v1(Z){const _=Z.match(w);if(_==null)return null;const $=_.groups;return{type:$?.type??"",layer:Number($?.layer??"0"),start:$?.start??"",end:$?.end??"",style:$?.style??"",actor:$?.actor??"",marginLeft:Number($?.marginLeft??"0"),marginRight:Number($?.marginRight??"0"),marginVertical:Number($?.marginVertical??"0"),effect:$?.effect??"",content:$?.content??""}}function h1(Z){let _=Z.type;return _+=": ",_+=Z.layer,_+=",",_+=Z.start,_+=",",_+=Z.end,_+=",",_+=Z.style,_+=",",_+=Z.actor,_+=",",_+=Z.marginLeft,_+=",",_+=Z.marginRight,_+=",",_+=Z.marginVertical,_+=",",_+=Z.effect,_+=",",_+=Z.content,_}var k;(function(P){P["a"]="a";P["alpha"]="alpha";P["alpha1"]="1a";P["alpha2"]="2a";P["alpha3"]="3a";P["alpha4"]="4a";P["an"]="an";P["b"]="b";P["be"]="be";P["blur"]="blur";P["bord"]="bord";P["clip"]="clip";P["color"]="c";P["color1"]="1c";P["color2"]="2c";P["color3"]="3c";P["color4"]="4c";P["fad"]="fad";P["fade"]="fade";P["fax"]="fax";P["fay"]="fay";P["fe"]="fe";P["fn"]="fn";P["fr"]="fr";P["frx"]="frx";P["fry"]="fry";P["frz"]="frz";P["fs"]="fs";P["fscx"]="fscx";P["fscy"]="fscy";P["fsp"]="fsp";P["i"]="i";P["iclip"]="iclip";P["kLowerCase"]="k";P["kUpperCase"]="K";P["kf"]="kf";P["ko"]="ko";P["move"]="move";P["org"]="org";P["p"]="p";P["pbo"]="pbo";P["pos"]="pos";P["q"]="q";P["r"]="r";P["s"]="s";P["shad"]="shad";P["t"]="t";P["u"]="u";P["xbord"]="xbord";P["xshad"]="xshad";P["ybord"]="ybord";P["yshad"]="yshad"})(k||(k={}));export{M1 as tagsToItems,P1 as setYshad,sj as setYbord,W1 as setXshad,uj as setXbord,q1 as setU,S1 as setT,D1 as setShad,z1 as setS,K1 as setR,k1 as setQ,G1 as setPos,Z1 as setPbo,A1 as setP,B1 as setOrg,F1 as setMove,j1 as setKo,_1 as setKf,$1 as setKUpperCase,aj as setKLowerCase,b1 as setIclip,X1 as setI,gj as setFsp,mj as setFscy,Tj as setFscx,J1 as setFs,E1 as setFrz,Y1 as setFry,H1 as setFrx,Q1 as setFr,ej as setFn,tj as setFe,Nj as setFay,lj as setFax,I1 as setFade,R1 as setFad,cj as setColor4,Vj as setColor3,wj as setColor2,yj as setColor1,pj as setColor,C1 as setClip,ij as setBord,rj as setBlur,L1 as setBe,hj as setB,vj as setAn,xj as setAlpha4,dj as setAlpha3,nj as setAlpha2,fj as setAlpha1,oj as setAlpha,Uj as setA,U1 as removeTag,M as parseTags,v1 as parseLine,U_ as parseContent,S as numberToHex,h1 as lineToString,O1 as itemsToTags,q_ as interpolate,G as hexToNumber,t_ as findYshad,T_ as findYbord,g_ as findXshad,N_ as findXbord,Wj as findU,Oj as findT,m_ as findShad,Dj as findS,Pj as findR,zj as findQ,Rj as findPos,kj as findPbo,Zj as findP,Ij as findOrg,Mj as findMove,Xj as findKo,Kj as findKf,Ej as findKUpperCase,Yj as findKLowerCase,Sj as findIclip,Gj as findI,Hj as findFsp,Qj as findFscy,Jj as findFscx,Bj as findFs,_j as findFrz,$j as findFry,a_ as findFrx,e_ as findFr,Lj as findFn,qj as findFe,Aj as findFay,jj as findFax,bj as findFade,Cj as findFad,o_ as findColor4,c_ as findColor3,V_ as findColor2,w_ as findColor1,y_ as findColor,Fj as findClip,l_ as findBord,s_ as findBlur,u_ as findBe,p_ as findB,i_ as findAn,r_ as findAlpha4,x_ as findAlpha3,d_ as findAlpha2,n_ as findAlpha1,f_ as findAlpha,h_ as findA,v_ as contentsToString,D$ as contentEffectToString,k as TagName};

//# debugId=C413C18FB5DA9CBD64756e2164756e21
