var m=/^(\(.*\)|\\?.)$/,K=(j)=>{const b=j.toString();return m.test(b)?b:`(?:${b})`},g=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,t=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/,q=(j)=>{const b=($)=>q(`(?<${$}>${`${j}`.replace(g,"$1$2")})`);return{toString:()=>j.toString(),and:Object.assign((...$)=>q(`${j}${D(...$)}`),{referenceTo:($)=>q(`${j}\\k<${$}>`)}),or:(...$)=>q(`(?:${j}|${D(...$)})`),after:(...$)=>q(`(?<=${D(...$)})${j}`),before:(...$)=>q(`${j}(?=${D(...$)})`),notAfter:(...$)=>q(`(?<!${D(...$)})${j}`),notBefore:(...$)=>q(`${j}(?!${D(...$)})`),times:Object.assign(($)=>q(`${K(j)}{${$}}`),{any:()=>q(`${K(j)}*`),atLeast:($)=>q(`${K(j)}{${$},}`),atMost:($)=>q(`${K(j)}{0,${$}}`),between:($,A)=>q(`${K(j)}{${$},${A}}`)}),optionally:()=>q(`${K(j)}?`),as:b,groupedAs:b,grouped:()=>q(`${j}`.replace(t,"($1$3)$2")),at:{lineStart:()=>q(`^${j}`),lineEnd:()=>q(`${j}\$`)}}},e=/[.*+?^${}()|[\]\\/]/g;var Q=(j)=>q(`[^${j.replace(/[-\\^\]]/g,"\\$&")}]`),F=(...j)=>q(`(?:${j.map((b)=>D(b)).join("|")})`),S=q("."),a=q("\\b\\w+\\b"),$$=q("\\w"),b$=q("\\b"),G=q("\\d"),_$=q("\\s"),j$=Object.assign(q("[a-zA-Z]"),{lowercase:q("[a-z]"),uppercase:q("[A-Z]")}),A$=q("\\t"),Z$=q("\\n"),k$=q("\\r"),z$={word:q("\\W+"),wordChar:q("\\W"),wordBoundary:q("\\B"),digit:q("\\D"),whitespace:q("\\S"),letter:Object.assign(q("[^a-zA-Z]"),{lowercase:q("[^a-z]"),uppercase:q("[^A-Z]")}),tab:q("[^\\t]"),linefeed:q("[^\\n]"),carriageReturn:q("[^\\r]")};var D=(...j)=>q(j.map((b)=>typeof b==="string"?b.replace(e,"\\$&"):b).join("")),E=(...j)=>q(`${K(D(...j))}+`);var X=(...j)=>{const b=j.length>1&&(Array.isArray(j[j.length-1])||j[j.length-1]instanceof Set)?j.pop():void 0;return new RegExp(D(...j).toString(),[...b||""].join(""))};var O=/(?<fx>{[^{]*})|(?<txt>{*[^{]*)/g,M=E(G).and(D(":")).and(G.times(2)).and(D(":")).and(G.times(2)).and(D(".")).and(G.times(2)),D$=F("Dialogue","Comment").groupedAs("type").and(D(": ")).and(E(G).optionally().groupedAs("layer")).and(D(",")).and(M.optionally().groupedAs("start")).and(D(",")).and(M.optionally().groupedAs("end")).and(D(",")).and(E(Q(",").optionally()).groupedAs("style")).and(D(",")).and(E(Q(",")).optionally().groupedAs("actor")).and(D(",")).and(E(G).optionally().groupedAs("marginLeft")).and(D(",")).and(E(G).optionally().groupedAs("marginRight")).and(D(",")).and(E(G).optionally().groupedAs("marginVertical")).and(D(",")).and(E(Q(",")).optionally().groupedAs("effect")).and(D(",")).and(E(S).optionally().groupedAs("content")),v=X(D$),W$=D("-").optionally().and(E(G)),J=W$.and(D(".").and(E(G)).optionally()),E$=D("\\").and("a").and(E(G)),P$=D("\\").and("c").and(E(Q("\\"))),q$=D("\\").and("1c").and(E(Q("\\"))),G$=D("\\").and("2c").and(E(Q("\\"))),H$=D("\\").and("3c").and(E(Q("\\"))),L$=D("\\").and("4c").and(E(Q("\\"))),B$=D("\\").and("alpha").and(E(Q("\\"))),J$=D("\\").and("1a").and(E(Q("\\"))),R$=D("\\").and("2a").and(E(Q("\\"))),Q$=D("\\").and("3a").and(E(Q("\\"))),Y$=D("\\").and("4a").and(E(Q("\\"))),X$=D("\\").and("k").and(E(G)),K$=D("\\").and("K").and(E(G)),C$=D("\\").and("kf").and(E(G)),I$=D("\\").and("ko").and(E(G)),F$=D("\\").and("q").and(E(G)),S$=D("\\").and("s").and(E(G)),U$=D("\\").and("u").and(E(G)),M$=D("\\").and("r").and(E(Q("\\"))),O$=D("\\").and("fe").and(E(G)),v$=D("\\").and("fn").and(E(Q("\\"))),p$=D("\\").and("p").and(E(G)),h$=D("\\").and("pbo").and(E(G)),y$=D("\\").and("an").and(E(G)),w$=D("\\").and("b").and(E(G)),V$=D("\\").and("be").and(E(G)),o$=D("\\").and("blur").and(E(G)),c$=D("\\").and("bord").and(E(G)),f$=D("\\").and("xbord").and(E(G)),n$=D("\\").and("ybord").and(E(G)),r$=D("\\").and("shad").and(E(G)),d$=D("\\").and("xshad").and(E(G)),x$=D("\\").and("yshad").and(E(G)),u$=D("\\").and("fax").and(E(G)),i$=D("\\").and("fay").and(E(G)),s$=D("\\").and("fscx").and(E(G)),l$=D("\\").and("fscy").and(E(G)),N$=D("\\").and("fsp").and(E(G)),T$=D("\\").and("fr").and(J),m$=D("\\").and("frx").and(J),g$=D("\\").and("fry").and(J),t$=D("\\").and("frz").and(J),e$=D("\\").and("i").and(D("1").or("0")),a$=D("\\").and("fs").and(E(G)),p=D("\\").and("pos").and(D("(")).and(J.groupedAs("pos_x")).and(D(",")).and(J.groupedAs("pos_y")).and(D(")")),h=X(p),y=D("\\").and("org").and(D("(")).and(J.groupedAs("org_x")).and(D(",")).and(J.groupedAs("org_y")).and(D(")")),w=X(y),V=D("\\").and("fad").and(D("(")).and(J.groupedAs("in")).and(D(",")).and(J.groupedAs("out")).and(D(")")),o=X(V),c=D("\\").and("fade").and(D("(")).and(J.groupedAs("fade_alpha1")).and(D(",")).and(J.groupedAs("fade_alpha2")).and(D(",")).and(J.groupedAs("fade_alpha3")).and(D(",")).and(J.groupedAs("fade_t1")).and(D(",")).and(J.groupedAs("fade_t2")).and(D(",")).and(J.groupedAs("fade_t3")).and(D(",")).and(J.groupedAs("fade_t4")).and(D(")")),f=X(c),$b=D(",").and(J.groupedAs("move_t1")).and(D(",")).and(J.groupedAs("move_t2")).optionally(),n=D("\\").and("move").and(D("(")).and(J.groupedAs("move_x1")).and(D(",")).and(J.groupedAs("move_y1")).and(D(",")).and(J.groupedAs("move_x2")).and(D(",")).and(J.groupedAs("move_y2")).and($b).and(D(")")),r=X(n),d=D("\\").and("clip").and(D("(")).and(E(Q(")")).groupedAs("clip_args")).and(D(")")),x=X(d),u=D("\\").and("iclip").and(D("(")).and(E(Q(")")).groupedAs("iclip_args")).and(D(")")),i=X(u),s=V$.or(B$).or(f$).or(n$).or(d$).or(x$).or(u).or(n).or(o$).or(c$).or(r$).or(s$).or(l$).or(c).or(d).or(N$).or(p).or(y).or(V).or(h$).or(m$).or(g$).or(t$).or(u$).or(i$).or(I$).or(C$).or(T$).or(a$).or(O$).or(v$).or(y$).or(q$).or(G$).or(H$).or(L$).or(J$).or(R$).or(Q$).or(Y$).or(P$).or(F$).or(U$).or(S$).or(p$).or(M$).or(e$).or(w$).or(E$).or(X$).or(K$),bb=D("\\").at.lineStart().and("t").and(D("(")).and(E(G).groupedAs("arg1").and(D(",")).optionally()).and(E(G).groupedAs("arg2").and(D(",")).optionally()).and(E(G).groupedAs("arg3").and(D(",")).optionally()).and(E(s).groupedAs("tags")).and(D(")")),l=X(s),U=X(bb);function Jb(j){return parseInt(j,16)}function Rb(j){return Math.floor(j).toString(16).toUpperCase()}function Qb(j,b,$){const A=j>b;let _=b,k=j;if(A)_=j,k=b;const H=(_-k)/$;let L=k;const B=[k];for(let R=1;R<$;R++){if(L+=H,L>_)L=_;B.push(L)}if(B[$-1]=_,A)B.reverse();return B}function C(j,b){const $=j.substring(1),A=j.match(U);if(A&&A[0]){if($.startsWith(Z.t)){const k=A[0].match(U)?.groups,z=k?.tags??"",H=[];C(z,H);const L=k?.arg1?Number(k.arg1):null,B=k?.arg2?Number(k.arg2):null,R=k?.arg3?Number(k.arg3):null,Y={name:Z.t,accel:null,t1:null,t2:null,tags:H};if(L!==null&&B!==null&&R!==null)Y.t1=L,Y.t2=B,Y.accel=R;else if(L!==null&&B!==null&&R===null)Y.t1=L,Y.t2=B,Y.accel=null;else if(L!==null)Y.accel=L;b.push(Y)}if(j=j.substring(A[0].length),j.length>0)C(j,b);return b}const _=j.match(l);if(!_||!_[0])return b;if($.startsWith(Z.move)){const k=_[0].match(r)?.groups,z=Number(k?.move_x1??"0"),H=Number(k?.move_y1??"0"),L=Number(k?.move_x2??"0"),B=Number(k?.move_y2??"0"),R=k?.move_t1?Number(k.move_t1):null,Y=k?.move_t2?Number(k.move_t2):null,I={name:Z.move,x1:z,y1:H,x2:L,y2:B,t1:R,t2:Y};b.push(I)}else if($.startsWith(Z.alpha)){const k=_[0].substring(1+Z.alpha.length),z={name:Z.alpha,value:k};b.push(z)}else if($.startsWith(Z.xbord)){const k=Number(_[0].substring(1+Z.xbord.length)),z={name:Z.xbord,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.ybord)){const k=Number(_[0].substring(1+Z.ybord.length)),z={name:Z.ybord,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.xshad)){const k=Number(_[0].substring(1+Z.xshad.length)),z={name:Z.xshad,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.yshad)){const k=Number(_[0].substring(1+Z.yshad.length)),z={name:Z.yshad,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.iclip)){const z=_[0].match(i)?.groups?.iclip_args??"",H={name:Z.iclip,drawCommands:z};b.push(H)}else if($.startsWith(Z.blur)){const k=Number(_[0].substring(1+Z.blur.length)),z={name:Z.blur,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.bord)){const k=Number(_[0].substring(1+Z.bord.length)),z={name:Z.bord,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.shad)){const k=Number(_[0].substring(1+Z.shad.length)),z={name:Z.shad,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.fscx)){const k=Number(_[0].substring(1+Z.fscx.length)),z={name:Z.fscx,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.fscy)){const k=Number(_[0].substring(1+Z.fscy.length)),z={name:Z.fscy,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.fade)){const k=_[0].match(f)?.groups,z=Number(k?.fade_alpha1??"0"),H=Number(k?.fade_alpha2??"0"),L=Number(k?.fade_alpha3??"0"),B=Number(k?.fade_t1??"0"),R=Number(k?.fade_t2??"0"),Y=Number(k?.fade_t3??"0"),I=Number(k?.fade_t4??"0"),T={name:Z.fade,alpha1:z,alpha2:H,alpha3:L,t1:B,t2:R,t3:Y,t4:I};b.push(T)}else if($.startsWith(Z.clip)){const z=_[0].match(x)?.groups?.clip_args??"",H={name:Z.clip,drawCommands:z};b.push(H)}else if($.startsWith(Z.fsp)){const k=Number(_[0].substring(1+Z.fsp.length)),z={name:Z.fsp,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.pos)){const k=_[0].match(h)?.groups,z=Number(k?.pos_x??"0"),H=Number(k?.pos_y??"0"),L={name:Z.pos,x:z,y:H};b.push(L)}else if($.startsWith(Z.org)){const k=_[0].match(w)?.groups,z=Number(k?.org_x??"0"),H=Number(k?.org_y??"0"),L={name:Z.org,x:z,y:H};b.push(L)}else if($.startsWith(Z.fad)){const k=_[0].match(o)?.groups,z=Number(k?.in??"0"),H=Number(k?.out??"0"),L={name:Z.fad,in:z,out:H};b.push(L)}else if($.startsWith(Z.frx)){const k=Number(_[0].substring(1+Z.frx.length)),z={name:Z.frx,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.fry)){const k=Number(_[0].substring(1+Z.fry.length)),z={name:Z.fry,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.frz)){const k=Number(_[0].substring(1+Z.frz.length)),z={name:Z.frz,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.fax)){const k=Number(_[0].substring(1+Z.fax.length)),z={name:Z.fax,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.fay)){const k=Number(_[0].substring(1+Z.fay.length)),z={name:Z.fay,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.pbo)){const k=Number(_[0].substring(1+Z.pbo.length)),z={name:Z.pbo,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.fe)){const k=Number(_[0].substring(1+Z.fe.length)),z={name:Z.fe,encodingId:Number(k)};b.push(z)}else if($.startsWith(Z.fn)){const k=_[0].substring(1+Z.fn.length),z={name:Z.fn,font:k};b.push(z)}else if($.startsWith(Z.an)){const k=Number(_[0].substring(1+Z.be.length)),z={name:Z.an,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.be)){const k=Number(_[0].substring(1+Z.be.length)),z={name:Z.be,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.fr)){const k=Number(_[0].substring(1+Z.fr.length)),z={name:Z.fr,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.fs)){const k=Number(_[0].substring(1+Z.fs.length)),z={name:Z.fs,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.ko)){const k=Number(_[0].substring(1+Z.ko.length)),z={name:Z.ko,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.kf)){const k=Number(_[0].substring(1+Z.kf.length)),z={name:Z.kf,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.color1)){const k=_[0].substring(1+Z.color1.length),z={name:Z.color1,value:k};b.push(z)}else if($.startsWith(Z.color2)){const k=_[0].substring(1+Z.color2.length),z={name:Z.color2,value:k};b.push(z)}else if($.startsWith(Z.color3)){const k=_[0].substring(1+Z.color3.length),z={name:Z.color3,value:k};b.push(z)}else if($.startsWith(Z.color4)){const k=_[0].substring(1+Z.color4.length),z={name:Z.color4,value:k};b.push(z)}else if($.startsWith(Z.alpha1)){const k=_[0].substring(1+Z.alpha1.length),z={name:Z.alpha1,value:k};b.push(z)}else if($.startsWith(Z.alpha2)){const k=_[0].substring(1+Z.alpha2.length),z={name:Z.alpha2,value:k};b.push(z)}else if($.startsWith(Z.alpha3)){const k=_[0].substring(1+Z.alpha3.length),z={name:Z.alpha3,value:k};b.push(z)}else if($.startsWith(Z.alpha4)){const k=_[0].substring(1+Z.alpha4.length),z={name:Z.alpha4,value:k};b.push(z)}else if($.startsWith(Z.kLowerCase)){const k=Number(_[0].substring(1+Z.kLowerCase.length)),z={name:Z.kLowerCase,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.kUpperCase)){const k=Number(_[0].substring(1+Z.kUpperCase.length)),z={name:Z.kUpperCase,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.q)){const k=Number(_[0].substring(1+Z.q.length)),z={name:Z.q,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.s)){const k=Number(_[0].substring(1+Z.s.length)),z={name:Z.s,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.u)){const k=Number(_[0].substring(1+Z.u.length)),z={name:Z.u,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.r)){const k=_[0].substring(1+Z.r.length),z={name:Z.r,style:k};b.push(z)}else if($.startsWith(Z.p)){const k=Number(_[0].substring(1+Z.p.length)),z={name:Z.p,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.i)){const k=Number(_[0].substring(1+Z.i.length)),z={name:Z.i,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.color)){const k=_[0].substring(1+Z.color.length),z={name:Z.color,value:k};b.push(z)}else if($.startsWith(Z.b)){const k=Number(_[0].substring(1+Z.b.length)),z={name:Z.b,value:Number.isNaN(k)?0:k};b.push(z)}else if($.startsWith(Z.a)){const k=Number(_[0].substring(1+Z.a.length)),z={name:Z.a,value:Number.isNaN(k)?0:k};b.push(z)}if(j=j.substring(_[0].length),j.length>0)C(j,b);return b}function Kb(j){const b=[],$=j.matchAll(O);for(let A of $){if(A.groups?.fx){const _=A.groups.fx.substring(1,A.groups.fx.length-1),k=[];C(_,k),b.push({name:"effect",tags:k});continue}if(A.groups?.txt){b.push({name:"text",value:A.groups?.txt});continue}}return b}function N(j){let b="";for(let $ of j.tags)switch($.name){case Z.t:const A={name:"effect",tags:$.tags},_=N(A);if($.t1!==null&&$.t2!==null&&$.accel!==null)b+=`\\t(${$.t1},${$.t2},${$.accel},${_})`;else if($.t1!==null&&$.t2!==null&&$.accel===null)b+=`\\t(${$.t1},${$.t2},${_})`;else if($.accel!==null)b+=`\\t(${$.accel},${_})`;else b+=`\\t(${_})`;break;case Z.pos:b+=`\\pos(${$.x},${$.y})`;break;case Z.org:b+=`\\org(${$.x},${$.y})`;break;case Z.move:if(b+=`\\move(${$.x1},${$.y1},${$.x2},${$.y2}`,$.t1!=null&&$.t2!=null)b+=`,${$.t1},${$.t2}`;b+=")";break;case Z.clip:b+=`\\clip(${$.drawCommands})`;break;case Z.iclip:b+=`\\iclip(${$.drawCommands})`;break;case Z.fad:b+=`\\fad(${$.in},${$.out})`;break;case Z.fade:b+=`\\fade(${$.alpha1},${$.alpha2},${$.alpha3},${$.t1},${$.t2},${$.t3},${$.t4})`;break;case Z.fe:b+=`\\fe${$.encodingId}`;break;case Z.fn:b+=`\\fn${$.font}`;break;case Z.r:b+=`\\r${$.style}`;break;default:b+=`\\${$.name}${$.value}`;break}return b}function Cb(j){let b="";for(let $ of j){if($.name=="text"){b+=$.value;continue}b+="{"+N($)+"}"}return b}function Ib(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.a,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function Fb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.b,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function Sb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.color,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function Ub(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.color1,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function Mb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.color2,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function Ob(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.color3,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function vb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.color4,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function pb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.alpha,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function hb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.alpha1,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function yb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.alpha2,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function wb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.alpha3,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function Vb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.alpha4,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function ob(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.an,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function cb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.be,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function fb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.blur,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function nb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.bord,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function rb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.xbord,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function db(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.ybord,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function xb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.shad,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function ub(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.xshad,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function ib(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.yshad,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function sb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.fr,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function lb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.frx,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function Nb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.fry,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function Tb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.frz,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function mb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.fax,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function gb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.fay,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function tb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.p,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function eb(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.pbo,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function ab(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.q,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function $_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.s,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function b_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.u,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function __(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.r,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function j_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.fe,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function A_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.fn,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function Z_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.fscx,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function k_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.fscy,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function z_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.fsp,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function D_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.kLowerCase,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function W_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.kUpperCase,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function E_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.ko,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function P_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.kf,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function q_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.i,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function G_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.fs,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function H_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.pos,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function L_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.org,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function B_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.fad,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function J_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.fade,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function R_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.clip,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function Q_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.iclip,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function Y_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.move,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function X_(j){const b=j.find((_)=>_.name=="effect");if(b?.name!="effect")return null;const $=Z.t,A=b.tags.find((_)=>_.name==$);if(A?.name!=$)return null;return A}function K_(j,b){const $={name:Z.a,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function C_(j,b){const $={name:Z.an,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function I_(j,b){const $={name:Z.b,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function F_(j,b){const $={name:Z.color,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function S_(j,b){const $={name:Z.color1,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function U_(j,b){const $={name:Z.color2,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function M_(j,b){const $={name:Z.color3,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function O_(j,b){const $={name:Z.color4,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function v_(j,b){const $={name:Z.alpha,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function p_(j,b){const $={name:Z.alpha1,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function h_(j,b){const $={name:Z.alpha2,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function y_(j,b){const $={name:Z.alpha3,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function w_(j,b){const $={name:Z.alpha4,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function V_(j,b){const $={name:Z.blur,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function o_(j,b){const $={name:Z.bord,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function c_(j,b){const $={name:Z.xbord,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function f_(j,b){const $={name:Z.ybord,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function n_(j,b){const $={name:Z.fax,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function r_(j,b){const $={name:Z.fay,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function d_(j,b){const $={name:Z.fscx,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function x_(j,b){const $={name:Z.fscy,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function u_(j,b){const $={name:Z.fsp,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function i_(j,b){const $={name:Z.fe,encodingId:b},[A,_]=P(j,$.name,$);if(!A)_.encodingId=b;return _}function s_(j,b){const $={name:Z.fn,font:b},[A,_]=P(j,$.name,$);if(!A)_.font=b;return _}function l_(j,b){const $={name:Z.kLowerCase,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function N_(j,b){const $={name:Z.kUpperCase,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function T_(j,b){const $={name:Z.kf,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function m_(j,b){const $={name:Z.ko,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function g_(j,b){const $={name:Z.p,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function t_(j,b){const $={name:Z.pbo,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function e_(j,b){const $={name:Z.q,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function a_(j,b){const $={name:Z.s,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function $j(j,b){const $={name:Z.shad,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function bj(j,b){const $={name:Z.xshad,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function _j(j,b){const $={name:Z.yshad,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function jj(j,b){const $={name:Z.u,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function Aj(j,b){const $={name:Z.be,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function Zj(j,b){const $={name:Z.fs,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function kj(j,b){const $={name:Z.fr,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function zj(j,b){const $={name:Z.frx,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function Dj(j,b){const $={name:Z.fry,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function Wj(j,b){const $={name:Z.frz,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function Ej(j,b){const $={name:Z.i,value:b},[A,_]=P(j,$.name,$);if(!A)_.value=b;return _}function Pj(j,b){const $={name:Z.r,style:b},[A,_]=P(j,$.name,$);if(!A)_.style=b;return _}function qj(j,b,$){const A={name:Z.pos,x:b,y:$},[_,k]=P(j,A.name,A);if(!_)k.x=b,k.y=$;return k}function Gj(j,b,$){const A={name:Z.org,x:b,y:$},[_,k]=P(j,A.name,A);if(!_)k.x=b,k.y=$;return k}function Hj(j,b,$){const A={name:Z.fad,in:b,out:$},[_,k]=P(j,A.name,A);if(!_)k.in=b,k.out=$;return k}function Lj(j,b,$,A,_,k,z,H){const L={name:Z.fade,alpha1:b,alpha2:$,alpha3:A,t1:_,t2:k,t3:z,t4:H},[B,R]=P(j,L.name,L);if(!B)R.alpha1=b,R.alpha2=$,R.alpha3=A,R.t1=_,R.t2=k,R.t3=z,R.t4=H;return R}function Bj(j,b){const $={name:Z.clip,drawCommands:b},[A,_]=P(j,$.name,$);if(!A)_.drawCommands=b;return _}function Jj(j,b){const $={name:Z.iclip,drawCommands:b},[A,_]=P(j,$.name,$);if(!A)_.drawCommands=b;return _}function Rj(j,b,$,A,_,k=null,z=null){const H={name:Z.move,x1:b,y1:$,x2:A,y2:_,t1:k,t2:z},[L,B]=P(j,H.name,H);if(!L)B.x1=b,B.y1=$,B.x2=A,B.y2=_,B.t1=k,B.t2=z;return B}function Qj(j,b,$=null,A=null,_=null){const k={name:Z.t,t1:A,t2:_,accel:$,tags:b},[z,H]=P(j,k.name,k);if(!z)H.t1=A,H.t2=_,H.accel=$,H.tags=b;return H}function Yj(j){return[{name:"effect",tags:j}]}function Xj(j){const b=j.find(($)=>$.name==="effect");if(b==null||b.name!="effect")return[];return b.tags}var P=function(j,b,$){const A=j.find((k)=>k.name=="effect");if(A?.name!="effect")return j.unshift({name:"effect",tags:[$]}),[!0,$];const _=A.tags.find((k)=>k.name==b);if(_?.name!=b)return A.tags.push($),[!0,$];return[!1,_]};function Kj(j,b){const $=j.find((_)=>_.name=="effect");if($?.name!="effect")return;const A=$.tags.findIndex((_)=>_.name===b);if(A<0)return;$.tags.splice(A,1)}function Cj(j){const b=j.match(v);if(b==null)return null;const $=b.groups;return{type:$?.type??"",layer:Number($?.layer??"0"),start:$?.start??"",end:$?.end??"",style:$?.style??"",actor:$?.actor??"",marginLeft:Number($?.marginLeft??"0"),marginRight:Number($?.marginRight??"0"),marginVertical:Number($?.marginVertical??"0"),effect:$?.effect??"",content:$?.content??""}}function Ij(j){let b=j.type;return b+=": ",b+=j.layer,b+=",",b+=j.start,b+=",",b+=j.end,b+=",",b+=j.style,b+=",",b+=j.actor,b+=",",b+=j.marginLeft,b+=",",b+=j.marginRight,b+=",",b+=j.marginVertical,b+=",",b+=j.effect,b+=",",b+=j.content,b}var Z;(function(W){W["a"]="a";W["alpha"]="alpha";W["alpha1"]="1a";W["alpha2"]="2a";W["alpha3"]="3a";W["alpha4"]="4a";W["an"]="an";W["b"]="b";W["be"]="be";W["blur"]="blur";W["bord"]="bord";W["clip"]="clip";W["color"]="c";W["color1"]="1c";W["color2"]="2c";W["color3"]="3c";W["color4"]="4c";W["fad"]="fad";W["fade"]="fade";W["fax"]="fax";W["fay"]="fay";W["fe"]="fe";W["fn"]="fn";W["fr"]="fr";W["frx"]="frx";W["fry"]="fry";W["frz"]="frz";W["fs"]="fs";W["fscx"]="fscx";W["fscy"]="fscy";W["fsp"]="fsp";W["i"]="i";W["iclip"]="iclip";W["kLowerCase"]="k";W["kUpperCase"]="K";W["kf"]="kf";W["ko"]="ko";W["move"]="move";W["org"]="org";W["p"]="p";W["pbo"]="pbo";W["pos"]="pos";W["q"]="q";W["r"]="r";W["s"]="s";W["shad"]="shad";W["t"]="t";W["u"]="u";W["xbord"]="xbord";W["xshad"]="xshad";W["ybord"]="ybord";W["yshad"]="yshad"})(Z||(Z={}));export{Yj as tagsToItems,_j as setYshad,f_ as setYbord,bj as setXshad,c_ as setXbord,jj as setU,Qj as setT,$j as setShad,a_ as setS,Pj as setR,e_ as setQ,qj as setPos,t_ as setPbo,g_ as setP,Gj as setOrg,Rj as setMove,m_ as setKo,T_ as setKf,N_ as setKUpperCase,l_ as setKLowerCase,Jj as setIclip,Ej as setI,u_ as setFsp,x_ as setFscy,d_ as setFscx,Zj as setFs,Wj as setFrz,Dj as setFry,zj as setFrx,kj as setFr,s_ as setFn,i_ as setFe,r_ as setFay,n_ as setFax,Lj as setFade,Hj as setFad,O_ as setColor4,M_ as setColor3,U_ as setColor2,S_ as setColor1,F_ as setColor,Bj as setClip,o_ as setBord,V_ as setBlur,Aj as setBe,I_ as setB,C_ as setAn,w_ as setAlpha4,y_ as setAlpha3,h_ as setAlpha2,p_ as setAlpha1,v_ as setAlpha,K_ as setA,Kj as removeTag,C as parseTags,Cj as parseLine,Kb as parseContent,Rb as numberToHex,Ij as lineToString,Xj as itemsToTags,Qb as interpolate,Jb as hexToNumber,ib as findYshad,db as findYbord,ub as findXshad,rb as findXbord,b_ as findU,X_ as findT,xb as findShad,$_ as findS,__ as findR,ab as findQ,H_ as findPos,eb as findPbo,tb as findP,L_ as findOrg,Y_ as findMove,E_ as findKo,P_ as findKf,W_ as findKUpperCase,D_ as findKLowerCase,Q_ as findIclip,q_ as findI,z_ as findFsp,k_ as findFscy,Z_ as findFscx,G_ as findFs,Tb as findFrz,Nb as findFry,lb as findFrx,sb as findFr,A_ as findFn,j_ as findFe,gb as findFay,mb as findFax,J_ as findFade,B_ as findFad,vb as findColor4,Ob as findColor3,Mb as findColor2,Ub as findColor1,Sb as findColor,R_ as findClip,nb as findBord,fb as findBlur,cb as findBe,Fb as findB,ob as findAn,Vb as findAlpha4,wb as findAlpha3,yb as findAlpha2,hb as findAlpha1,pb as findAlpha,Ib as findA,Cb as contentsToString,N as contentEffectToString,Z as TagName};

//# debugId=5FCA778C0C1A868664756e2164756e21
