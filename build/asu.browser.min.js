function _(n){return parseInt(n,16)}function Cn(n){return Math.floor(n).toString(16).padStart(2,"0").toUpperCase()}function Vr(n,f,t){const r=n>f;let g=f,u=n;if(r)g=n,u=f;const b=(g-u)/t;let o=u;const a=[u];for(let W=1;W<t;W++)o+=b,a.push(o);if(a[t-1]=g,r)a.reverse();return a}function Kr(n,f){f=Math.floor(f);const t=`(-?\\d+.?\\d{1,${f}})`,r=new RegExp(t),g=n.toString().match(r);if(!g||g.length===0)return n;return Number(g[0])}var Tt=/^(\(.*\)|\\?.)$/,fn=(n)=>{const f=n.toString();return Tt.test(f)?f:`(?:${f})`},Yt=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,Bt=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/,Y=(n)=>{const f=(t)=>Y(`(?<${t}>${`${n}`.replace(Yt,"$1$2")})`);return{toString:()=>n.toString(),and:Object.assign((...t)=>Y(`${n}${c(...t)}`),{referenceTo:(t)=>Y(`${n}\\k<${t}>`)}),or:(...t)=>Y(`(?:${n}|${c(...t)})`),after:(...t)=>Y(`(?<=${c(...t)})${n}`),before:(...t)=>Y(`${n}(?=${c(...t)})`),notAfter:(...t)=>Y(`(?<!${c(...t)})${n}`),notBefore:(...t)=>Y(`${n}(?!${c(...t)})`),times:Object.assign((t)=>Y(`${fn(n)}{${t}}`),{any:()=>Y(`${fn(n)}*`),atLeast:(t)=>Y(`${fn(n)}{${t},}`),atMost:(t)=>Y(`${fn(n)}{0,${t}}`),between:(t,r)=>Y(`${fn(n)}{${t},${r}}`)}),optionally:()=>Y(`${fn(n)}?`),as:f,groupedAs:f,grouped:()=>Y(`${n}`.replace(Bt,"($1$3)$2")),at:{lineStart:()=>Y(`^${n}`),lineEnd:()=>Y(`${n}\$`)}}},Qt=/[.*+?^${}()|[\]\\/]/g;var z=(n)=>Y(`[^${n.replace(/[-\\^\]]/g,"\\$&")}]`),In=(...n)=>Y(`(?:${n.map((f)=>c(f)).join("|")})`),kn=Y("."),qt=Y("\\b\\w+\\b"),At=Y("\\w"),Ht=Y("\\b"),L=Y("\\d"),Jt=Y("\\s"),xn=Object.assign(Y("[a-zA-Z]"),{lowercase:Y("[a-z]"),uppercase:Y("[A-Z]")}),_t=Y("\\t"),wt=Y("\\n"),Mt=Y("\\r"),zt={word:Y("\\W+"),wordChar:Y("\\W"),wordBoundary:Y("\\B"),digit:Y("\\D"),whitespace:Y("\\S"),letter:Object.assign(Y("[^a-zA-Z]"),{lowercase:Y("[^a-z]"),uppercase:Y("[^A-Z]")}),tab:Y("[^\\t]"),linefeed:Y("[^\\n]"),carriageReturn:Y("[^\\r]")};var c=(...n)=>Y(n.map((f)=>typeof f==="string"?f.replace(Qt,"\\$&"):f).join("")),H=(...n)=>Y(`${fn(c(...n))}+`);var w=(...n)=>{const f=n.length>1&&(Array.isArray(n[n.length-1])||n[n.length-1]instanceof Set)?n.pop():void 0;return new RegExp(c(...n).toString(),[...f||""].join(""))};var lf=/(?<fx>{[^{]*})|(?<txt>{*[^{]*)/g,mf=/^[^\\]+/g,Pn=/(?<sil>(?:sha|shi|shu|she|sho|cha|chi|chu|che|cho|tsu|kya|kyi|kyu|kye|kyo|gya|gyi|gyu|gye|gyo|sya|syu|syi|sye|syo|zya|zyu|zyi|zye|zyo|jya|jyu|jyi|jye|jyo|tya|tyi|tyu|tye|tyo|dya|dyi|dyu|dye|dyo|nya|nyi|nyu|nye|nyo|hya|hyi|hyu|hye|hyo|fya|fyi|fyu|fye|fyo|bya|byi|byu|bye|byo|pya|pyi|pyu|pye|pyo|mya|myi|myu|mye|myo|rya|ryi|ryu|rye|ryo|vya|vyi|vyu|vye|vyo|ka|ki|ku|ke|ko|ga|gi|gu|ge|go|sa|su|si|se|so|za|zu|zi|ze|zo|ja|ju|ji|je|jo|ta|ti|tu|te|to|da|di|du|de|do|na|ni|nu|ne|no|ha|hi|hu|he|ho|fa|fi|fu|fe|fo|ba|bi|bu|be|bo|pa|pi|pu|pe|po|ma|mi|mu|me|mo|ya|yi|yu|ye|yo|ra|ri|ru|re|ro|wa|wo|va|vi|vu|ve|vo|a|i|u|e|o|n|t)[^a-zA-Z\d\s:]*\s?)/g,rf=H(L).and(c(":")).and(L.times(2)).and(c(":")).and(L.times(2)).and(c(".")).and(L.times(2)),Ct=In("Dialogue","Comment").groupedAs("type").and(c(": ")).and(H(L).optionally().groupedAs("layer")).and(c(",")).and(rf.optionally().groupedAs("start")).and(c(",")).and(rf.optionally().groupedAs("end")).and(c(",")).and(H(z(",").optionally()).groupedAs("style")).and(c(",")).and(H(z(",")).optionally().groupedAs("actor")).and(c(",")).and(H(L).optionally().groupedAs("marginLeft")).and(c(",")).and(H(L).optionally().groupedAs("marginRight")).and(c(",")).and(H(L).optionally().groupedAs("marginVertical")).and(c(",")).and(H(z(",")).optionally().groupedAs("effect")).and(c(",")).and(H(kn).optionally().groupedAs("content")),uf=w(Ct),Ft=c("-").optionally().and(H(L)),N=Ft.and(c(".").and(H(L)).optionally()),Rt=c("\\").and("a").and(N),C=xn.or(L).times(2),bf=c("&H").and(C.groupedAs("color_bgr_blue")).and(C.groupedAs("color_bgr_green")).and(C.groupedAs("color_bgr_red")).and(c("&")),of=c("\\c").and(bf),af=c("\\1c").and(c("&H")).and(C.groupedAs("color1_bgr_blue")).and(C.groupedAs("color1_bgr_green")).and(C.groupedAs("color1_bgr_red")).and(c("&")),cf=c("\\2c").and(c("&H")).and(C.groupedAs("color2_bgr_blue")).and(C.groupedAs("color2_bgr_green")).and(C.groupedAs("color2_bgr_red")).and(c("&")),Sf=c("\\3c").and(c("&H")).and(C.groupedAs("color3_bgr_blue")).and(C.groupedAs("color3_bgr_green")).and(C.groupedAs("color3_bgr_red")).and(c("&")),$f=c("\\4c").and(c("&H")).and(C.groupedAs("color4_bgr_blue")).and(C.groupedAs("color4_bgr_green")).and(C.groupedAs("color4_bgr_red")).and(c("&")),hf=w(bf),Gf=w(of),Wf=w(af),vf=w(cf),Nf=w(Sf),ef=w($f),Lt=c("\\").and("alpha").and(H(z("\\"))),jt=c("\\").and("1a").and(H(z("\\"))),Ot=c("\\").and("2a").and(H(z("\\"))),Et=c("\\").and("3a").and(H(z("\\"))),Ut=c("\\").and("4a").and(H(z("\\"))),Dt=c("\\").and("k").and(N),Vt=c("\\").and("K").and(N),Kt=c("\\").and("kf").and(N),It=c("\\").and("ko").and(N),it=c("\\").and("q").and(N),kt=c("\\").and("s").and(N),xt=c("\\").and("u").and(N),Pt=c("\\").and("r").and(H(z("\\"))),pt=c("\\").and("fe").and(N),yt=c("\\").and("fn").and(H(z("\\"))),st=c("\\").and("p").and(N),Zt=c("\\").and("pbo").and(N),dt=c("\\").and("an").and(N),ng=c("\\").and("b").and(N),fg=c("\\").and("be").and(N),tg=c("\\").and("blur").and(N),gg=c("\\").and("bord").and(N),rg=c("\\").and("xbord").and(N),lg=c("\\").and("ybord").and(N),mg=c("\\").and("shad").and(N),ug=c("\\").and("xshad").and(N),bg=c("\\").and("yshad").and(N),og=c("\\").and("fax").and(N),ag=c("\\").and("fay").and(N),cg=c("\\").and("fscx").and(N),Sg=c("\\").and("fscy").and(N),$g=c("\\").and("fsp").and(N),hg=c("\\").and("fr").and(N),Gg=c("\\").and("frx").and(N),Wg=c("\\").and("fry").and(N),vg=c("\\").and("frz").and(N),Ng=c("\\").and("i").and(c("1").or("0")),eg=c("\\").and("fs").and(N),Xf=c("\\").and("pos").and(c("(")).and(N.groupedAs("pos_x")).and(c(",")).and(N.groupedAs("pos_y")).and(c(")")),Tf=w(Xf),Yf=c("\\").and("org").and(c("(")).and(N.groupedAs("org_x")).and(c(",")).and(N.groupedAs("org_y")).and(c(")")),Bf=w(Yf),Qf=c("\\").and("fad").and(c("(")).and(N.groupedAs("in")).and(c(",")).and(N.groupedAs("out")).and(c(")")),qf=w(Qf),Af=c("\\").and("fade").and(c("(")).and(N.groupedAs("fade_alpha1")).and(c(",")).and(N.groupedAs("fade_alpha2")).and(c(",")).and(N.groupedAs("fade_alpha3")).and(c(",")).and(N.groupedAs("fade_t1")).and(c(",")).and(N.groupedAs("fade_t2")).and(c(",")).and(N.groupedAs("fade_t3")).and(c(",")).and(N.groupedAs("fade_t4")).and(c(")")),Hf=w(Af),Xg=c(",").and(N.groupedAs("move_t1")).and(c(",")).and(N.groupedAs("move_t2")).optionally(),Jf=c("\\").and("move").and(c("(")).and(N.groupedAs("move_x1")).and(c(",")).and(N.groupedAs("move_y1")).and(c(",")).and(N.groupedAs("move_x2")).and(c(",")).and(N.groupedAs("move_y2")).and(Xg).and(c(")")),_f=w(Jf),wf=c("\\").and("clip").and(c("(")).and(H(z(")")).groupedAs("clip_args")).and(c(")")),Mf=w(wf),zf=c("\\").and("iclip").and(c("(")).and(H(z(")")).groupedAs("iclip_args")).and(c(")")),Cf=w(zf),Tg=c("\\").and(H(z("\\"))),Ff=fg.or(Lt).or(rg).or(lg).or(ug).or(bg).or(zf).or(Jf).or(tg).or(gg).or(mg).or(cg).or(Sg).or(Af).or(wf).or($g).or(Xf).or(Yf).or(Qf).or(Zt).or(Gg).or(Wg).or(vg).or(og).or(ag).or(It).or(Kt).or(hg).or(eg).or(pt).or(yt).or(dt).or(af).or(cf).or(Sf).or($f).or(jt).or(Ot).or(Et).or(Ut).or(of).or(it).or(xt).or(kt).or(st).or(Pt).or(Ng).or(ng).or(Rt).or(Dt).or(Vt).or(Tg),Yg=c("\\").at.lineStart().and("t").and(c("(")).and(N.groupedAs("arg1").and(c(",")).optionally()).and(N.groupedAs("arg2").and(c(",")).optionally()).and(N.groupedAs("arg3").and(c(",")).optionally()).and(H(Ff).groupedAs("tags")).and(c(")")),Rf=w(Ff),pn=w(Yg);function Lf(n){const f=Math.floor(n/3600),t=Math.floor((n/3600-f)*60);return n=n-f*3600-t*60,{hours:f,minutes:t,seconds:n}}function yn(n){const f=/(?<h>\d+):(?<m>[0-9]{1,2}?):(?<s>[0-9]{1,2}(?:\.[0-9]{1,2})?)/,t=n.match(f);if(!t||t.length===0)return null;const r=Math.floor(Number(t.groups?.h??"0")),g=Math.floor(Number(t.groups?.m??"0")),u=Number(t.groups?.s??"0"),l={hours:r,minutes:g,seconds:u};return sn(l),l}function sn(n){if(n.seconds>=60)n.seconds-=60,n.minutes++;if(n.minutes>=60)n.minutes-=60,n.hours++;if(n.hours>=9)n.hours=9,n.minutes=59,n.seconds=59.99}function Zn(n){sn(n);const f=n.hours.toFixed(0),t=n.minutes.toFixed(0).padStart("00".length,"0"),r=n.seconds.toFixed(2).padStart("00.00".length,"0");return`${f}:${t}:${r}`}function tn(n){return sn(n),n.hours*3600+n.minutes*60+n.seconds}function ml(n,f){const t=tn(n),r=tn(f),g=t+r;return Lf(g)}function ul(n,f){const t=tn(n),r=tn(f),g=t-r;return Lf(g)}var Qg=function(n){Ef=n},Fn=function(){return Ef},h=function(n,f){const t=Fn(),r=Rn({issueData:f,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===an?void 0:an].filter((g)=>!!g)});n.common.issues.push(r)},Ln=function(n,f,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof f==="function"?n!==f||!r:!f.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:f.get(n)},Uf=function(n,f,t,r,g){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!g)throw new TypeError("Private accessor was defined without a setter");if(typeof f==="function"?n!==f||!g:!f.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?g.call(n,t):g?g.value=t:f.set(n,t),t},B=function(n){if(!n)return{};const{errorMap:f,invalid_type_error:t,required_error:r,description:g}=n;if(f&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(f)return{errorMap:f,description:g};return{errorMap:(l,b)=>{var o,a;const{message:W}=n;if(l.code==="invalid_enum_value")return{message:W!==null&&W!==void 0?W:b.defaultError};if(typeof b.data==="undefined")return{message:(o=W!==null&&W!==void 0?W:r)!==null&&o!==void 0?o:b.defaultError};if(l.code!=="invalid_type")return{message:b.defaultError};return{message:(a=W!==null&&W!==void 0?W:t)!==null&&a!==void 0?a:b.defaultError}},description:g}},Vf=function(n){let f="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";if(n.precision)f=`${f}\\.\\d{${n.precision}}`;else if(n.precision==null)f=`${f}(\\.\\d+)?`;return f},Og=function(n){return new RegExp(`^${Vf(n)}\$`)},Kf=function(n){let f=`${Df}T${Vf(n)}`;const t=[];if(t.push(n.local?"Z?":"Z"),n.offset)t.push("([+-]\\d{2}:?\\d{2})");return f=`${f}(${t.join("|")})`,new RegExp(`^${f}\$`)},Eg=function(n,f){if((f==="v4"||!f)&&Fg.test(n))return!0;if((f==="v6"||!f)&&Rg.test(n))return!0;return!1},Ug=function(n,f){const t=(n.toString().split(".")[1]||"").length,r=(f.toString().split(".")[1]||"").length,g=t>r?t:r,u=parseInt(n.toFixed(g).replace(".","")),l=parseInt(f.toFixed(g).replace(".",""));return u%l/Math.pow(10,g)},un=function(n){if(n instanceof J){const f={};for(let t in n.shape){const r=n.shape[t];f[t]=K.create(un(r))}return new J({...n._def,shape:()=>f})}else if(n instanceof V)return new V({...n._def,type:un(n.element)});else if(n instanceof K)return K.create(un(n.unwrap()));else if(n instanceof P)return P.create(un(n.unwrap()));else if(n instanceof k)return k.create(n.items.map((f)=>un(f)));else return n},gf=function(n,f){const t=y(n),r=y(f);if(n===f)return{valid:!0,data:n};else if(t===G.object&&r===G.object){const g=A.objectKeys(f),u=A.objectKeys(n).filter((b)=>g.indexOf(b)!==-1),l={...n,...f};for(let b of u){const o=gf(n[b],f[b]);if(!o.valid)return{valid:!1};l[b]=o.data}return{valid:!0,data:l}}else if(t===G.array&&r===G.array){if(n.length!==f.length)return{valid:!1};const g=[];for(let u=0;u<n.length;u++){const l=n[u],b=f[u],o=gf(l,b);if(!o.valid)return{valid:!1};g.push(o.data)}return{valid:!0,data:g}}else if(t===G.date&&r===G.date&&+n===+f)return{valid:!0,data:n};else return{valid:!1}},If=function(n,f){return new nn({values:n,typeName:X.ZodEnum,...B(f)})},kf=function(n,f={},t){if(n)return rn.create().superRefine((r,g)=>{var u,l;if(!n(r)){const b=typeof f==="function"?f(r):typeof f==="string"?{message:f}:f,o=(l=(u=b.fatal)!==null&&u!==void 0?u:t)!==null&&l!==void 0?l:!0,a=typeof b==="string"?{message:b}:b;g.addIssue({code:"custom",...a,fatal:o})}});return rn.create()},A;(function(n){n.assertEqual=(g)=>g;function f(g){}n.assertIs=f;function t(g){throw new Error}n.assertNever=t,n.arrayToEnum=(g)=>{const u={};for(let l of g)u[l]=l;return u},n.getValidEnumValues=(g)=>{const u=n.objectKeys(g).filter((b)=>typeof g[g[b]]!=="number"),l={};for(let b of u)l[b]=g[b];return n.objectValues(l)},n.objectValues=(g)=>{return n.objectKeys(g).map(function(u){return g[u]})},n.objectKeys=typeof Object.keys==="function"?(g)=>Object.keys(g):(g)=>{const u=[];for(let l in g)if(Object.prototype.hasOwnProperty.call(g,l))u.push(l);return u},n.find=(g,u)=>{for(let l of g)if(u(l))return l;return},n.isInteger=typeof Number.isInteger==="function"?(g)=>Number.isInteger(g):(g)=>typeof g==="number"&&isFinite(g)&&Math.floor(g)===g;function r(g,u=" | "){return g.map((l)=>typeof l==="string"?`'${l}'`:l).join(u)}n.joinValues=r,n.jsonStringifyReplacer=(g,u)=>{if(typeof u==="bigint")return u.toString();return u}})(A||(A={}));var nf;(function(n){n.mergeShapes=(f,t)=>{return{...f,...t}}})(nf||(nf={}));var G=A.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),y=(n)=>{switch(typeof n){case"undefined":return G.undefined;case"string":return G.string;case"number":return isNaN(n)?G.nan:G.number;case"boolean":return G.boolean;case"function":return G.function;case"bigint":return G.bigint;case"symbol":return G.symbol;case"object":if(Array.isArray(n))return G.array;if(n===null)return G.null;if(n.then&&typeof n.then==="function"&&n.catch&&typeof n.catch==="function")return G.promise;if(typeof Map!=="undefined"&&n instanceof Map)return G.map;if(typeof Set!=="undefined"&&n instanceof Set)return G.set;if(typeof Date!=="undefined"&&n instanceof Date)return G.date;return G.object;default:return G.unknown}},$=A.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Bg=(n)=>{return JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:")};class j extends Error{constructor(n){super();this.issues=[],this.addIssue=(t)=>{this.issues=[...this.issues,t]},this.addIssues=(t=[])=>{this.issues=[...this.issues,...t]};const f=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,f);else this.__proto__=f;this.name="ZodError",this.issues=n}get errors(){return this.issues}format(n){const f=n||function(g){return g.message},t={_errors:[]},r=(g)=>{for(let u of g.issues)if(u.code==="invalid_union")u.unionErrors.map(r);else if(u.code==="invalid_return_type")r(u.returnTypeError);else if(u.code==="invalid_arguments")r(u.argumentsError);else if(u.path.length===0)t._errors.push(f(u));else{let l=t,b=0;while(b<u.path.length){const o=u.path[b];if(b!==u.path.length-1)l[o]=l[o]||{_errors:[]};else l[o]=l[o]||{_errors:[]},l[o]._errors.push(f(u));l=l[o],b++}}};return r(this),t}static assert(n){if(!(n instanceof j))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,A.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=(f)=>f.message){const f={},t=[];for(let r of this.issues)if(r.path.length>0)f[r.path[0]]=f[r.path[0]]||[],f[r.path[0]].push(n(r));else t.push(n(r));return{formErrors:t,fieldErrors:f}}get formErrors(){return this.flatten()}}j.create=(n)=>{return new j(n)};var an=(n,f)=>{let t;switch(n.code){case $.invalid_type:if(n.received===G.undefined)t="Required";else t=`Expected ${n.expected}, received ${n.received}`;break;case $.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,A.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:t=`Unrecognized key(s) in object: ${A.joinValues(n.keys,", ")}`;break;case $.invalid_union:t="Invalid input";break;case $.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${A.joinValues(n.options)}`;break;case $.invalid_enum_value:t=`Invalid enum value. Expected ${A.joinValues(n.options)}, received '${n.received}'`;break;case $.invalid_arguments:t="Invalid function arguments";break;case $.invalid_return_type:t="Invalid function return type";break;case $.invalid_date:t="Invalid date";break;case $.invalid_string:if(typeof n.validation==="object")if("includes"in n.validation){if(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position==="number")t=`${t} at one or more positions greater than or equal to ${n.validation.position}`}else if("startsWith"in n.validation)t=`Invalid input: must start with "${n.validation.startsWith}"`;else if("endsWith"in n.validation)t=`Invalid input: must end with "${n.validation.endsWith}"`;else A.assertNever(n.validation);else if(n.validation!=="regex")t=`Invalid ${n.validation}`;else t="Invalid";break;case $.too_small:if(n.type==="array")t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`;else if(n.type==="string")t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`;else if(n.type==="number")t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`;else if(n.type==="date")t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`;else t="Invalid input";break;case $.too_big:if(n.type==="array")t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`;else if(n.type==="string")t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`;else if(n.type==="number")t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`;else if(n.type==="bigint")t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`;else if(n.type==="date")t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`;else t="Invalid input";break;case $.custom:t="Invalid input";break;case $.invalid_intersection_types:t="Intersection results could not be merged";break;case $.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case $.not_finite:t="Number must be finite";break;default:t=f.defaultError,A.assertNever(n)}return{message:t}},Ef=an,Rn=(n)=>{const{data:f,path:t,errorMaps:r,issueData:g}=n,u=[...t,...g.path||[]],l={...g,path:u};if(g.message!==void 0)return{...g,path:u,message:g.message};let b="";const o=r.filter((a)=>!!a).slice().reverse();for(let a of o)b=a(l,{data:f,defaultError:b}).message;return{...g,path:u,message:b}},qg=[];class M{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(n,f){const t=[];for(let r of f){if(r.status==="aborted")return T;if(r.status==="dirty")n.dirty();t.push(r.value)}return{status:n.value,value:t}}static async mergeObjectAsync(n,f){const t=[];for(let r of f){const g=await r.key,u=await r.value;t.push({key:g,value:u})}return M.mergeObjectSync(n,t)}static mergeObjectSync(n,f){const t={};for(let r of f){const{key:g,value:u}=r;if(g.status==="aborted")return T;if(u.status==="aborted")return T;if(g.status==="dirty")n.dirty();if(u.status==="dirty")n.dirty();if(g.value!=="__proto__"&&(typeof u.value!=="undefined"||r.alwaysSet))t[g.value]=u.value}return{status:n.value,value:t}}}var T=Object.freeze({status:"aborted"}),bn=(n)=>({status:"dirty",value:n}),F=(n)=>({status:"valid",value:n}),ff=(n)=>n.status==="aborted",tf=(n)=>n.status==="dirty",Qn=(n)=>n.status==="valid",qn=(n)=>typeof Promise!=="undefined"&&n instanceof Promise;var v;(function(n){n.errToObj=(f)=>typeof f==="string"?{message:f}:f||{},n.toString=(f)=>typeof f==="string"?f:f===null||f===void 0?void 0:f.message})(v||(v={}));var Yn,Bn;class I{constructor(n,f,t,r){this._cachedPath=[],this.parent=n,this.data=f,this._path=t,this._key=r}get path(){if(!this._cachedPath.length)if(this._key instanceof Array)this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var jf=(n,f)=>{if(Qn(f))return{success:!0,data:f.value};else{if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new j(n.common.issues);return this._error=t,this._error}}}};class Q{constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(n){return y(n.data)}_getOrReturnCtx(n,f){return f||{common:n.parent.common,data:n.data,parsedType:y(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new M,ctx:{common:n.parent.common,data:n.data,parsedType:y(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){const f=this._parse(n);if(qn(f))throw new Error("Synchronous parse encountered promise.");return f}_parseAsync(n){const f=this._parse(n);return Promise.resolve(f)}parse(n,f){const t=this.safeParse(n,f);if(t.success)return t.data;throw t.error}safeParse(n,f){var t;const r={common:{issues:[],async:(t=f===null||f===void 0?void 0:f.async)!==null&&t!==void 0?t:!1,contextualErrorMap:f===null||f===void 0?void 0:f.errorMap},path:(f===null||f===void 0?void 0:f.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:y(n)},g=this._parseSync({data:n,path:r.path,parent:r});return jf(r,g)}async parseAsync(n,f){const t=await this.safeParseAsync(n,f);if(t.success)return t.data;throw t.error}async safeParseAsync(n,f){const t={common:{issues:[],contextualErrorMap:f===null||f===void 0?void 0:f.errorMap,async:!0},path:(f===null||f===void 0?void 0:f.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:y(n)},r=this._parse({data:n,path:t.path,parent:t}),g=await(qn(r)?r:Promise.resolve(r));return jf(t,g)}refine(n,f){const t=(r)=>{if(typeof f==="string"||typeof f==="undefined")return{message:f};else if(typeof f==="function")return f(r);else return f};return this._refinement((r,g)=>{const u=n(r),l=()=>g.addIssue({code:$.custom,...t(r)});if(typeof Promise!=="undefined"&&u instanceof Promise)return u.then((b)=>{if(!b)return l(),!1;else return!0});if(!u)return l(),!1;else return!0})}refinement(n,f){return this._refinement((t,r)=>{if(!n(t))return r.addIssue(typeof f==="function"?f(t,r):f),!1;else return!0})}_refinement(n){return new E({schema:this,typeName:X.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}optional(){return K.create(this,this._def)}nullable(){return P.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return V.create(this,this._def)}promise(){return mn.create(this,this._def)}or(n){return hn.create([this,n],this._def)}and(n){return Gn.create(this,n,this._def)}transform(n){return new E({...B(this._def),schema:this,typeName:X.ZodEffects,effect:{type:"transform",transform:n}})}default(n){const f=typeof n==="function"?n:()=>n;return new en({...B(this._def),innerType:this,defaultValue:f,typeName:X.ZodDefault})}brand(){return new On({typeName:X.ZodBranded,type:this,...B(this._def)})}catch(n){const f=typeof n==="function"?n:()=>n;return new Xn({...B(this._def),innerType:this,catchValue:f,typeName:X.ZodCatch})}describe(n){return new this.constructor({...this._def,description:n})}pipe(n){return Mn.create(this,n)}readonly(){return Tn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var Ag=/^c[^\s-]{8,}$/i,Hg=/^[0-9a-z]+$/,Jg=/^[0-9A-HJKMNP-TV-Z]{26}$/,_g=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,wg=/^[a-z0-9_-]{21}$/i,Mg=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zg=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Cg="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",dn,Fg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Rg=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Lg=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Df="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jg=new RegExp(`^${Df}\$`);class D extends Q{_parse(n){if(this._def.coerce)n.data=String(n.data);if(this._getType(n)!==G.string){const g=this._getOrReturnCtx(n);return h(g,{code:$.invalid_type,expected:G.string,received:g.parsedType}),T}const t=new M;let r=void 0;for(let g of this._def.checks)if(g.kind==="min"){if(n.data.length<g.value)r=this._getOrReturnCtx(n,r),h(r,{code:$.too_small,minimum:g.value,type:"string",inclusive:!0,exact:!1,message:g.message}),t.dirty()}else if(g.kind==="max"){if(n.data.length>g.value)r=this._getOrReturnCtx(n,r),h(r,{code:$.too_big,maximum:g.value,type:"string",inclusive:!0,exact:!1,message:g.message}),t.dirty()}else if(g.kind==="length"){const u=n.data.length>g.value,l=n.data.length<g.value;if(u||l){if(r=this._getOrReturnCtx(n,r),u)h(r,{code:$.too_big,maximum:g.value,type:"string",inclusive:!0,exact:!0,message:g.message});else if(l)h(r,{code:$.too_small,minimum:g.value,type:"string",inclusive:!0,exact:!0,message:g.message});t.dirty()}}else if(g.kind==="email"){if(!zg.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"email",code:$.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="emoji"){if(!dn)dn=new RegExp(Cg,"u");if(!dn.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"emoji",code:$.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="uuid"){if(!_g.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"uuid",code:$.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="nanoid"){if(!wg.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"nanoid",code:$.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="cuid"){if(!Ag.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"cuid",code:$.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="cuid2"){if(!Hg.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"cuid2",code:$.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="ulid"){if(!Jg.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"ulid",code:$.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="url")try{new URL(n.data)}catch(u){r=this._getOrReturnCtx(n,r),h(r,{validation:"url",code:$.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="regex"){if(g.regex.lastIndex=0,!g.regex.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"regex",code:$.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="trim")n.data=n.data.trim();else if(g.kind==="includes"){if(!n.data.includes(g.value,g.position))r=this._getOrReturnCtx(n,r),h(r,{code:$.invalid_string,validation:{includes:g.value,position:g.position},message:g.message}),t.dirty()}else if(g.kind==="toLowerCase")n.data=n.data.toLowerCase();else if(g.kind==="toUpperCase")n.data=n.data.toUpperCase();else if(g.kind==="startsWith"){if(!n.data.startsWith(g.value))r=this._getOrReturnCtx(n,r),h(r,{code:$.invalid_string,validation:{startsWith:g.value},message:g.message}),t.dirty()}else if(g.kind==="endsWith"){if(!n.data.endsWith(g.value))r=this._getOrReturnCtx(n,r),h(r,{code:$.invalid_string,validation:{endsWith:g.value},message:g.message}),t.dirty()}else if(g.kind==="datetime"){if(!Kf(g).test(n.data))r=this._getOrReturnCtx(n,r),h(r,{code:$.invalid_string,validation:"datetime",message:g.message}),t.dirty()}else if(g.kind==="date"){if(!jg.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{code:$.invalid_string,validation:"date",message:g.message}),t.dirty()}else if(g.kind==="time"){if(!Og(g).test(n.data))r=this._getOrReturnCtx(n,r),h(r,{code:$.invalid_string,validation:"time",message:g.message}),t.dirty()}else if(g.kind==="duration"){if(!Mg.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"duration",code:$.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="ip"){if(!Eg(n.data,g.version))r=this._getOrReturnCtx(n,r),h(r,{validation:"ip",code:$.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="base64"){if(!Lg.test(n.data))r=this._getOrReturnCtx(n,r),h(r,{validation:"base64",code:$.invalid_string,message:g.message}),t.dirty()}else A.assertNever(g);return{status:t.value,value:n.data}}_regex(n,f,t){return this.refinement((r)=>n.test(r),{validation:f,code:$.invalid_string,...v.errToObj(t)})}_addCheck(n){return new D({...this._def,checks:[...this._def.checks,n]})}email(n){return this._addCheck({kind:"email",...v.errToObj(n)})}url(n){return this._addCheck({kind:"url",...v.errToObj(n)})}emoji(n){return this._addCheck({kind:"emoji",...v.errToObj(n)})}uuid(n){return this._addCheck({kind:"uuid",...v.errToObj(n)})}nanoid(n){return this._addCheck({kind:"nanoid",...v.errToObj(n)})}cuid(n){return this._addCheck({kind:"cuid",...v.errToObj(n)})}cuid2(n){return this._addCheck({kind:"cuid2",...v.errToObj(n)})}ulid(n){return this._addCheck({kind:"ulid",...v.errToObj(n)})}base64(n){return this._addCheck({kind:"base64",...v.errToObj(n)})}ip(n){return this._addCheck({kind:"ip",...v.errToObj(n)})}datetime(n){var f,t;if(typeof n==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n});return this._addCheck({kind:"datetime",precision:typeof(n===null||n===void 0?void 0:n.precision)==="undefined"?null:n===null||n===void 0?void 0:n.precision,offset:(f=n===null||n===void 0?void 0:n.offset)!==null&&f!==void 0?f:!1,local:(t=n===null||n===void 0?void 0:n.local)!==null&&t!==void 0?t:!1,...v.errToObj(n===null||n===void 0?void 0:n.message)})}date(n){return this._addCheck({kind:"date",message:n})}time(n){if(typeof n==="string")return this._addCheck({kind:"time",precision:null,message:n});return this._addCheck({kind:"time",precision:typeof(n===null||n===void 0?void 0:n.precision)==="undefined"?null:n===null||n===void 0?void 0:n.precision,...v.errToObj(n===null||n===void 0?void 0:n.message)})}duration(n){return this._addCheck({kind:"duration",...v.errToObj(n)})}regex(n,f){return this._addCheck({kind:"regex",regex:n,...v.errToObj(f)})}includes(n,f){return this._addCheck({kind:"includes",value:n,position:f===null||f===void 0?void 0:f.position,...v.errToObj(f===null||f===void 0?void 0:f.message)})}startsWith(n,f){return this._addCheck({kind:"startsWith",value:n,...v.errToObj(f)})}endsWith(n,f){return this._addCheck({kind:"endsWith",value:n,...v.errToObj(f)})}min(n,f){return this._addCheck({kind:"min",value:n,...v.errToObj(f)})}max(n,f){return this._addCheck({kind:"max",value:n,...v.errToObj(f)})}length(n,f){return this._addCheck({kind:"length",value:n,...v.errToObj(f)})}nonempty(n){return this.min(1,v.errToObj(n))}trim(){return new D({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new D({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new D({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((n)=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find((n)=>n.kind==="date")}get isTime(){return!!this._def.checks.find((n)=>n.kind==="time")}get isDuration(){return!!this._def.checks.find((n)=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find((n)=>n.kind==="email")}get isURL(){return!!this._def.checks.find((n)=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find((n)=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find((n)=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find((n)=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find((n)=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find((n)=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find((n)=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find((n)=>n.kind==="ip")}get isBase64(){return!!this._def.checks.find((n)=>n.kind==="base64")}get minLength(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n}get maxLength(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n}}D.create=(n)=>{var f;return new D({checks:[],typeName:X.ZodString,coerce:(f=n===null||n===void 0?void 0:n.coerce)!==null&&f!==void 0?f:!1,...B(n)})};class Z extends Q{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce)n.data=Number(n.data);if(this._getType(n)!==G.number){const g=this._getOrReturnCtx(n);return h(g,{code:$.invalid_type,expected:G.number,received:g.parsedType}),T}let t=void 0;const r=new M;for(let g of this._def.checks)if(g.kind==="int"){if(!A.isInteger(n.data))t=this._getOrReturnCtx(n,t),h(t,{code:$.invalid_type,expected:"integer",received:"float",message:g.message}),r.dirty()}else if(g.kind==="min"){if(g.inclusive?n.data<g.value:n.data<=g.value)t=this._getOrReturnCtx(n,t),h(t,{code:$.too_small,minimum:g.value,type:"number",inclusive:g.inclusive,exact:!1,message:g.message}),r.dirty()}else if(g.kind==="max"){if(g.inclusive?n.data>g.value:n.data>=g.value)t=this._getOrReturnCtx(n,t),h(t,{code:$.too_big,maximum:g.value,type:"number",inclusive:g.inclusive,exact:!1,message:g.message}),r.dirty()}else if(g.kind==="multipleOf"){if(Ug(n.data,g.value)!==0)t=this._getOrReturnCtx(n,t),h(t,{code:$.not_multiple_of,multipleOf:g.value,message:g.message}),r.dirty()}else if(g.kind==="finite"){if(!Number.isFinite(n.data))t=this._getOrReturnCtx(n,t),h(t,{code:$.not_finite,message:g.message}),r.dirty()}else A.assertNever(g);return{status:r.value,value:n.data}}gte(n,f){return this.setLimit("min",n,!0,v.toString(f))}gt(n,f){return this.setLimit("min",n,!1,v.toString(f))}lte(n,f){return this.setLimit("max",n,!0,v.toString(f))}lt(n,f){return this.setLimit("max",n,!1,v.toString(f))}setLimit(n,f,t,r){return new Z({...this._def,checks:[...this._def.checks,{kind:n,value:f,inclusive:t,message:v.toString(r)}]})}_addCheck(n){return new Z({...this._def,checks:[...this._def.checks,n]})}int(n){return this._addCheck({kind:"int",message:v.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:v.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:v.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:v.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:v.toString(n)})}multipleOf(n,f){return this._addCheck({kind:"multipleOf",value:n,message:v.toString(f)})}finite(n){return this._addCheck({kind:"finite",message:v.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:v.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:v.toString(n)})}get minValue(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n}get maxValue(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n}get isInt(){return!!this._def.checks.find((n)=>n.kind==="int"||n.kind==="multipleOf"&&A.isInteger(n.value))}get isFinite(){let n=null,f=null;for(let t of this._def.checks)if(t.kind==="finite"||t.kind==="int"||t.kind==="multipleOf")return!0;else if(t.kind==="min"){if(f===null||t.value>f)f=t.value}else if(t.kind==="max"){if(n===null||t.value<n)n=t.value}return Number.isFinite(f)&&Number.isFinite(n)}}Z.create=(n)=>{return new Z({checks:[],typeName:X.ZodNumber,coerce:(n===null||n===void 0?void 0:n.coerce)||!1,...B(n)})};class d extends Q{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce)n.data=BigInt(n.data);if(this._getType(n)!==G.bigint){const g=this._getOrReturnCtx(n);return h(g,{code:$.invalid_type,expected:G.bigint,received:g.parsedType}),T}let t=void 0;const r=new M;for(let g of this._def.checks)if(g.kind==="min"){if(g.inclusive?n.data<g.value:n.data<=g.value)t=this._getOrReturnCtx(n,t),h(t,{code:$.too_small,type:"bigint",minimum:g.value,inclusive:g.inclusive,message:g.message}),r.dirty()}else if(g.kind==="max"){if(g.inclusive?n.data>g.value:n.data>=g.value)t=this._getOrReturnCtx(n,t),h(t,{code:$.too_big,type:"bigint",maximum:g.value,inclusive:g.inclusive,message:g.message}),r.dirty()}else if(g.kind==="multipleOf"){if(n.data%g.value!==BigInt(0))t=this._getOrReturnCtx(n,t),h(t,{code:$.not_multiple_of,multipleOf:g.value,message:g.message}),r.dirty()}else A.assertNever(g);return{status:r.value,value:n.data}}gte(n,f){return this.setLimit("min",n,!0,v.toString(f))}gt(n,f){return this.setLimit("min",n,!1,v.toString(f))}lte(n,f){return this.setLimit("max",n,!0,v.toString(f))}lt(n,f){return this.setLimit("max",n,!1,v.toString(f))}setLimit(n,f,t,r){return new d({...this._def,checks:[...this._def.checks,{kind:n,value:f,inclusive:t,message:v.toString(r)}]})}_addCheck(n){return new d({...this._def,checks:[...this._def.checks,n]})}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:v.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:v.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:v.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:v.toString(n)})}multipleOf(n,f){return this._addCheck({kind:"multipleOf",value:n,message:v.toString(f)})}get minValue(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n}get maxValue(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n}}d.create=(n)=>{var f;return new d({checks:[],typeName:X.ZodBigInt,coerce:(f=n===null||n===void 0?void 0:n.coerce)!==null&&f!==void 0?f:!1,...B(n)})};class cn extends Q{_parse(n){if(this._def.coerce)n.data=Boolean(n.data);if(this._getType(n)!==G.boolean){const t=this._getOrReturnCtx(n);return h(t,{code:$.invalid_type,expected:G.boolean,received:t.parsedType}),T}return F(n.data)}}cn.create=(n)=>{return new cn({typeName:X.ZodBoolean,coerce:(n===null||n===void 0?void 0:n.coerce)||!1,...B(n)})};class gn extends Q{_parse(n){if(this._def.coerce)n.data=new Date(n.data);if(this._getType(n)!==G.date){const g=this._getOrReturnCtx(n);return h(g,{code:$.invalid_type,expected:G.date,received:g.parsedType}),T}if(isNaN(n.data.getTime())){const g=this._getOrReturnCtx(n);return h(g,{code:$.invalid_date}),T}const t=new M;let r=void 0;for(let g of this._def.checks)if(g.kind==="min"){if(n.data.getTime()<g.value)r=this._getOrReturnCtx(n,r),h(r,{code:$.too_small,message:g.message,inclusive:!0,exact:!1,minimum:g.value,type:"date"}),t.dirty()}else if(g.kind==="max"){if(n.data.getTime()>g.value)r=this._getOrReturnCtx(n,r),h(r,{code:$.too_big,message:g.message,inclusive:!0,exact:!1,maximum:g.value,type:"date"}),t.dirty()}else A.assertNever(g);return{status:t.value,value:new Date(n.data.getTime())}}_addCheck(n){return new gn({...this._def,checks:[...this._def.checks,n]})}min(n,f){return this._addCheck({kind:"min",value:n.getTime(),message:v.toString(f)})}max(n,f){return this._addCheck({kind:"max",value:n.getTime(),message:v.toString(f)})}get minDate(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n!=null?new Date(n):null}get maxDate(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n!=null?new Date(n):null}}gn.create=(n)=>{return new gn({checks:[],coerce:(n===null||n===void 0?void 0:n.coerce)||!1,typeName:X.ZodDate,...B(n)})};class An extends Q{_parse(n){if(this._getType(n)!==G.symbol){const t=this._getOrReturnCtx(n);return h(t,{code:$.invalid_type,expected:G.symbol,received:t.parsedType}),T}return F(n.data)}}An.create=(n)=>{return new An({typeName:X.ZodSymbol,...B(n)})};class Sn extends Q{_parse(n){if(this._getType(n)!==G.undefined){const t=this._getOrReturnCtx(n);return h(t,{code:$.invalid_type,expected:G.undefined,received:t.parsedType}),T}return F(n.data)}}Sn.create=(n)=>{return new Sn({typeName:X.ZodUndefined,...B(n)})};class $n extends Q{_parse(n){if(this._getType(n)!==G.null){const t=this._getOrReturnCtx(n);return h(t,{code:$.invalid_type,expected:G.null,received:t.parsedType}),T}return F(n.data)}}$n.create=(n)=>{return new $n({typeName:X.ZodNull,...B(n)})};class rn extends Q{constructor(){super(...arguments);this._any=!0}_parse(n){return F(n.data)}}rn.create=(n)=>{return new rn({typeName:X.ZodAny,...B(n)})};class s extends Q{constructor(){super(...arguments);this._unknown=!0}_parse(n){return F(n.data)}}s.create=(n)=>{return new s({typeName:X.ZodUnknown,...B(n)})};class i extends Q{_parse(n){const f=this._getOrReturnCtx(n);return h(f,{code:$.invalid_type,expected:G.never,received:f.parsedType}),T}}i.create=(n)=>{return new i({typeName:X.ZodNever,...B(n)})};class Hn extends Q{_parse(n){if(this._getType(n)!==G.undefined){const t=this._getOrReturnCtx(n);return h(t,{code:$.invalid_type,expected:G.void,received:t.parsedType}),T}return F(n.data)}}Hn.create=(n)=>{return new Hn({typeName:X.ZodVoid,...B(n)})};class V extends Q{_parse(n){const{ctx:f,status:t}=this._processInputParams(n),r=this._def;if(f.parsedType!==G.array)return h(f,{code:$.invalid_type,expected:G.array,received:f.parsedType}),T;if(r.exactLength!==null){const u=f.data.length>r.exactLength.value,l=f.data.length<r.exactLength.value;if(u||l)h(f,{code:u?$.too_big:$.too_small,minimum:l?r.exactLength.value:void 0,maximum:u?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),t.dirty()}if(r.minLength!==null){if(f.data.length<r.minLength.value)h(f,{code:$.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),t.dirty()}if(r.maxLength!==null){if(f.data.length>r.maxLength.value)h(f,{code:$.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),t.dirty()}if(f.common.async)return Promise.all([...f.data].map((u,l)=>{return r.type._parseAsync(new I(f,u,f.path,l))})).then((u)=>{return M.mergeArray(t,u)});const g=[...f.data].map((u,l)=>{return r.type._parseSync(new I(f,u,f.path,l))});return M.mergeArray(t,g)}get element(){return this._def.type}min(n,f){return new V({...this._def,minLength:{value:n,message:v.toString(f)}})}max(n,f){return new V({...this._def,maxLength:{value:n,message:v.toString(f)}})}length(n,f){return new V({...this._def,exactLength:{value:n,message:v.toString(f)}})}nonempty(n){return this.min(1,n)}}V.create=(n,f)=>{return new V({type:n,minLength:null,maxLength:null,exactLength:null,typeName:X.ZodArray,...B(f)})};class J extends Q{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const n=this._def.shape(),f=A.objectKeys(n);return this._cached={shape:n,keys:f}}_parse(n){if(this._getType(n)!==G.object){const o=this._getOrReturnCtx(n);return h(o,{code:$.invalid_type,expected:G.object,received:o.parsedType}),T}const{status:t,ctx:r}=this._processInputParams(n),{shape:g,keys:u}=this._getCached(),l=[];if(!(this._def.catchall instanceof i&&this._def.unknownKeys==="strip")){for(let o in r.data)if(!u.includes(o))l.push(o)}const b=[];for(let o of u){const a=g[o],W=r.data[o];b.push({key:{status:"valid",value:o},value:a._parse(new I(r,W,r.path,o)),alwaysSet:o in r.data})}if(this._def.catchall instanceof i){const o=this._def.unknownKeys;if(o==="passthrough")for(let a of l)b.push({key:{status:"valid",value:a},value:{status:"valid",value:r.data[a]}});else if(o==="strict"){if(l.length>0)h(r,{code:$.unrecognized_keys,keys:l}),t.dirty()}else if(o==="strip");else throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const o=this._def.catchall;for(let a of l){const W=r.data[a];b.push({key:{status:"valid",value:a},value:o._parse(new I(r,W,r.path,a)),alwaysSet:a in r.data})}}if(r.common.async)return Promise.resolve().then(async()=>{const o=[];for(let a of b){const W=await a.key,U=await a.value;o.push({key:W,value:U,alwaysSet:a.alwaysSet})}return o}).then((o)=>{return M.mergeObjectSync(t,o)});else return M.mergeObjectSync(t,b)}get shape(){return this._def.shape()}strict(n){return v.errToObj,new J({...this._def,unknownKeys:"strict",...n!==void 0?{errorMap:(f,t)=>{var r,g,u,l;const b=(u=(g=(r=this._def).errorMap)===null||g===void 0?void 0:g.call(r,f,t).message)!==null&&u!==void 0?u:t.defaultError;if(f.code==="unrecognized_keys")return{message:(l=v.errToObj(n).message)!==null&&l!==void 0?l:b};return{message:b}}}:{}})}strip(){return new J({...this._def,unknownKeys:"strip"})}passthrough(){return new J({...this._def,unknownKeys:"passthrough"})}extend(n){return new J({...this._def,shape:()=>({...this._def.shape(),...n})})}merge(n){return new J({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>({...this._def.shape(),...n._def.shape()}),typeName:X.ZodObject})}setKey(n,f){return this.augment({[n]:f})}catchall(n){return new J({...this._def,catchall:n})}pick(n){const f={};return A.objectKeys(n).forEach((t)=>{if(n[t]&&this.shape[t])f[t]=this.shape[t]}),new J({...this._def,shape:()=>f})}omit(n){const f={};return A.objectKeys(this.shape).forEach((t)=>{if(!n[t])f[t]=this.shape[t]}),new J({...this._def,shape:()=>f})}deepPartial(){return un(this)}partial(n){const f={};return A.objectKeys(this.shape).forEach((t)=>{const r=this.shape[t];if(n&&!n[t])f[t]=r;else f[t]=r.optional()}),new J({...this._def,shape:()=>f})}required(n){const f={};return A.objectKeys(this.shape).forEach((t)=>{if(n&&!n[t])f[t]=this.shape[t];else{let g=this.shape[t];while(g instanceof K)g=g._def.innerType;f[t]=g}}),new J({...this._def,shape:()=>f})}keyof(){return If(A.objectKeys(this.shape))}}J.create=(n,f)=>{return new J({shape:()=>n,unknownKeys:"strip",catchall:i.create(),typeName:X.ZodObject,...B(f)})};J.strictCreate=(n,f)=>{return new J({shape:()=>n,unknownKeys:"strict",catchall:i.create(),typeName:X.ZodObject,...B(f)})};J.lazycreate=(n,f)=>{return new J({shape:n,unknownKeys:"strip",catchall:i.create(),typeName:X.ZodObject,...B(f)})};class hn extends Q{_parse(n){const{ctx:f}=this._processInputParams(n),t=this._def.options;function r(g){for(let l of g)if(l.result.status==="valid")return l.result;for(let l of g)if(l.result.status==="dirty")return f.common.issues.push(...l.ctx.common.issues),l.result;const u=g.map((l)=>new j(l.ctx.common.issues));return h(f,{code:$.invalid_union,unionErrors:u}),T}if(f.common.async)return Promise.all(t.map(async(g)=>{const u={...f,common:{...f.common,issues:[]},parent:null};return{result:await g._parseAsync({data:f.data,path:f.path,parent:u}),ctx:u}})).then(r);else{let g=void 0;const u=[];for(let b of t){const o={...f,common:{...f.common,issues:[]},parent:null},a=b._parseSync({data:f.data,path:f.path,parent:o});if(a.status==="valid")return a;else if(a.status==="dirty"&&!g)g={result:a,ctx:o};if(o.common.issues.length)u.push(o.common.issues)}if(g)return f.common.issues.push(...g.ctx.common.issues),g.result;const l=u.map((b)=>new j(b));return h(f,{code:$.invalid_union,unionErrors:l}),T}}get options(){return this._def.options}}hn.create=(n,f)=>{return new hn({options:n,typeName:X.ZodUnion,...B(f)})};var x=(n)=>{if(n instanceof Wn)return x(n.schema);else if(n instanceof E)return x(n.innerType());else if(n instanceof vn)return[n.value];else if(n instanceof nn)return n.options;else if(n instanceof Nn)return A.objectValues(n.enum);else if(n instanceof en)return x(n._def.innerType);else if(n instanceof Sn)return[void 0];else if(n instanceof $n)return[null];else if(n instanceof K)return[void 0,...x(n.unwrap())];else if(n instanceof P)return[null,...x(n.unwrap())];else if(n instanceof On)return x(n.unwrap());else if(n instanceof Tn)return x(n.unwrap());else if(n instanceof Xn)return x(n._def.innerType);else return[]};class jn extends Q{_parse(n){const{ctx:f}=this._processInputParams(n);if(f.parsedType!==G.object)return h(f,{code:$.invalid_type,expected:G.object,received:f.parsedType}),T;const t=this.discriminator,r=f.data[t],g=this.optionsMap.get(r);if(!g)return h(f,{code:$.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[t]}),T;if(f.common.async)return g._parseAsync({data:f.data,path:f.path,parent:f});else return g._parseSync({data:f.data,path:f.path,parent:f})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(n,f,t){const r=new Map;for(let g of f){const u=x(g.shape[n]);if(!u.length)throw new Error(`A discriminator value for key \`${n}\` could not be extracted from all schema options`);for(let l of u){if(r.has(l))throw new Error(`Discriminator property ${String(n)} has duplicate value ${String(l)}`);r.set(l,g)}}return new jn({typeName:X.ZodDiscriminatedUnion,discriminator:n,options:f,optionsMap:r,...B(t)})}}class Gn extends Q{_parse(n){const{status:f,ctx:t}=this._processInputParams(n),r=(g,u)=>{if(ff(g)||ff(u))return T;const l=gf(g.value,u.value);if(!l.valid)return h(t,{code:$.invalid_intersection_types}),T;if(tf(g)||tf(u))f.dirty();return{status:f.value,value:l.data}};if(t.common.async)return Promise.all([this._def.left._parseAsync({data:t.data,path:t.path,parent:t}),this._def.right._parseAsync({data:t.data,path:t.path,parent:t})]).then(([g,u])=>r(g,u));else return r(this._def.left._parseSync({data:t.data,path:t.path,parent:t}),this._def.right._parseSync({data:t.data,path:t.path,parent:t}))}}Gn.create=(n,f,t)=>{return new Gn({left:n,right:f,typeName:X.ZodIntersection,...B(t)})};class k extends Q{_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.parsedType!==G.array)return h(t,{code:$.invalid_type,expected:G.array,received:t.parsedType}),T;if(t.data.length<this._def.items.length)return h(t,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),T;if(!this._def.rest&&t.data.length>this._def.items.length)h(t,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),f.dirty();const g=[...t.data].map((u,l)=>{const b=this._def.items[l]||this._def.rest;if(!b)return null;return b._parse(new I(t,u,t.path,l))}).filter((u)=>!!u);if(t.common.async)return Promise.all(g).then((u)=>{return M.mergeArray(f,u)});else return M.mergeArray(f,g)}get items(){return this._def.items}rest(n){return new k({...this._def,rest:n})}}k.create=(n,f)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new k({items:n,typeName:X.ZodTuple,rest:null,...B(f)})};class Jn extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.parsedType!==G.object)return h(t,{code:$.invalid_type,expected:G.object,received:t.parsedType}),T;const r=[],g=this._def.keyType,u=this._def.valueType;for(let l in t.data)r.push({key:g._parse(new I(t,l,t.path,l)),value:u._parse(new I(t,t.data[l],t.path,l)),alwaysSet:l in t.data});if(t.common.async)return M.mergeObjectAsync(f,r);else return M.mergeObjectSync(f,r)}get element(){return this._def.valueType}static create(n,f,t){if(f instanceof Q)return new Jn({keyType:n,valueType:f,typeName:X.ZodRecord,...B(t)});return new Jn({keyType:D.create(),valueType:n,typeName:X.ZodRecord,...B(f)})}}class _n extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.parsedType!==G.map)return h(t,{code:$.invalid_type,expected:G.map,received:t.parsedType}),T;const r=this._def.keyType,g=this._def.valueType,u=[...t.data.entries()].map(([l,b],o)=>{return{key:r._parse(new I(t,l,t.path,[o,"key"])),value:g._parse(new I(t,b,t.path,[o,"value"]))}});if(t.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(let b of u){const o=await b.key,a=await b.value;if(o.status==="aborted"||a.status==="aborted")return T;if(o.status==="dirty"||a.status==="dirty")f.dirty();l.set(o.value,a.value)}return{status:f.value,value:l}})}else{const l=new Map;for(let b of u){const{key:o,value:a}=b;if(o.status==="aborted"||a.status==="aborted")return T;if(o.status==="dirty"||a.status==="dirty")f.dirty();l.set(o.value,a.value)}return{status:f.value,value:l}}}}_n.create=(n,f,t)=>{return new _n({valueType:f,keyType:n,typeName:X.ZodMap,...B(t)})};class ln extends Q{_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.parsedType!==G.set)return h(t,{code:$.invalid_type,expected:G.set,received:t.parsedType}),T;const r=this._def;if(r.minSize!==null){if(t.data.size<r.minSize.value)h(t,{code:$.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),f.dirty()}if(r.maxSize!==null){if(t.data.size>r.maxSize.value)h(t,{code:$.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),f.dirty()}const g=this._def.valueType;function u(b){const o=new Set;for(let a of b){if(a.status==="aborted")return T;if(a.status==="dirty")f.dirty();o.add(a.value)}return{status:f.value,value:o}}const l=[...t.data.values()].map((b,o)=>g._parse(new I(t,b,t.path,o)));if(t.common.async)return Promise.all(l).then((b)=>u(b));else return u(l)}min(n,f){return new ln({...this._def,minSize:{value:n,message:v.toString(f)}})}max(n,f){return new ln({...this._def,maxSize:{value:n,message:v.toString(f)}})}size(n,f){return this.min(n,f).max(n,f)}nonempty(n){return this.min(1,n)}}ln.create=(n,f)=>{return new ln({valueType:n,minSize:null,maxSize:null,typeName:X.ZodSet,...B(f)})};class on extends Q{constructor(){super(...arguments);this.validate=this.implement}_parse(n){const{ctx:f}=this._processInputParams(n);if(f.parsedType!==G.function)return h(f,{code:$.invalid_type,expected:G.function,received:f.parsedType}),T;function t(l,b){return Rn({data:l,path:f.path,errorMaps:[f.common.contextualErrorMap,f.schemaErrorMap,Fn(),an].filter((o)=>!!o),issueData:{code:$.invalid_arguments,argumentsError:b}})}function r(l,b){return Rn({data:l,path:f.path,errorMaps:[f.common.contextualErrorMap,f.schemaErrorMap,Fn(),an].filter((o)=>!!o),issueData:{code:$.invalid_return_type,returnTypeError:b}})}const g={errorMap:f.common.contextualErrorMap},u=f.data;if(this._def.returns instanceof mn){const l=this;return F(async function(...b){const o=new j([]),a=await l._def.args.parseAsync(b,g).catch((O)=>{throw o.addIssue(t(b,O)),o}),W=await Reflect.apply(u,this,a);return await l._def.returns._def.type.parseAsync(W,g).catch((O)=>{throw o.addIssue(r(W,O)),o})})}else{const l=this;return F(function(...b){const o=l._def.args.safeParse(b,g);if(!o.success)throw new j([t(b,o.error)]);const a=Reflect.apply(u,this,o.data),W=l._def.returns.safeParse(a,g);if(!W.success)throw new j([r(a,W.error)]);return W.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...n){return new on({...this._def,args:k.create(n).rest(s.create())})}returns(n){return new on({...this._def,returns:n})}implement(n){return this.parse(n)}strictImplement(n){return this.parse(n)}static create(n,f,t){return new on({args:n?n:k.create([]).rest(s.create()),returns:f||s.create(),typeName:X.ZodFunction,...B(t)})}}class Wn extends Q{get schema(){return this._def.getter()}_parse(n){const{ctx:f}=this._processInputParams(n);return this._def.getter()._parse({data:f.data,path:f.path,parent:f})}}Wn.create=(n,f)=>{return new Wn({getter:n,typeName:X.ZodLazy,...B(f)})};class vn extends Q{_parse(n){if(n.data!==this._def.value){const f=this._getOrReturnCtx(n);return h(f,{received:f.data,code:$.invalid_literal,expected:this._def.value}),T}return{status:"valid",value:n.data}}get value(){return this._def.value}}vn.create=(n,f)=>{return new vn({value:n,typeName:X.ZodLiteral,...B(f)})};class nn extends Q{constructor(){super(...arguments);Yn.set(this,void 0)}_parse(n){if(typeof n.data!=="string"){const f=this._getOrReturnCtx(n),t=this._def.values;return h(f,{expected:A.joinValues(t),received:f.parsedType,code:$.invalid_type}),T}if(!Ln(this,Yn,"f"))Uf(this,Yn,new Set(this._def.values),"f");if(!Ln(this,Yn,"f").has(n.data)){const f=this._getOrReturnCtx(n),t=this._def.values;return h(f,{received:f.data,code:$.invalid_enum_value,options:t}),T}return F(n.data)}get options(){return this._def.values}get enum(){const n={};for(let f of this._def.values)n[f]=f;return n}get Values(){const n={};for(let f of this._def.values)n[f]=f;return n}get Enum(){const n={};for(let f of this._def.values)n[f]=f;return n}extract(n,f=this._def){return nn.create(n,{...this._def,...f})}exclude(n,f=this._def){return nn.create(this.options.filter((t)=>!n.includes(t)),{...this._def,...f})}}Yn=new WeakMap;nn.create=If;class Nn extends Q{constructor(){super(...arguments);Bn.set(this,void 0)}_parse(n){const f=A.getValidEnumValues(this._def.values),t=this._getOrReturnCtx(n);if(t.parsedType!==G.string&&t.parsedType!==G.number){const r=A.objectValues(f);return h(t,{expected:A.joinValues(r),received:t.parsedType,code:$.invalid_type}),T}if(!Ln(this,Bn,"f"))Uf(this,Bn,new Set(A.getValidEnumValues(this._def.values)),"f");if(!Ln(this,Bn,"f").has(n.data)){const r=A.objectValues(f);return h(t,{received:t.data,code:$.invalid_enum_value,options:r}),T}return F(n.data)}get enum(){return this._def.values}}Bn=new WeakMap;Nn.create=(n,f)=>{return new Nn({values:n,typeName:X.ZodNativeEnum,...B(f)})};class mn extends Q{unwrap(){return this._def.type}_parse(n){const{ctx:f}=this._processInputParams(n);if(f.parsedType!==G.promise&&f.common.async===!1)return h(f,{code:$.invalid_type,expected:G.promise,received:f.parsedType}),T;const t=f.parsedType===G.promise?f.data:Promise.resolve(f.data);return F(t.then((r)=>{return this._def.type.parseAsync(r,{path:f.path,errorMap:f.common.contextualErrorMap})}))}}mn.create=(n,f)=>{return new mn({type:n,typeName:X.ZodPromise,...B(f)})};class E extends Q{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===X.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){const{status:f,ctx:t}=this._processInputParams(n),r=this._def.effect||null,g={addIssue:(u)=>{if(h(t,u),u.fatal)f.abort();else f.dirty()},get path(){return t.path}};if(g.addIssue=g.addIssue.bind(g),r.type==="preprocess"){const u=r.transform(t.data,g);if(t.common.async)return Promise.resolve(u).then(async(l)=>{if(f.value==="aborted")return T;const b=await this._def.schema._parseAsync({data:l,path:t.path,parent:t});if(b.status==="aborted")return T;if(b.status==="dirty")return bn(b.value);if(f.value==="dirty")return bn(b.value);return b});else{if(f.value==="aborted")return T;const l=this._def.schema._parseSync({data:u,path:t.path,parent:t});if(l.status==="aborted")return T;if(l.status==="dirty")return bn(l.value);if(f.value==="dirty")return bn(l.value);return l}}if(r.type==="refinement"){const u=(l)=>{const b=r.refinement(l,g);if(t.common.async)return Promise.resolve(b);if(b instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(t.common.async===!1){const l=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});if(l.status==="aborted")return T;if(l.status==="dirty")f.dirty();return u(l.value),{status:f.value,value:l.value}}else return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then((l)=>{if(l.status==="aborted")return T;if(l.status==="dirty")f.dirty();return u(l.value).then(()=>{return{status:f.value,value:l.value}})})}if(r.type==="transform")if(t.common.async===!1){const u=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});if(!Qn(u))return u;const l=r.transform(u.value,g);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:f.value,value:l}}else return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then((u)=>{if(!Qn(u))return u;return Promise.resolve(r.transform(u.value,g)).then((l)=>({status:f.value,value:l}))});A.assertNever(r)}}E.create=(n,f,t)=>{return new E({schema:n,typeName:X.ZodEffects,effect:f,...B(t)})};E.createWithPreprocess=(n,f,t)=>{return new E({schema:f,effect:{type:"preprocess",transform:n},typeName:X.ZodEffects,...B(t)})};class K extends Q{_parse(n){if(this._getType(n)===G.undefined)return F(void 0);return this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}K.create=(n,f)=>{return new K({innerType:n,typeName:X.ZodOptional,...B(f)})};class P extends Q{_parse(n){if(this._getType(n)===G.null)return F(null);return this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}P.create=(n,f)=>{return new P({innerType:n,typeName:X.ZodNullable,...B(f)})};class en extends Q{_parse(n){const{ctx:f}=this._processInputParams(n);let t=f.data;if(f.parsedType===G.undefined)t=this._def.defaultValue();return this._def.innerType._parse({data:t,path:f.path,parent:f})}removeDefault(){return this._def.innerType}}en.create=(n,f)=>{return new en({innerType:n,typeName:X.ZodDefault,defaultValue:typeof f.default==="function"?f.default:()=>f.default,...B(f)})};class Xn extends Q{_parse(n){const{ctx:f}=this._processInputParams(n),t={...f,common:{...f.common,issues:[]}},r=this._def.innerType._parse({data:t.data,path:t.path,parent:{...t}});if(qn(r))return r.then((g)=>{return{status:"valid",value:g.status==="valid"?g.value:this._def.catchValue({get error(){return new j(t.common.issues)},input:t.data})}});else return{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new j(t.common.issues)},input:t.data})}}removeCatch(){return this._def.innerType}}Xn.create=(n,f)=>{return new Xn({innerType:n,typeName:X.ZodCatch,catchValue:typeof f.catch==="function"?f.catch:()=>f.catch,...B(f)})};class wn extends Q{_parse(n){if(this._getType(n)!==G.nan){const t=this._getOrReturnCtx(n);return h(t,{code:$.invalid_type,expected:G.nan,received:t.parsedType}),T}return{status:"valid",value:n.data}}}wn.create=(n)=>{return new wn({typeName:X.ZodNaN,...B(n)})};var Dg=Symbol("zod_brand");class On extends Q{_parse(n){const{ctx:f}=this._processInputParams(n),t=f.data;return this._def.type._parse({data:t,path:f.path,parent:f})}unwrap(){return this._def.type}}class Mn extends Q{_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.common.async)return(async()=>{const g=await this._def.in._parseAsync({data:t.data,path:t.path,parent:t});if(g.status==="aborted")return T;if(g.status==="dirty")return f.dirty(),bn(g.value);else return this._def.out._parseAsync({data:g.value,path:t.path,parent:t})})();else{const r=this._def.in._parseSync({data:t.data,path:t.path,parent:t});if(r.status==="aborted")return T;if(r.status==="dirty")return f.dirty(),{status:"dirty",value:r.value};else return this._def.out._parseSync({data:r.value,path:t.path,parent:t})}}static create(n,f){return new Mn({in:n,out:f,typeName:X.ZodPipeline})}}class Tn extends Q{_parse(n){const f=this._def.innerType._parse(n),t=(r)=>{if(Qn(r))r.value=Object.freeze(r.value);return r};return qn(f)?f.then((r)=>t(r)):t(f)}unwrap(){return this._def.innerType}}Tn.create=(n,f)=>{return new Tn({innerType:n,typeName:X.ZodReadonly,...B(f)})};var Vg={object:J.lazycreate},X;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(X||(X={}));var Kg=(n,f={message:`Input not instance of ${n.name}`})=>kf((t)=>t instanceof n,f),xf=D.create,Pf=Z.create,Ig=wn.create,ig=d.create,pf=cn.create,kg=gn.create,xg=An.create,Pg=Sn.create,pg=$n.create,yg=rn.create,sg=s.create,Zg=i.create,dg=Hn.create,nr=V.create,fr=J.create,tr=J.strictCreate,gr=hn.create,rr=jn.create,lr=Gn.create,mr=k.create,ur=Jn.create,br=_n.create,or=ln.create,ar=on.create,cr=Wn.create,Sr=vn.create,$r=nn.create,hr=Nn.create,Gr=mn.create,Of=E.create,Wr=K.create,vr=P.create,Nr=E.createWithPreprocess,er=Mn.create,Xr=()=>xf().optional(),Tr=()=>Pf().optional(),Yr=()=>pf().optional(),Br={string:(n)=>D.create({...n,coerce:!0}),number:(n)=>Z.create({...n,coerce:!0}),boolean:(n)=>cn.create({...n,coerce:!0}),bigint:(n)=>d.create({...n,coerce:!0}),date:(n)=>gn.create({...n,coerce:!0})},Qr=T,En=Object.freeze({__proto__:null,defaultErrorMap:an,setErrorMap:Qg,getErrorMap:Fn,makeIssue:Rn,EMPTY_PATH:qg,addIssueToContext:h,ParseStatus:M,INVALID:T,DIRTY:bn,OK:F,isAborted:ff,isDirty:tf,isValid:Qn,isAsync:qn,get util(){return A},get objectUtil(){return nf},ZodParsedType:G,getParsedType:y,ZodType:Q,datetimeRegex:Kf,ZodString:D,ZodNumber:Z,ZodBigInt:d,ZodBoolean:cn,ZodDate:gn,ZodSymbol:An,ZodUndefined:Sn,ZodNull:$n,ZodAny:rn,ZodUnknown:s,ZodNever:i,ZodVoid:Hn,ZodArray:V,ZodObject:J,ZodUnion:hn,ZodDiscriminatedUnion:jn,ZodIntersection:Gn,ZodTuple:k,ZodRecord:Jn,ZodMap:_n,ZodSet:ln,ZodFunction:on,ZodLazy:Wn,ZodLiteral:vn,ZodEnum:nn,ZodNativeEnum:Nn,ZodPromise:mn,ZodEffects:E,ZodTransformer:E,ZodOptional:K,ZodNullable:P,ZodDefault:en,ZodCatch:Xn,ZodNaN:wn,BRAND:Dg,ZodBranded:On,ZodPipeline:Mn,ZodReadonly:Tn,custom:kf,Schema:Q,ZodSchema:Q,late:Vg,get ZodFirstPartyTypeKind(){return X},coerce:Br,any:yg,array:nr,bigint:ig,boolean:pf,date:kg,discriminatedUnion:rr,effect:Of,enum:$r,function:ar,instanceof:Kg,intersection:lr,lazy:cr,literal:Sr,map:br,nan:Ig,nativeEnum:hr,never:Zg,null:pg,nullable:vr,number:Pf,object:fr,oboolean:Yr,onumber:Tr,optional:Wr,ostring:Xr,pipeline:er,preprocess:Nr,promise:Gr,record:ur,set:or,strictObject:tr,string:xf,symbol:xg,transformer:Of,tuple:mr,undefined:Pg,union:gr,unknown:sg,void:dg,NEVER:Qr,ZodIssueCode:$,quotelessJson:Bg,ZodError:j});var Un;(function(a){a[a["DOWN_LEFT"]=1]="DOWN_LEFT";a[a["DOWN_CENTER"]=2]="DOWN_CENTER";a[a["DOWN_RIGHT"]=3]="DOWN_RIGHT";a[a["CENTER_LEFT"]=4]="CENTER_LEFT";a[a["CENTER_CENTER"]=5]="CENTER_CENTER";a[a["CENTER_RIGHT"]=6]="CENTER_RIGHT";a[a["UP_LEFT"]=7]="UP_LEFT";a[a["UP_CENTER"]=8]="UP_CENTER";a[a["UP_RIGHT"]=9]="UP_RIGHT"})(Un||(Un={}));var yf=En.nativeEnum(Un);var Dn;(function(q){q[q["ANSI"]=0]="ANSI";q[q["DEFAULT"]=1]="DEFAULT";q[q["SYMBOL"]=2]="SYMBOL";q[q["MAC"]=77]="MAC";q[q["SHIFT_JIS"]=128]="SHIFT_JIS";q[q["HANGEUL"]=129]="HANGEUL";q[q["JOHAB"]=130]="JOHAB";q[q["GB2312"]=134]="GB2312";q[q["CHINESE_BIG5"]=136]="CHINESE_BIG5";q[q["GREEK"]=161]="GREEK";q[q["TURKISH"]=162]="TURKISH";q[q["VIETNAMESE"]=163]="VIETNAMESE";q[q["HEBREW"]=177]="HEBREW";q[q["ARAB"]=178]="ARAB";q[q["BALTIC"]=186]="BALTIC";q[q["RUSSIAN"]=204]="RUSSIAN";q[q["THAI"]=222]="THAI";q[q["EASTERN_EUROPE"]=238]="EASTERN_EUROPE";q[q["OEM"]=255]="OEM"})(Dn||(Dn={}));var sf=En.nativeEnum(Dn);function Zf(){return{format:"Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text",lines:[]}}function df(n){let f="[Events]";f+=`\nFormat: ${n.format}`;for(let t of n.lines)f+=`\n${nt(t)}`;return f}function ft(){return{data:[]}}function tt(n){let f="[Aegisub Extradata]";for(let t of n.data)f+=`\nData: ${t}`;return f}function gt(n){let f=`fontname: ${n.name}`;for(let t of n.data)f+=`\n${t}`;return f}function rt(){return{files:[]}}function lt(n){let f="[Fonts]\n",t=0;for(let r of n.files){if(t>0)f+="\n\n";f+=gt(r),t++}return f+="\n",f}function mt(n){let f=`filename: ${n.name}`;for(let t of n.data)f+=`\n${t}`;return f}function ut(){return{files:[]}}function bt(n){let f="[Graphics]\n",t=0;for(let r of n.files){if(t>0)f+="\n\n";f+=mt(r),t++}return f}function ot(){return{comments:[],properties:new Map}}function at(n){let f="[Aegisub Project Garbage]";for(let t of n.comments)f+=`\n; ${t}`;for(let[t,r]of n.properties)f+=`\n${t}: ${r}`;return f}function ct(){return{comments:[],properties:new Map}}function St(n){let f="[Script Info]";for(let t of n.comments)f+=`\n; ${t}`;for(let[t,r]of n.properties)f+=`\n${t}: ${r}`;return f}function $t(n){let f=`Style: ${n.name}`;return f+=`,${n.fontName}`,f+=`,${n.fontSize}`,f+=`,${n.primaryAlpha}`,f+=`,${n.primaryColor}`,f+=`,${n.secondaryAlpha}`,f+=`,${n.secondaryColor}`,f+=`,${n.outlineAlpha}`,f+=`,${n.outlineColor}`,f+=`,${n.backAlpha}`,f+=`,${n.backColor}`,f+=`,${n.bold}`,f+=`,${n.italic}`,f+=`,${n.underline}`,f+=`,${n.strikeOut}`,f+=`,${n.scaleX}`,f+=`,${n.scaleY}`,f+=`,${n.spacing}`,f+=`,${n.angle}`,f+=`,${n.borderStyle}`,f+=`,${n.outline}`,f+=`,${n.shadow}`,f+=`,${n.alignment}`,f+=`,${n.marginLeft}`,f+=`,${n.marginRight}`,f+=`,${n.marginVertical}`,f+=`,${n.encoding}`,f}function ht(){return{format:"Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding",styles:[]}}function Gt(n){let f="[V4+ Styles]";f+=`\nFormat: ${n.format}`;for(let t of n.styles)f+=`\n${$t(t)}`;return f}function sl(n){let f="";return f+=St(n.scriptInfo),f+="\n\n"+at(n.aegisubProjectGarbage),f+="\n\n"+Gt(n.styles),f+="\n\n"+lt(n.fonts),f+="\n\n"+bt(n.graphics),f+="\n\n"+df(n.events),f+="\n\n"+tt(n.extraData),f+="\n",f}function Zl(n){const f={scriptInfo:ct(),aegisubProjectGarbage:ot(),styles:ht(),fonts:rt(),graphics:ut(),events:Zf(),extraData:ft()};let a="",W="";const U=n.split("\n");for(let O=0;O<U.length;O++){const R=zr(U[O]);if(R.length===0)continue;switch(R){case qr:a="scriptInfo";continue;case Ar:a="projectGarbage";continue;case Hr:a="styles";continue;case _r:a="fonts";continue;case Jr:a="graphics";continue;case wr:a="events";continue;case Mr:a="extraData";continue}let p="";switch(a){case"scriptInfo":p=Cr(f,R);break;case"projectGarbage":p=Fr(f,R);break;case"styles":p=Rr(f,R);break;case"fonts":W=Lr(f,R,W);break;case"graphics":W=jr(f,R,W);break;case"events":p=Or(f,R);break;case"extraData":Er(f,R);break;default:break}if(p.length>0)return console.error(`failed to parse ass file at line ${O+1}: ${p}\nLine:\n${R}`),null}return f}var zr=function(n){return n.replaceAll("\\uFEFF","")},Kn=function(n){const f=/(?<key>.+):\s+(?<value>.*)\s*/,t={key:"",value:""},r=n.match(f);if(!r||r.length===0)return[t,`not a key-value pair: ${n}`];return t.key=r.groups?.key??"",t.value=r.groups?.value??"",[t,""]},Cr=function(n,f){if(f.startsWith(Vn)){const g=f.substring(Vn.length);return n.scriptInfo.comments.push(g),""}const[t,r]=Kn(f);if(r.length>0)return`failed to parse script info line: ${r}`;return n.scriptInfo.properties.set(t.key,t.value),""},Fr=function(n,f){if(f.startsWith(Vn)){const g=f.substring(Vn.length);return n.aegisubProjectGarbage.comments.push(g),""}const[t,r]=Kn(f);if(r.length>0)return`failed to parse script info line: ${r}`;return n.aegisubProjectGarbage.properties.set(t.key,t.value),""},Rr=function(n,f){const t=/(?<name>.*)\s*,\s*(?<fontName>.*)\s*,\s*(?<fontSize>\d+(?:\.\d+)?)\s*,\s*&H(?<alpha1>[A-Fa-f0-9]{2})(?<color1>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha2>[A-Fa-f0-9]{2})(?<color2>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha3>[A-Fa-f0-9]{2})(?<color3>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha4>[A-Fa-f0-9]{2})(?<color4>[A-Fa-f0-9]{6})\s*,\s*(?<bold>0|-1)\s*,\s*(?<italic>0|-1)\s*,\s*(?<underline>0|-1)\s*,\s*(?<strikeout>0|-1)\s*,\s*(?<scaleX>\d+(?:\.\d+)?)\s*,\s*(?<scaleY>\d+(?:\.\d+)?)\s*,\s*(?<spacing>\d+(?:\.\d+)?)\s*,\s*(?<angle>-?\d+(?:\.\d+)?)\s*,\s*(?<borderStyle>\d+)\s*,\s*(?<outline>\d+(?:\.\d+)?)\s*,\s*(?<shadow>\d+(?:\.\d+)?)\s*,\s*(?<alignment>[1-9])\s*,\s*(?<marginLeft>\d+)\s*,\s*(?<marginRight>\d+)\s*,\s*(?<marginVertical>\d+)\s*,\s*(?<encoding>\d+)/;if(!f.startsWith("Style: "))return"";const r=f.match(t);if(!r||r.length===0||!r.groups)return`failed to parse style: not a style: ${f}`;const g=yf.safeParse(Number(r.groups.alignment));if(!g.success)return`failed to parse style: invalid alignment: ${f}`;const u=g.data,l=sf.safeParse(Number(r.groups.encoding));if(!l.success)return`failed to parse style: invalid encoding: ${r.groups.encoding}`;const b=l.data,o={name:r.groups.name??"",fontName:r.groups.fontName??"",fontSize:Number(r.groups.fontSize??"0"),primaryAlpha:r.groups.alpha1,primaryColor:r.groups.color1,secondaryAlpha:r.groups.alpha2,secondaryColor:r.groups.color2,outlineAlpha:r.groups.alpha3,outlineColor:r.groups.color3,backAlpha:r.groups.alpha4,backColor:r.groups.color4,bold:Number(r.groups.bold),italic:Number(r.groups.italic),underline:Number(r.groups.underline),strikeOut:Number(r.groups.strikeout),scaleX:Number(r.groups.scaleX),scaleY:Number(r.groups.scaleY),spacing:Number(r.groups.spacing),angle:Number(r.groups.angle),borderStyle:Number(r.groups.borderStyle),outline:Number(r.groups.outline),shadow:Number(r.groups.shadow),alignment:u,marginLeft:Number(r.groups.marginLeft),marginRight:Number(r.groups.marginRight),marginVertical:Number(r.groups.marginVertical),encoding:b};return n.styles.styles.push(o),""},Lr=function(n,f,t){const[r,g]=Kn(f);if(g.length===0&&r.key=="fontname"){const b=r.value;let o={name:"",data:[]},a=n.fonts.files.findIndex((W)=>W.name===b);return n.fonts.files.push(o),a=n.fonts.files.length-1,o=n.fonts.files[a],o.name=b,t=b,b}const u=n.fonts.files.findLastIndex((b)=>b.name==t);if(u<0)return"";return n.fonts.files[u].data.push(f),t},jr=function(n,f,t){const[r,g]=Kn(f);if(g.length===0&&r.key=="filename"){const b=r.value;let o={name:"",data:[]},a=n.graphics.files.findIndex((W)=>W.name===b);return n.graphics.files.push(o),a=n.graphics.files.length-1,o=n.graphics.files[a],o.name=b,t=b,b}const u=n.graphics.files.findLastIndex((b)=>b.name==t);if(u<0)return"";return n.graphics.files[u].data.push(f),t},Or=function(n,f){if(f.startsWith("Format:"))return n.events.format=f,"";const t=vt(f);if(t==null)return`not a event (dialogue / comment): ${t}`;return n.events.lines.push(t),""},Er=function(n,f){if(!f.startsWith(Wt))return;const t=f.substring(Wt.length);n.extraData.data.push(t)},qr="[Script Info]",Ar="[Aegisub Project Garbage]",Hr="[V4+ Styles]",Jr="[Graphics]",_r="[Fonts]",wr="[Events]",Mr="[Aegisub Extradata]",Vn="; ",Wt="Data: ";function rm(n){const f=[],t=n.content.split(" ");for(let o=0;o<t.length;o++){const a=t[o];if(Ur(a)){const W=a.matchAll(Pn);for(let U of W)f.push({text:U[1],durationInMs:0})}else f.push({text:a,durationInMs:0});if(o!=t.length-1)f[f.length-1].text+=" "}const r=et(n),g=Math.floor(Math.round(r*100/f.length)),u=f.length*g;for(let o of f)o.durationInMs=g;if(u!==r*100){const a=r*100-u;f[f.length-1].durationInMs+=a}const b=[];for(let o of f)b.push({name:"effect",tags:[{name:m.kf,value:o.durationInMs}]},{name:"text",value:o.text});n.content=Nt(b)}function Ur(n){while(n.length>0){const f=n.match(Pn);if(!f||f.length===0)return!1;n=n.substring(f[0].length)}return!0}function zn(n,f){const t=n.substring(1),r=n.match(pn);if(r&&r.length>0)return Dr(n,f,t,r);const g=n.match(mf);if(g&&g.length>0){const l=g[0];if(f.push({name:m.text,value:l}),n=n.substring(l.length),n.length>0)zn(n,f);return f}const u=n.match(Rf);if(!u||u.length==0)return f;if(t.startsWith(m.move)){const l=u[0].match(_f)?.groups,b=Number(l?.move_x1??"0"),o=Number(l?.move_y1??"0"),a=Number(l?.move_x2??"0"),W=Number(l?.move_y2??"0"),U=l?.move_t1?Number(l.move_t1):null,O=l?.move_t2?Number(l.move_t2):null,R={name:m.move,x1:b,y1:o,x2:a,y2:W,t1:U,t2:O};f.push(R)}else if(t.startsWith(m.alpha)){const l=u[0].substring(1+m.alpha.length),b={name:m.alpha,value:l};f.push(b)}else if(t.startsWith(m.xbord)){const l=Number(u[0].substring(1+m.xbord.length)),b={name:m.xbord,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.ybord)){const l=Number(u[0].substring(1+m.ybord.length)),b={name:m.ybord,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.xshad)){const l=Number(u[0].substring(1+m.xshad.length)),b={name:m.xshad,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.yshad)){const l=Number(u[0].substring(1+m.yshad.length)),b={name:m.yshad,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.iclip)){const b=u[0].match(Cf)?.groups?.iclip_args??"",o={name:m.iclip,drawCommands:b};f.push(o)}else if(t.startsWith(m.blur)){const l=Number(u[0].substring(1+m.blur.length)),b={name:m.blur,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.bord)){const l=Number(u[0].substring(1+m.bord.length)),b={name:m.bord,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.shad)){const l=Number(u[0].substring(1+m.shad.length)),b={name:m.shad,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.fscx)){const l=Number(u[0].substring(1+m.fscx.length)),b={name:m.fscx,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.fscy)){const l=Number(u[0].substring(1+m.fscy.length)),b={name:m.fscy,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.fade)){const l=u[0].match(Hf)?.groups,b=Number(l?.fade_alpha1??"0"),o=Number(l?.fade_alpha2??"0"),a=Number(l?.fade_alpha3??"0"),W=Number(l?.fade_t1??"0"),U=Number(l?.fade_t2??"0"),O=Number(l?.fade_t3??"0"),R=Number(l?.fade_t4??"0"),p={name:m.fade,alpha1:b,alpha2:o,alpha3:a,t1:W,t2:U,t3:O,t4:R};f.push(p)}else if(t.startsWith(m.clip)){const b=u[0].match(Mf)?.groups?.clip_args??"",o={name:m.clip,drawCommands:b};f.push(o)}else if(t.startsWith(m.fsp)){const l=Number(u[0].substring(1+m.fsp.length)),b={name:m.fsp,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.pos)){const l=u[0].match(Tf)?.groups,b=Number(l?.pos_x??"0"),o=Number(l?.pos_y??"0"),a={name:m.pos,x:b,y:o};f.push(a)}else if(t.startsWith(m.org)){const l=u[0].match(Bf)?.groups,b=Number(l?.org_x??"0"),o=Number(l?.org_y??"0"),a={name:m.org,x:b,y:o};f.push(a)}else if(t.startsWith(m.fad)){const l=u[0].match(qf)?.groups,b=Number(l?.in??"0"),o=Number(l?.out??"0"),a={name:m.fad,in:b,out:o};f.push(a)}else if(t.startsWith(m.frx)){const l=Number(u[0].substring(1+m.frx.length)),b={name:m.frx,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.fry)){const l=Number(u[0].substring(1+m.fry.length)),b={name:m.fry,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.frz)){const l=Number(u[0].substring(1+m.frz.length)),b={name:m.frz,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.fax)){const l=Number(u[0].substring(1+m.fax.length)),b={name:m.fax,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.fay)){const l=Number(u[0].substring(1+m.fay.length)),b={name:m.fay,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.pbo)){const l=Number(u[0].substring(1+m.pbo.length)),b={name:m.pbo,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.fe)){const l=Number(u[0].substring(1+m.fe.length)),b={name:m.fe,encodingId:Number(l)};f.push(b)}else if(t.startsWith(m.fn)){const l=u[0].substring(1+m.fn.length),b={name:m.fn,font:l};f.push(b)}else if(t.startsWith(m.an)){const l=Number(u[0].substring(1+m.be.length)),b={name:m.an,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.be)){const l=Number(u[0].substring(1+m.be.length)),b={name:m.be,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.fr)){const l=Number(u[0].substring(1+m.fr.length)),b={name:m.fr,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.fs)){const l=Number(u[0].substring(1+m.fs.length)),b={name:m.fs,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.ko)){const l=Number(u[0].substring(1+m.ko.length)),b={name:m.ko,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.kf)){const l=Number(u[0].substring(1+m.kf.length)),b={name:m.kf,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.color1)){const l=u[0].match(Wf)?.groups,b=Number(_(l?.color1_bgr_blue??"0")),o=Number(_(l?.color1_bgr_green??"0")),a=Number(_(l?.color1_bgr_red??"0")),W={name:m.color1,blue:b,green:o,red:a};f.push(W)}else if(t.startsWith(m.color2)){const l=u[0].match(vf)?.groups,b=Number(_(l?.color2_bgr_blue??"0")),o=Number(_(l?.color2_bgr_green??"0")),a=Number(_(l?.color2_bgr_red??"0")),W={name:m.color2,blue:b,green:o,red:a};f.push(W)}else if(t.startsWith(m.color3)){const l=u[0].match(Nf)?.groups,b=Number(_(l?.color3_bgr_blue??"0")),o=Number(_(l?.color3_bgr_green??"0")),a=Number(_(l?.color3_bgr_red??"0")),W={name:m.color3,blue:b,green:o,red:a};f.push(W)}else if(t.startsWith(m.color4)){const l=u[0].match(ef)?.groups,b=Number(_(l?.color4_bgr_blue??"0")),o=Number(_(l?.color4_bgr_green??"0")),a=Number(_(l?.color4_bgr_red??"0")),W={name:m.color4,blue:b,green:o,red:a};f.push(W)}else if(t.startsWith(m.alpha1)){const l=u[0].substring(1+m.alpha1.length),b={name:m.alpha1,value:l};f.push(b)}else if(t.startsWith(m.alpha2)){const l=u[0].substring(1+m.alpha2.length),b={name:m.alpha2,value:l};f.push(b)}else if(t.startsWith(m.alpha3)){const l=u[0].substring(1+m.alpha3.length),b={name:m.alpha3,value:l};f.push(b)}else if(t.startsWith(m.alpha4)){const l=u[0].substring(1+m.alpha4.length),b={name:m.alpha4,value:l};f.push(b)}else if(t.startsWith(m.kLowerCase)){const l=Number(u[0].substring(1+m.kLowerCase.length)),b={name:m.kLowerCase,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.kUpperCase)){const l=Number(u[0].substring(1+m.kUpperCase.length)),b={name:m.kUpperCase,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.q)){const l=Number(u[0].substring(1+m.q.length)),b={name:m.q,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.s)){const l=Number(u[0].substring(1+m.s.length)),b={name:m.s,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.u)){const l=Number(u[0].substring(1+m.u.length)),b={name:m.u,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.r)){const l=u[0].substring(1+m.r.length),b={name:m.r,style:l};f.push(b)}else if(t.startsWith(m.p)){const l=Number(u[0].substring(1+m.p.length)),b={name:m.p,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.i)){const l=Number(u[0].substring(1+m.i.length)),b={name:m.i,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.color)){const l=u[0].match(Gf)?.groups,b=Number(_(l?.color_bgr_blue??"0")),o=Number(_(l?.color_bgr_green??"0")),a=Number(_(l?.color_bgr_red??"0")),W={name:m.color,blue:b,green:o,red:a};f.push(W)}else if(t.startsWith(m.b)){const l=Number(u[0].substring(1+m.b.length)),b={name:m.b,value:Number.isNaN(l)?0:l};f.push(b)}else if(t.startsWith(m.a)){const l=Number(u[0].substring(1+m.a.length)),b={name:m.a,value:Number.isNaN(l)?0:l};f.push(b)}else{const l=u[0],b={name:m.unknown,value:l};f.push(b)}if(n=n.substring(u[0].length),n.length>0)zn(n,f);return f}var Dr=function(n,f,t,r){if(t.startsWith(m.t)){const g=r[0].match(pn)?.groups,u=g?.tags??"",l=[];zn(u,l);const b=g?.arg1?Number(g.arg1):null,o=g?.arg2?Number(g.arg2):null,a=g?.arg3?Number(g.arg3):null,W={name:m.t,accel:null,t1:null,t2:null,tags:l};if(b!==null&&o!==null&&a!==null)W.t1=b,W.t2=o,W.accel=a;else if(b!==null&&o!==null&&a===null)W.t1=b,W.t2=o,W.accel=null;else if(b!==null)W.accel=b;f.push(W)}if(n=n.substring(r[0].length),n.length>0)zn(n,f);return f};function am(n){const f=[],t=n.matchAll(lf);for(let r of t){if(r.groups?.fx){const g=r.groups.fx.substring(1,r.groups.fx.length-1),u=[];zn(g,u),f.push({name:"effect",tags:u});continue}if(r.groups?.txt){f.push({name:"text",value:r.groups?.txt});continue}}return f}function Xt(n){let f="";for(let t of n.tags)switch(t.name){case m.t:{const r={name:"effect",tags:t.tags},g=Xt(r);if(t.t1!==null&&t.t2!==null&&t.accel!==null)f+=`\\t(${t.t1},${t.t2},${t.accel},${g})`;else if(t.t1!==null&&t.t2!==null&&t.accel===null)f+=`\\t(${t.t1},${t.t2},${g})`;else if(t.accel!==null)f+=`\\t(${t.accel},${g})`;else f+=`\\t(${g})`;break}case m.pos:case m.org:f+=`\\${t.name}(${t.x},${t.y})`;break;case m.move:if(f+=`\\move(${t.x1},${t.y1},${t.x2},${t.y2}`,t.t1!=null&&t.t2!=null)f+=`,${t.t1},${t.t2}`;f+=")";break;case m.clip:case m.iclip:f+=`\\${t.name}(${t.drawCommands})`;break;case m.fad:f+=`\\fad(${t.in},${t.out})`;break;case m.fade:f+=`\\fade(${t.alpha1},${t.alpha2},${t.alpha3},${t.t1},${t.t2},${t.t3},${t.t4})`;break;case m.fe:f+=`\\fe${t.encodingId}`;break;case m.fn:f+=`\\fn${t.font}`;break;case m.r:f+=`\\r${t.style}`;break;case m.color:case m.color1:case m.color2:case m.color3:case m.color4:{const r=Cn(t.blue),g=Cn(t.green),u=Cn(t.red);f+=`\\${t.name}&H${r}${g}${u}&`;break}case m.text:case m.unknown:f+=t.value;break;default:f+=`\\${t.name}${t.value}`;break}return f}function Nt(n){let f="";for(let t of n){if(t.name=="text"){f+=t.value;continue}f+="{"+Xt(t)+"}"}return f}function cm(n){const f=[];for(let t=0;t<n.length;t++){const r=n[t];if(r.name!="effect")continue;const g=n[t+1];if(g.name!="effect"){t++;continue}if(g==null)break;r.tags.push(...g.tags),f.push(t+1)}for(let t of f)n.splice(t,1)}function Sm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.a,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function $m(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.b,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function hm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.color,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Gm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.color1,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Wm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.color2,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function vm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.color3,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Nm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.color4,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function em(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.alpha,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Xm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.alpha1,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Tm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.alpha2,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Ym(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.alpha3,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Bm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.alpha4,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Qm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.an,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function qm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.be,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Am(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.blur,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Hm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.bord,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Jm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.xbord,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function _m(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.ybord,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function wm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.shad,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Mm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.xshad,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function zm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.yshad,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Cm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.fr,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Fm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.frx,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Rm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.fry,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Lm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.frz,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function jm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.fax,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Om(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.fay,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Em(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.p,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Um(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.pbo,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Dm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.q,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Vm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.s,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Km(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.u,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Im(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.r,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function im(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.fe,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function km(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.fn,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function xm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.fscx,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Pm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.fscy,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function pm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.fsp,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function ym(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.kLowerCase,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function sm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.kUpperCase,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Zm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.ko,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function dm(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.kf,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function nu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.i,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function fu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.fs,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function tu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.pos,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function gu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.org,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function ru(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.fad,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function lu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.fade,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function mu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.clip,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function uu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.iclip,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function bu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.move,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function ou(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=m.t,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function au(n,f){const t={name:m.a,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function cu(n,f){const t={name:m.an,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Su(n,f){const t={name:m.b,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function $u(n,f,t,r){const g={name:m.color,blue:f,green:t,red:r},[u,l]=e(n,g.name,g);if(!u)l.blue=f,l.green=t,l.red=r;return l}function hu(n,f,t,r){const g={name:m.color1,blue:f,green:t,red:r},[u,l]=e(n,g.name,g);if(!u)l.blue=f,l.green=t,l.red=r;return l}function Gu(n,f,t,r){const g={name:m.color2,blue:f,green:t,red:r},[u,l]=e(n,g.name,g);if(!u)l.blue=f,l.green=t,l.red=r;return l}function Wu(n,f,t,r){const g={name:m.color3,blue:f,green:t,red:r},[u,l]=e(n,g.name,g);if(!u)l.blue=f,l.green=t,l.red=r;return l}function vu(n,f,t,r){const g={name:m.color4,blue:f,green:t,red:r},[u,l]=e(n,g.name,g);if(!u)l.blue=f,l.green=t,l.red=r;return l}function Nu(n,f){const t={name:m.alpha,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function eu(n,f){const t={name:m.alpha1,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Xu(n,f){const t={name:m.alpha2,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Tu(n,f){const t={name:m.alpha3,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Yu(n,f){const t={name:m.alpha4,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Bu(n,f){const t={name:m.blur,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Qu(n,f){const t={name:m.bord,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function qu(n,f){const t={name:m.xbord,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Au(n,f){const t={name:m.ybord,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Hu(n,f){const t={name:m.fax,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Ju(n,f){const t={name:m.fay,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function _u(n,f){const t={name:m.fscx,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function wu(n,f){const t={name:m.fscy,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Mu(n,f){const t={name:m.fsp,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function zu(n,f){const t={name:m.fe,encodingId:f},[r,g]=e(n,t.name,t);if(!r)g.encodingId=f;return g}function Cu(n,f){const t={name:m.fn,font:f},[r,g]=e(n,t.name,t);if(!r)g.font=f;return g}function Fu(n,f){const t={name:m.kLowerCase,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Ru(n,f){const t={name:m.kUpperCase,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Lu(n,f){const t={name:m.kf,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function ju(n,f){const t={name:m.ko,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Ou(n,f){const t={name:m.p,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Eu(n,f){const t={name:m.pbo,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Uu(n,f){const t={name:m.q,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Du(n,f){const t={name:m.s,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Vu(n,f){const t={name:m.shad,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Ku(n,f){const t={name:m.xshad,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Iu(n,f){const t={name:m.yshad,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function iu(n,f){const t={name:m.u,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function ku(n,f){const t={name:m.be,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function xu(n,f){const t={name:m.fs,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Pu(n,f){const t={name:m.fr,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function pu(n,f){const t={name:m.frx,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function yu(n,f){const t={name:m.fry,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function su(n,f){const t={name:m.frz,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function Zu(n,f){const t={name:m.i,value:f},[r,g]=e(n,t.name,t);if(!r)g.value=f;return g}function du(n,f){const t={name:m.r,style:f},[r,g]=e(n,t.name,t);if(!r)g.style=f;return g}function nb(n,f,t){const r={name:m.pos,x:f,y:t},[g,u]=e(n,r.name,r);if(!g)u.x=f,u.y=t;return u}function fb(n,f,t){const r={name:m.org,x:f,y:t},[g,u]=e(n,r.name,r);if(!g)u.x=f,u.y=t;return u}function tb(n,f,t){const r={name:m.fad,in:f,out:t},[g,u]=e(n,r.name,r);if(!g)u.in=f,u.out=t;return u}function gb(n,f,t,r,g,u,l,b){const o={name:m.fade,alpha1:f,alpha2:t,alpha3:r,t1:g,t2:u,t3:l,t4:b},[a,W]=e(n,o.name,o);if(!a)W.alpha1=f,W.alpha2=t,W.alpha3=r,W.t1=g,W.t2=u,W.t3=l,W.t4=b;return W}function rb(n,f){const t={name:m.clip,drawCommands:f},[r,g]=e(n,t.name,t);if(!r)g.drawCommands=f;return g}function lb(n,f){const t={name:m.iclip,drawCommands:f},[r,g]=e(n,t.name,t);if(!r)g.drawCommands=f;return g}function mb(n,f,t,r,g,u=null,l=null){const b={name:m.move,x1:f,y1:t,x2:r,y2:g,t1:u,t2:l},[o,a]=e(n,b.name,b);if(!o)a.x1=f,a.y1=t,a.x2=r,a.y2=g,a.t1=u,a.t2=l;return a}function ub(n,f,t=null,r=null,g=null){const u={name:m.t,t1:r,t2:g,accel:t,tags:f},[l,b]=e(n,u.name,u);if(!l)b.t1=r,b.t2=g,b.accel=t,b.tags=f;return b}function bb(n){return[{name:"effect",tags:n}]}function ob(n){const f=n.find((t)=>t.name==="effect");if(f==null||f.name!="effect")return[];return f.tags}var e=function(n,f,t){const r=n.find((u)=>u.name=="effect");if(r?.name!="effect")return n.unshift({name:"effect",tags:[t]}),[!0,t];const g=r.tags.find((u)=>u.name==f);if(g?.name!=f)return r.tags.push(t),[!0,t];return[!1,g]};function ab(n,f){const t=n.find((g)=>g.name=="effect");if(t?.name!="effect")return;const r=t.tags.findIndex((g)=>g.name===f);if(r<0)return;t.tags.splice(r,1)}function vt(n){const f=n.match(uf);if(f==null)return null;const t=f.groups,r=yn(t?.start??"");if(r==null)return null;const g=yn(t?.end??"");if(g==null)return null;return{type:t?.type??"",layer:Number(t?.layer??"0"),start:r,end:g,style:t?.style??"",actor:t?.actor??"",marginLeft:Number(t?.marginLeft??"0"),marginRight:Number(t?.marginRight??"0"),marginVertical:Number(t?.marginVertical??"0"),effect:t?.effect??"",content:t?.content??""}}function nt(n){let f=n.type;return f+=": ",f+=n.layer,f+=",",f+=Zn(n.start),f+=",",f+=Zn(n.end),f+=",",f+=n.style,f+=",",f+=n.actor,f+=",",f+=n.marginLeft,f+=",",f+=n.marginRight,f+=",",f+=n.marginVertical,f+=",",f+=n.effect,f+=",",f+=n.content,f}function et(n){return tn(n.end)-tn(n.start)}function cb(n){const f=n.match(hf);if(f==null)return null;const t=f.groups;return{blue:_(t?.color_bgr_blue??""),green:_(t?.color_bgr_green??""),red:_(t?.color_bgr_red??"")}}function Sb(){return{type:"Dialogue",layer:0,start:{hours:0,minutes:0,seconds:0},end:{hours:0,minutes:0,seconds:5},style:"Default",actor:"",marginLeft:0,marginRight:0,marginVertical:0,effect:"",content:""}}var m;(function(S){S["a"]="a";S["alpha"]="alpha";S["alpha1"]="1a";S["alpha2"]="2a";S["alpha3"]="3a";S["alpha4"]="4a";S["an"]="an";S["b"]="b";S["be"]="be";S["blur"]="blur";S["bord"]="bord";S["clip"]="clip";S["color"]="c";S["color1"]="1c";S["color2"]="2c";S["color3"]="3c";S["color4"]="4c";S["fad"]="fad";S["fade"]="fade";S["fax"]="fax";S["fay"]="fay";S["fe"]="fe";S["fn"]="fn";S["fr"]="fr";S["frx"]="frx";S["fry"]="fry";S["frz"]="frz";S["fs"]="fs";S["fscx"]="fscx";S["fscy"]="fscy";S["fsp"]="fsp";S["i"]="i";S["iclip"]="iclip";S["kLowerCase"]="k";S["kUpperCase"]="K";S["kf"]="kf";S["ko"]="ko";S["move"]="move";S["org"]="org";S["p"]="p";S["pbo"]="pbo";S["pos"]="pos";S["q"]="q";S["r"]="r";S["s"]="s";S["shad"]="shad";S["t"]="t";S["text"]="text";S["u"]="u";S["unknown"]="unknown";S["xbord"]="xbord";S["xshad"]="xshad";S["ybord"]="ybord";S["yshad"]="yshad"})(m||(m={}));export{Kr as truncate,Zn as timeToString,tn as timeToSeconds,bb as tagsToItems,ml as sumTimes,ul as subtractTimes,rm as splitSyllabes,Iu as setYshad,Au as setYbord,Ku as setXshad,qu as setXbord,iu as setU,ub as setT,Vu as setShad,Du as setS,du as setR,Uu as setQ,nb as setPos,Eu as setPbo,Ou as setP,fb as setOrg,mb as setMove,ju as setKo,Lu as setKf,Ru as setKUpperCase,Fu as setKLowerCase,lb as setIclip,Zu as setI,Mu as setFsp,wu as setFscy,_u as setFscx,xu as setFs,su as setFrz,yu as setFry,pu as setFrx,Pu as setFr,Cu as setFn,zu as setFe,Ju as setFay,Hu as setFax,gb as setFade,tb as setFad,vu as setColor4,Wu as setColor3,Gu as setColor2,hu as setColor1,$u as setColor,rb as setClip,Qu as setBord,Bu as setBlur,ku as setBe,Su as setB,cu as setAn,Yu as setAlpha4,Tu as setAlpha3,Xu as setAlpha2,eu as setAlpha1,Nu as setAlpha,au as setA,Lf as secondsToTime,ab as removeTag,yn as parseTime,zn as parseTags,vt as parseLine,am as parseContent,cb as parseColorBGR,Zl as parseASSFile,Cn as numberToHex,cm as mergeNeighboringEffects,nt as lineToString,ob as itemsToTags,Ur as isRomajiWord,Vr as interpolate,_ as hexToNumber,Sb as generateDefaultLine,zm as findYshad,_m as findYbord,Mm as findXshad,Jm as findXbord,Km as findU,ou as findT,wm as findShad,Vm as findS,Im as findR,Dm as findQ,tu as findPos,Um as findPbo,Em as findP,gu as findOrg,bu as findMove,Zm as findKo,dm as findKf,sm as findKUpperCase,ym as findKLowerCase,uu as findIclip,nu as findI,pm as findFsp,Pm as findFscy,xm as findFscx,fu as findFs,Lm as findFrz,Rm as findFry,Fm as findFrx,Cm as findFr,km as findFn,im as findFe,Om as findFay,jm as findFax,lu as findFade,ru as findFad,Nm as findColor4,vm as findColor3,Wm as findColor2,Gm as findColor1,hm as findColor,mu as findClip,Hm as findBord,Am as findBlur,qm as findBe,$m as findB,Qm as findAn,Bm as findAlpha4,Ym as findAlpha3,Tm as findAlpha2,Xm as findAlpha1,em as findAlpha,Sm as findA,Nt as contentsToString,Xt as contentEffectToString,et as calculateLineDurationInSeconds,sn as adjustTimeOverplus,m as TagName,sl as ASSFileToString};

//# debugId=162893A55B71472164756e2164756e21
