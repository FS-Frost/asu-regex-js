function h(a){return parseInt(a,16)}function $(a){return Math.floor(a).toString(16).padStart(2,"0").toUpperCase()}function Tt(a,t,n){const u=a>t;let e=t,g=a;if(u)e=a,g=t;const s=(e-g)/n;let p=g;const d=[g];for(let b=1;b<n;b++){if(p+=s,p>e)p=e;d.push(p)}if(d[n-1]=e,u)d.reverse();return d}var pn=/^(\(.*\)|\\?.)$/,I=(a)=>{const t=a.toString();return pn.test(t)?t:`(?:${t})`},dn=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,bn=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/,i=(a)=>{const t=(n)=>i(`(?<${n}>${`${a}`.replace(dn,"$1$2")})`);return{toString:()=>a.toString(),and:Object.assign((...n)=>i(`${a}${f(...n)}`),{referenceTo:(n)=>i(`${a}\\k<${n}>`)}),or:(...n)=>i(`(?:${a}|${f(...n)})`),after:(...n)=>i(`(?<=${f(...n)})${a}`),before:(...n)=>i(`${a}(?=${f(...n)})`),notAfter:(...n)=>i(`(?<!${f(...n)})${a}`),notBefore:(...n)=>i(`${a}(?!${f(...n)})`),times:Object.assign((n)=>i(`${I(a)}{${n}}`),{any:()=>i(`${I(a)}*`),atLeast:(n)=>i(`${I(a)}{${n},}`),atMost:(n)=>i(`${I(a)}{0,${n}}`),between:(n,u)=>i(`${I(a)}{${n},${u}}`)}),optionally:()=>i(`${I(a)}?`),as:t,groupedAs:t,grouped:()=>i(`${a}`.replace(bn,"($1$3)$2")),at:{lineStart:()=>i(`^${a}`),lineEnd:()=>i(`${a}\$`)}}},Tn=/[.*+?^${}()|[\]\\/]/g;var x=(a)=>i(`[^${a.replace(/[-\\^\]]/g,"\\$&")}]`),F=(...a)=>i(`(?:${a.map((t)=>f(t)).join("|")})`),B=i("."),hn=i("\\b\\w+\\b"),vn=i("\\w"),xn=i("\\b"),N=i("\\d"),Cn=i("\\s"),A=Object.assign(i("[a-zA-Z]"),{lowercase:i("[a-z]"),uppercase:i("[A-Z]")}),Nn=i("\\t"),In=i("\\n"),yn=i("\\r"),$n={word:i("\\W+"),wordChar:i("\\W"),wordBoundary:i("\\B"),digit:i("\\D"),whitespace:i("\\S"),letter:Object.assign(i("[^a-zA-Z]"),{lowercase:i("[^a-z]"),uppercase:i("[^A-Z]")}),tab:i("[^\\t]"),linefeed:i("[^\\n]"),carriageReturn:i("[^\\r]")};var f=(...a)=>i(a.map((t)=>typeof t==="string"?t.replace(Tn,"\\$&"):t).join("")),T=(...a)=>i(`${I(f(...a))}+`);var v=(...a)=>{const t=a.length>1&&(Array.isArray(a[a.length-1])||a[a.length-1]instanceof Set)?a.pop():void 0;return new RegExp(f(...a).toString(),[...t||""].join(""))};var S=/(?<fx>{[^{]*})|(?<txt>{*[^{]*)/g,U=/^[^\\]+/g,P=T(N).and(f(":")).and(N.times(2)).and(f(":")).and(N.times(2)).and(f(".")).and(N.times(2)),_n=F("Dialogue","Comment").groupedAs("type").and(f(": ")).and(T(N).optionally().groupedAs("layer")).and(f(",")).and(P.optionally().groupedAs("start")).and(f(",")).and(P.optionally().groupedAs("end")).and(f(",")).and(T(x(",").optionally()).groupedAs("style")).and(f(",")).and(T(x(",")).optionally().groupedAs("actor")).and(f(",")).and(T(N).optionally().groupedAs("marginLeft")).and(f(",")).and(T(N).optionally().groupedAs("marginRight")).and(f(",")).and(T(N).optionally().groupedAs("marginVertical")).and(f(",")).and(T(x(",")).optionally().groupedAs("effect")).and(f(",")).and(T(B).optionally().groupedAs("content")),L=v(_n),Wn=f("-").optionally().and(T(N)),l=Wn.and(f(".").and(T(N)).optionally()),kn=f("\\").and("a").and(l),C=A.or(N).times(2),z=f("&H").and(C.groupedAs("color_bgr_blue")).and(C.groupedAs("color_bgr_green")).and(C.groupedAs("color_bgr_red")).and(f("&")),R=f("\\c").and(z),X=f("\\1c").and(f("&H")).and(C.groupedAs("color1_bgr_blue")).and(C.groupedAs("color1_bgr_green")).and(C.groupedAs("color1_bgr_red")).and(f("&")),Y=f("\\2c").and(f("&H")).and(C.groupedAs("color2_bgr_blue")).and(C.groupedAs("color2_bgr_green")).and(C.groupedAs("color2_bgr_red")).and(f("&")),w=f("\\3c").and(f("&H")).and(C.groupedAs("color3_bgr_blue")).and(C.groupedAs("color3_bgr_green")).and(C.groupedAs("color3_bgr_red")).and(f("&")),G=f("\\4c").and(f("&H")).and(C.groupedAs("color4_bgr_blue")).and(C.groupedAs("color4_bgr_green")).and(C.groupedAs("color4_bgr_red")).and(f("&")),q=v(z),Q=v(R),j=v(X),E=v(Y),Z=v(w),D=v(G),Fn=f("\\").and("alpha").and(T(x("\\"))),Bn=f("\\").and("1a").and(T(x("\\"))),An=f("\\").and("2a").and(T(x("\\"))),Kn=f("\\").and("3a").and(T(x("\\"))),Pn=f("\\").and("4a").and(T(x("\\"))),Sn=f("\\").and("k").and(l),Un=f("\\").and("K").and(l),Ln=f("\\").and("kf").and(l),zn=f("\\").and("ko").and(l),Rn=f("\\").and("q").and(l),Xn=f("\\").and("s").and(l),Yn=f("\\").and("u").and(l),wn=f("\\").and("r").and(T(x("\\"))),Gn=f("\\").and("fe").and(l),qn=f("\\").and("fn").and(T(x("\\"))),Qn=f("\\").and("p").and(l),jn=f("\\").and("pbo").and(l),En=f("\\").and("an").and(l),Zn=f("\\").and("b").and(l),Dn=f("\\").and("be").and(l),Jn=f("\\").and("blur").and(l),On=f("\\").and("bord").and(l),Mn=f("\\").and("xbord").and(l),Hn=f("\\").and("ybord").and(l),Vn=f("\\").and("shad").and(l),nt=f("\\").and("xshad").and(l),tt=f("\\").and("yshad").and(l),et=f("\\").and("fax").and(l),at=f("\\").and("fay").and(l),ut=f("\\").and("fscx").and(l),rt=f("\\").and("fscy").and(l),ot=f("\\").and("fsp").and(l),st=f("\\").and("fr").and(l),ft=f("\\").and("frx").and(l),mt=f("\\").and("fry").and(l),gt=f("\\").and("frz").and(l),lt=f("\\").and("i").and(f("1").or("0")),ct=f("\\").and("fs").and(l),J=f("\\").and("pos").and(f("(")).and(l.groupedAs("pos_x")).and(f(",")).and(l.groupedAs("pos_y")).and(f(")")),O=v(J),M=f("\\").and("org").and(f("(")).and(l.groupedAs("org_x")).and(f(",")).and(l.groupedAs("org_y")).and(f(")")),H=v(M),V=f("\\").and("fad").and(f("(")).and(l.groupedAs("in")).and(f(",")).and(l.groupedAs("out")).and(f(")")),nn=v(V),tn=f("\\").and("fade").and(f("(")).and(l.groupedAs("fade_alpha1")).and(f(",")).and(l.groupedAs("fade_alpha2")).and(f(",")).and(l.groupedAs("fade_alpha3")).and(f(",")).and(l.groupedAs("fade_t1")).and(f(",")).and(l.groupedAs("fade_t2")).and(f(",")).and(l.groupedAs("fade_t3")).and(f(",")).and(l.groupedAs("fade_t4")).and(f(")")),en=v(tn),it=f(",").and(l.groupedAs("move_t1")).and(f(",")).and(l.groupedAs("move_t2")).optionally(),an=f("\\").and("move").and(f("(")).and(l.groupedAs("move_x1")).and(f(",")).and(l.groupedAs("move_y1")).and(f(",")).and(l.groupedAs("move_x2")).and(f(",")).and(l.groupedAs("move_y2")).and(it).and(f(")")),un=v(an),rn=f("\\").and("clip").and(f("(")).and(T(x(")")).groupedAs("clip_args")).and(f(")")),on=v(rn),sn=f("\\").and("iclip").and(f("(")).and(T(x(")")).groupedAs("iclip_args")).and(f(")")),fn=v(sn),pt=f("\\").and(T(x("\\"))),mn=Dn.or(Fn).or(Mn).or(Hn).or(nt).or(tt).or(sn).or(an).or(Jn).or(On).or(Vn).or(ut).or(rt).or(tn).or(rn).or(ot).or(J).or(M).or(V).or(jn).or(ft).or(mt).or(gt).or(et).or(at).or(zn).or(Ln).or(st).or(ct).or(Gn).or(qn).or(En).or(X).or(Y).or(w).or(G).or(Bn).or(An).or(Kn).or(Pn).or(R).or(Rn).or(Yn).or(Xn).or(Qn).or(wn).or(lt).or(Zn).or(kn).or(Sn).or(Un).or(pt),dt=f("\\").at.lineStart().and("t").and(f("(")).and(l.groupedAs("arg1").and(f(",")).optionally()).and(l.groupedAs("arg2").and(f(",")).optionally()).and(l.groupedAs("arg3").and(f(",")).optionally()).and(T(mn).groupedAs("tags")).and(f(")")),gn=v(mn),K=v(dt);function y(a,t){const n=a.substring(1),u=a.match(K);if(u&&u.length>0)return bt(a,t,n,u);const e=a.match(U);if(e&&e.length>0){const o=e[0];if(t.push({name:r.text,value:o}),a=a.substring(o.length),a.length>0)y(a,t);return t}const g=a.match(gn);if(!g||g.length==0)return t;if(n.startsWith(r.move)){const o=g[0].match(un)?.groups,s=Number(o?.move_x1??"0"),p=Number(o?.move_y1??"0"),d=Number(o?.move_x2??"0"),b=Number(o?.move_y2??"0"),_=o?.move_t1?Number(o.move_t1):null,W=o?.move_t2?Number(o.move_t2):null,k={name:r.move,x1:s,y1:p,x2:d,y2:b,t1:_,t2:W};t.push(k)}else if(n.startsWith(r.alpha)){const o=g[0].substring(1+r.alpha.length),s={name:r.alpha,value:o};t.push(s)}else if(n.startsWith(r.xbord)){const o=Number(g[0].substring(1+r.xbord.length)),s={name:r.xbord,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.ybord)){const o=Number(g[0].substring(1+r.ybord.length)),s={name:r.ybord,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.xshad)){const o=Number(g[0].substring(1+r.xshad.length)),s={name:r.xshad,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.yshad)){const o=Number(g[0].substring(1+r.yshad.length)),s={name:r.yshad,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.iclip)){const s=g[0].match(fn)?.groups?.iclip_args??"",p={name:r.iclip,drawCommands:s};t.push(p)}else if(n.startsWith(r.blur)){const o=Number(g[0].substring(1+r.blur.length)),s={name:r.blur,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.bord)){const o=Number(g[0].substring(1+r.bord.length)),s={name:r.bord,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.shad)){const o=Number(g[0].substring(1+r.shad.length)),s={name:r.shad,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.fscx)){const o=Number(g[0].substring(1+r.fscx.length)),s={name:r.fscx,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.fscy)){const o=Number(g[0].substring(1+r.fscy.length)),s={name:r.fscy,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.fade)){const o=g[0].match(en)?.groups,s=Number(o?.fade_alpha1??"0"),p=Number(o?.fade_alpha2??"0"),d=Number(o?.fade_alpha3??"0"),b=Number(o?.fade_t1??"0"),_=Number(o?.fade_t2??"0"),W=Number(o?.fade_t3??"0"),k=Number(o?.fade_t4??"0"),cn={name:r.fade,alpha1:s,alpha2:p,alpha3:d,t1:b,t2:_,t3:W,t4:k};t.push(cn)}else if(n.startsWith(r.clip)){const s=g[0].match(on)?.groups?.clip_args??"",p={name:r.clip,drawCommands:s};t.push(p)}else if(n.startsWith(r.fsp)){const o=Number(g[0].substring(1+r.fsp.length)),s={name:r.fsp,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.pos)){const o=g[0].match(O)?.groups,s=Number(o?.pos_x??"0"),p=Number(o?.pos_y??"0"),d={name:r.pos,x:s,y:p};t.push(d)}else if(n.startsWith(r.org)){const o=g[0].match(H)?.groups,s=Number(o?.org_x??"0"),p=Number(o?.org_y??"0"),d={name:r.org,x:s,y:p};t.push(d)}else if(n.startsWith(r.fad)){const o=g[0].match(nn)?.groups,s=Number(o?.in??"0"),p=Number(o?.out??"0"),d={name:r.fad,in:s,out:p};t.push(d)}else if(n.startsWith(r.frx)){const o=Number(g[0].substring(1+r.frx.length)),s={name:r.frx,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.fry)){const o=Number(g[0].substring(1+r.fry.length)),s={name:r.fry,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.frz)){const o=Number(g[0].substring(1+r.frz.length)),s={name:r.frz,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.fax)){const o=Number(g[0].substring(1+r.fax.length)),s={name:r.fax,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.fay)){const o=Number(g[0].substring(1+r.fay.length)),s={name:r.fay,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.pbo)){const o=Number(g[0].substring(1+r.pbo.length)),s={name:r.pbo,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.fe)){const o=Number(g[0].substring(1+r.fe.length)),s={name:r.fe,encodingId:Number(o)};t.push(s)}else if(n.startsWith(r.fn)){const o=g[0].substring(1+r.fn.length),s={name:r.fn,font:o};t.push(s)}else if(n.startsWith(r.an)){const o=Number(g[0].substring(1+r.be.length)),s={name:r.an,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.be)){const o=Number(g[0].substring(1+r.be.length)),s={name:r.be,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.fr)){const o=Number(g[0].substring(1+r.fr.length)),s={name:r.fr,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.fs)){const o=Number(g[0].substring(1+r.fs.length)),s={name:r.fs,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.ko)){const o=Number(g[0].substring(1+r.ko.length)),s={name:r.ko,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.kf)){const o=Number(g[0].substring(1+r.kf.length)),s={name:r.kf,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.color1)){const o=g[0].match(j)?.groups,s=Number(h(o?.color1_bgr_blue??"0")),p=Number(h(o?.color1_bgr_green??"0")),d=Number(h(o?.color1_bgr_red??"0")),b={name:r.color1,blue:s,green:p,red:d};t.push(b)}else if(n.startsWith(r.color2)){const o=g[0].match(E)?.groups,s=Number(h(o?.color2_bgr_blue??"0")),p=Number(h(o?.color2_bgr_green??"0")),d=Number(h(o?.color2_bgr_red??"0")),b={name:r.color2,blue:s,green:p,red:d};t.push(b)}else if(n.startsWith(r.color3)){const o=g[0].match(Z)?.groups,s=Number(h(o?.color3_bgr_blue??"0")),p=Number(h(o?.color3_bgr_green??"0")),d=Number(h(o?.color3_bgr_red??"0")),b={name:r.color3,blue:s,green:p,red:d};t.push(b)}else if(n.startsWith(r.color4)){const o=g[0].match(D)?.groups,s=Number(h(o?.color4_bgr_blue??"0")),p=Number(h(o?.color4_bgr_green??"0")),d=Number(h(o?.color4_bgr_red??"0")),b={name:r.color4,blue:s,green:p,red:d};t.push(b)}else if(n.startsWith(r.alpha1)){const o=g[0].substring(1+r.alpha1.length),s={name:r.alpha1,value:o};t.push(s)}else if(n.startsWith(r.alpha2)){const o=g[0].substring(1+r.alpha2.length),s={name:r.alpha2,value:o};t.push(s)}else if(n.startsWith(r.alpha3)){const o=g[0].substring(1+r.alpha3.length),s={name:r.alpha3,value:o};t.push(s)}else if(n.startsWith(r.alpha4)){const o=g[0].substring(1+r.alpha4.length),s={name:r.alpha4,value:o};t.push(s)}else if(n.startsWith(r.kLowerCase)){const o=Number(g[0].substring(1+r.kLowerCase.length)),s={name:r.kLowerCase,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.kUpperCase)){const o=Number(g[0].substring(1+r.kUpperCase.length)),s={name:r.kUpperCase,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.q)){const o=Number(g[0].substring(1+r.q.length)),s={name:r.q,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.s)){const o=Number(g[0].substring(1+r.s.length)),s={name:r.s,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.u)){const o=Number(g[0].substring(1+r.u.length)),s={name:r.u,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.r)){const o=g[0].substring(1+r.r.length),s={name:r.r,style:o};t.push(s)}else if(n.startsWith(r.p)){const o=Number(g[0].substring(1+r.p.length)),s={name:r.p,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.i)){const o=Number(g[0].substring(1+r.i.length)),s={name:r.i,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.color)){const o=g[0].match(Q)?.groups,s=Number(h(o?.color_bgr_blue??"0")),p=Number(h(o?.color_bgr_green??"0")),d=Number(h(o?.color_bgr_red??"0")),b={name:r.color,blue:s,green:p,red:d};t.push(b)}else if(n.startsWith(r.b)){const o=Number(g[0].substring(1+r.b.length)),s={name:r.b,value:Number.isNaN(o)?0:o};t.push(s)}else if(n.startsWith(r.a)){const o=Number(g[0].substring(1+r.a.length)),s={name:r.a,value:Number.isNaN(o)?0:o};t.push(s)}else{const o=g[0],s={name:r.unknown,value:o};t.push(s)}if(a=a.substring(g[0].length),a.length>0)y(a,t);return t}var bt=function(a,t,n,u){if(n.startsWith(r.t)){const e=u[0].match(K)?.groups,g=e?.tags??"",o=[];y(g,o);const s=e?.arg1?Number(e.arg1):null,p=e?.arg2?Number(e.arg2):null,d=e?.arg3?Number(e.arg3):null,b={name:r.t,accel:null,t1:null,t2:null,tags:o};if(s!==null&&p!==null&&d!==null)b.t1=s,b.t2=p,b.accel=d;else if(s!==null&&p!==null&&d===null)b.t1=s,b.t2=p,b.accel=null;else if(s!==null)b.accel=s;t.push(b)}if(a=a.substring(u[0].length),a.length>0)y(a,t);return t};function Lt(a){const t=[],n=a.matchAll(S);for(let u of n){if(u.groups?.fx){const e=u.groups.fx.substring(1,u.groups.fx.length-1),g=[];y(e,g),t.push({name:"effect",tags:g});continue}if(u.groups?.txt){t.push({name:"text",value:u.groups?.txt});continue}}return t}function ln(a){let t="";for(let n of a.tags)switch(n.name){case r.t:const u={name:"effect",tags:n.tags},e=ln(u);if(n.t1!==null&&n.t2!==null&&n.accel!==null)t+=`\\t(${n.t1},${n.t2},${n.accel},${e})`;else if(n.t1!==null&&n.t2!==null&&n.accel===null)t+=`\\t(${n.t1},${n.t2},${e})`;else if(n.accel!==null)t+=`\\t(${n.accel},${e})`;else t+=`\\t(${e})`;break;case r.pos:case r.org:t+=`\\${n.name}(${n.x},${n.y})`;break;case r.move:if(t+=`\\move(${n.x1},${n.y1},${n.x2},${n.y2}`,n.t1!=null&&n.t2!=null)t+=`,${n.t1},${n.t2}`;t+=")";break;case r.clip:case r.iclip:t+=`\\${n.name}(${n.drawCommands})`;break;case r.fad:t+=`\\fad(${n.in},${n.out})`;break;case r.fade:t+=`\\fade(${n.alpha1},${n.alpha2},${n.alpha3},${n.t1},${n.t2},${n.t3},${n.t4})`;break;case r.fe:t+=`\\fe${n.encodingId}`;break;case r.fn:t+=`\\fn${n.font}`;break;case r.r:t+=`\\r${n.style}`;break;case r.color:case r.color1:case r.color2:case r.color3:case r.color4:const g=$(n.blue),o=$(n.green),s=$(n.red);t+=`\\${n.name}&H${g}${o}${s}&`;break;case r.text:case r.unknown:t+=n.value;break;default:t+=`\\${n.name}${n.value}`;break}return t}function zt(a){let t="";for(let n of a){if(n.name=="text"){t+=n.value;continue}t+="{"+ln(n)+"}"}return t}function Rt(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.a,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Xt(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.b,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Yt(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.color,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function wt(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.color1,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Gt(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.color2,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function qt(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.color3,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Qt(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.color4,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function jt(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.alpha,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Et(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.alpha1,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Zt(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.alpha2,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Dt(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.alpha3,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Jt(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.alpha4,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Ot(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.an,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Mt(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.be,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Ht(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.blur,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Vt(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.bord,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function ne(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.xbord,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function te(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.ybord,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function ee(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.shad,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function ae(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.xshad,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function ue(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.yshad,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function re(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.fr,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function oe(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.frx,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function se(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.fry,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function fe(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.frz,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function me(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.fax,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function ge(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.fay,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function le(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.p,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function ce(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.pbo,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function ie(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.q,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function pe(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.s,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function de(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.u,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function be(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.r,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Te(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.fe,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function he(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.fn,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function ve(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.fscx,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function xe(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.fscy,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Ce(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.fsp,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Ne(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.kLowerCase,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Ie(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.kUpperCase,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function ye(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.ko,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function $e(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.kf,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function _e(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.i,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function We(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.fs,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function ke(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.pos,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Fe(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.org,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Be(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.fad,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Ae(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.fade,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Ke(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.clip,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Pe(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.iclip,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Se(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.move,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Ue(a){const t=a.find((e)=>e.name=="effect");if(t?.name!="effect")return null;const n=r.t,u=t.tags.find((e)=>e.name==n);if(u?.name!=n)return null;return u}function Le(a,t){const n={name:r.a,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function ze(a,t){const n={name:r.an,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function Re(a,t){const n={name:r.b,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function Xe(a,t,n,u){const e={name:r.color,blue:t,green:n,red:u},[g,o]=c(a,e.name,e);if(!g)o.blue=t,o.green=n,o.red=u;return o}function Ye(a,t,n,u){const e={name:r.color1,blue:t,green:n,red:u},[g,o]=c(a,e.name,e);if(!g)o.blue=t,o.green=n,o.red=u;return o}function we(a,t,n,u){const e={name:r.color2,blue:t,green:n,red:u},[g,o]=c(a,e.name,e);if(!g)o.blue=t,o.green=n,o.red=u;return o}function Ge(a,t,n,u){const e={name:r.color3,blue:t,green:n,red:u},[g,o]=c(a,e.name,e);if(!g)o.blue=t,o.green=n,o.red=u;return o}function qe(a,t,n,u){const e={name:r.color4,blue:t,green:n,red:u},[g,o]=c(a,e.name,e);if(!g)o.blue=t,o.green=n,o.red=u;return o}function Qe(a,t){const n={name:r.alpha,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function je(a,t){const n={name:r.alpha1,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function Ee(a,t){const n={name:r.alpha2,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function Ze(a,t){const n={name:r.alpha3,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function De(a,t){const n={name:r.alpha4,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function Je(a,t){const n={name:r.blur,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function Oe(a,t){const n={name:r.bord,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function Me(a,t){const n={name:r.xbord,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function He(a,t){const n={name:r.ybord,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function Ve(a,t){const n={name:r.fax,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function na(a,t){const n={name:r.fay,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function ta(a,t){const n={name:r.fscx,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function ea(a,t){const n={name:r.fscy,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function aa(a,t){const n={name:r.fsp,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function ua(a,t){const n={name:r.fe,encodingId:t},[u,e]=c(a,n.name,n);if(!u)e.encodingId=t;return e}function ra(a,t){const n={name:r.fn,font:t},[u,e]=c(a,n.name,n);if(!u)e.font=t;return e}function oa(a,t){const n={name:r.kLowerCase,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function sa(a,t){const n={name:r.kUpperCase,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function fa(a,t){const n={name:r.kf,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function ma(a,t){const n={name:r.ko,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function ga(a,t){const n={name:r.p,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function la(a,t){const n={name:r.pbo,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function ca(a,t){const n={name:r.q,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function ia(a,t){const n={name:r.s,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function pa(a,t){const n={name:r.shad,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function da(a,t){const n={name:r.xshad,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function ba(a,t){const n={name:r.yshad,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function Ta(a,t){const n={name:r.u,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function ha(a,t){const n={name:r.be,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function va(a,t){const n={name:r.fs,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function xa(a,t){const n={name:r.fr,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function Ca(a,t){const n={name:r.frx,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function Na(a,t){const n={name:r.fry,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function Ia(a,t){const n={name:r.frz,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function ya(a,t){const n={name:r.i,value:t},[u,e]=c(a,n.name,n);if(!u)e.value=t;return e}function $a(a,t){const n={name:r.r,style:t},[u,e]=c(a,n.name,n);if(!u)e.style=t;return e}function _a(a,t,n){const u={name:r.pos,x:t,y:n},[e,g]=c(a,u.name,u);if(!e)g.x=t,g.y=n;return g}function Wa(a,t,n){const u={name:r.org,x:t,y:n},[e,g]=c(a,u.name,u);if(!e)g.x=t,g.y=n;return g}function ka(a,t,n){const u={name:r.fad,in:t,out:n},[e,g]=c(a,u.name,u);if(!e)g.in=t,g.out=n;return g}function Fa(a,t,n,u,e,g,o,s){const p={name:r.fade,alpha1:t,alpha2:n,alpha3:u,t1:e,t2:g,t3:o,t4:s},[d,b]=c(a,p.name,p);if(!d)b.alpha1=t,b.alpha2=n,b.alpha3=u,b.t1=e,b.t2=g,b.t3=o,b.t4=s;return b}function Ba(a,t){const n={name:r.clip,drawCommands:t},[u,e]=c(a,n.name,n);if(!u)e.drawCommands=t;return e}function Aa(a,t){const n={name:r.iclip,drawCommands:t},[u,e]=c(a,n.name,n);if(!u)e.drawCommands=t;return e}function Ka(a,t,n,u,e,g=null,o=null){const s={name:r.move,x1:t,y1:n,x2:u,y2:e,t1:g,t2:o},[p,d]=c(a,s.name,s);if(!p)d.x1=t,d.y1=n,d.x2=u,d.y2=e,d.t1=g,d.t2=o;return d}function Pa(a,t,n=null,u=null,e=null){const g={name:r.t,t1:u,t2:e,accel:n,tags:t},[o,s]=c(a,g.name,g);if(!o)s.t1=u,s.t2=e,s.accel=n,s.tags=t;return s}function Sa(a){return[{name:"effect",tags:a}]}function Ua(a){const t=a.find((n)=>n.name==="effect");if(t==null||t.name!="effect")return[];return t.tags}var c=function(a,t,n){const u=a.find((g)=>g.name=="effect");if(u?.name!="effect")return a.unshift({name:"effect",tags:[n]}),[!0,n];const e=u.tags.find((g)=>g.name==t);if(e?.name!=t)return u.tags.push(n),[!0,n];return[!1,e]};function La(a,t){const n=a.find((e)=>e.name=="effect");if(n?.name!="effect")return;const u=n.tags.findIndex((e)=>e.name===t);if(u<0)return;n.tags.splice(u,1)}function za(a){const t=a.match(L);if(t==null)return null;const n=t.groups;return{type:n?.type??"",layer:Number(n?.layer??"0"),start:n?.start??"",end:n?.end??"",style:n?.style??"",actor:n?.actor??"",marginLeft:Number(n?.marginLeft??"0"),marginRight:Number(n?.marginRight??"0"),marginVertical:Number(n?.marginVertical??"0"),effect:n?.effect??"",content:n?.content??""}}function Ra(a){let t=a.type;return t+=": ",t+=a.layer,t+=",",t+=a.start,t+=",",t+=a.end,t+=",",t+=a.style,t+=",",t+=a.actor,t+=",",t+=a.marginLeft,t+=",",t+=a.marginRight,t+=",",t+=a.marginVertical,t+=",",t+=a.effect,t+=",",t+=a.content,t}function Xa(a){const t=a.match(q);if(t==null)return null;const n=t.groups;return{blue:h(n?.color_bgr_blue??""),green:h(n?.color_bgr_green??""),red:h(n?.color_bgr_red??"")}}var r;(function(m){m["a"]="a";m["alpha"]="alpha";m["alpha1"]="1a";m["alpha2"]="2a";m["alpha3"]="3a";m["alpha4"]="4a";m["an"]="an";m["b"]="b";m["be"]="be";m["blur"]="blur";m["bord"]="bord";m["clip"]="clip";m["color"]="c";m["color1"]="1c";m["color2"]="2c";m["color3"]="3c";m["color4"]="4c";m["fad"]="fad";m["fade"]="fade";m["fax"]="fax";m["fay"]="fay";m["fe"]="fe";m["fn"]="fn";m["fr"]="fr";m["frx"]="frx";m["fry"]="fry";m["frz"]="frz";m["fs"]="fs";m["fscx"]="fscx";m["fscy"]="fscy";m["fsp"]="fsp";m["i"]="i";m["iclip"]="iclip";m["kLowerCase"]="k";m["kUpperCase"]="K";m["kf"]="kf";m["ko"]="ko";m["move"]="move";m["org"]="org";m["p"]="p";m["pbo"]="pbo";m["pos"]="pos";m["q"]="q";m["r"]="r";m["s"]="s";m["shad"]="shad";m["t"]="t";m["text"]="text";m["u"]="u";m["unknown"]="unknown";m["xbord"]="xbord";m["xshad"]="xshad";m["ybord"]="ybord";m["yshad"]="yshad"})(r||(r={}));export{Sa as tagsToItems,ba as setYshad,He as setYbord,da as setXshad,Me as setXbord,Ta as setU,Pa as setT,pa as setShad,ia as setS,$a as setR,ca as setQ,_a as setPos,la as setPbo,ga as setP,Wa as setOrg,Ka as setMove,ma as setKo,fa as setKf,sa as setKUpperCase,oa as setKLowerCase,Aa as setIclip,ya as setI,aa as setFsp,ea as setFscy,ta as setFscx,va as setFs,Ia as setFrz,Na as setFry,Ca as setFrx,xa as setFr,ra as setFn,ua as setFe,na as setFay,Ve as setFax,Fa as setFade,ka as setFad,qe as setColor4,Ge as setColor3,we as setColor2,Ye as setColor1,Xe as setColor,Ba as setClip,Oe as setBord,Je as setBlur,ha as setBe,Re as setB,ze as setAn,De as setAlpha4,Ze as setAlpha3,Ee as setAlpha2,je as setAlpha1,Qe as setAlpha,Le as setA,La as removeTag,y as parseTags,za as parseLine,Lt as parseContent,Xa as parseColorBGR,$ as numberToHex,Ra as lineToString,Ua as itemsToTags,Tt as interpolate,h as hexToNumber,ue as findYshad,te as findYbord,ae as findXshad,ne as findXbord,de as findU,Ue as findT,ee as findShad,pe as findS,be as findR,ie as findQ,ke as findPos,ce as findPbo,le as findP,Fe as findOrg,Se as findMove,ye as findKo,$e as findKf,Ie as findKUpperCase,Ne as findKLowerCase,Pe as findIclip,_e as findI,Ce as findFsp,xe as findFscy,ve as findFscx,We as findFs,fe as findFrz,se as findFry,oe as findFrx,re as findFr,he as findFn,Te as findFe,ge as findFay,me as findFax,Ae as findFade,Be as findFad,Qt as findColor4,qt as findColor3,Gt as findColor2,wt as findColor1,Yt as findColor,Ke as findClip,Vt as findBord,Ht as findBlur,Mt as findBe,Xt as findB,Ot as findAn,Jt as findAlpha4,Dt as findAlpha3,Zt as findAlpha2,Et as findAlpha1,jt as findAlpha,Rt as findA,zt as contentsToString,ln as contentEffectToString,r as TagName};

//# debugId=8D4DF95EBC4E8BCD64756e2164756e21
