function C(n){return parseInt(n,16)}function Ln(n){return Math.floor(n).toString(16).padStart(2,"0").toUpperCase()}function Ml(n,f,t){const r=n>f;let g=f,l=n;if(r)g=n,l=f;const m=(g-l)/t;let c=l;const v=[l];for(let b=1;b<t;b++)c+=m,v.push(c);if(v[t-1]=g,r)v.reverse();return v}function zl(n,f){f=Math.floor(f);const t=`(-?\\d+.?\\d{1,${f}})`,r=new RegExp(t),g=n.toString().match(r);if(!g||g.length===0)return n;return Number(g[0])}var ig=/^(\(.*\)|\\?.)$/,fn=(n)=>{const f=n.toString();return ig.test(f)?f:`(?:${f})`},pg=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,yg=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/,B=(n)=>{const f=(t)=>B(`(?<${t}>${`${n}`.replace(pg,"$1$2")})`);return{toString:()=>n.toString(),and:Object.assign((...t)=>B(`${n}${a(...t)}`),{referenceTo:(t)=>B(`${n}\\k<${t}>`)}),or:(...t)=>B(`(?:${n}|${a(...t)})`),after:(...t)=>B(`(?<=${a(...t)})${n}`),before:(...t)=>B(`${n}(?=${a(...t)})`),notAfter:(...t)=>B(`(?<!${a(...t)})${n}`),notBefore:(...t)=>B(`${n}(?!${a(...t)})`),times:Object.assign((t)=>B(`${fn(n)}{${t}}`),{any:()=>B(`${fn(n)}*`),atLeast:(t)=>B(`${fn(n)}{${t},}`),atMost:(t)=>B(`${fn(n)}{0,${t}}`),between:(t,r)=>B(`${fn(n)}{${t},${r}}`)}),optionally:()=>B(`${fn(n)}?`),as:f,groupedAs:f,grouped:()=>B(`${n}`.replace(yg,"($1$3)$2")),at:{lineStart:()=>B(`^${n}`),lineEnd:()=>B(`${n}\$`)}}},sg=/[.*+?^${}()|[\]\\/]/g;var L=(n)=>B(`[^${n.replace(/[-\\^\]]/g,"\\$&")}]`),kn=(...n)=>B(`(?:${n.map((f)=>a(f)).join("|")})`),Pn=B("."),Zg=B("\\b\\w+\\b"),dg=B("\\w"),nr=B("\\b"),O=B("\\d"),fr=B("\\s"),pn=Object.assign(B("[a-zA-Z]"),{lowercase:B("[a-z]"),uppercase:B("[A-Z]")}),tr=B("\\t"),gr=B("\\n"),rr=B("\\r"),lr={word:B("\\W+"),wordChar:B("\\W"),wordBoundary:B("\\B"),digit:B("\\D"),whitespace:B("\\S"),letter:Object.assign(B("[^a-zA-Z]"),{lowercase:B("[^a-z]"),uppercase:B("[^A-Z]")}),tab:B("[^\\t]"),linefeed:B("[^\\n]"),carriageReturn:B("[^\\r]")};var a=(...n)=>B(n.map((f)=>typeof f==="string"?f.replace(sg,"\\$&"):f).join("")),M=(...n)=>B(`${fn(a(...n))}+`);var _=(...n)=>{const f=n.length>1&&(Array.isArray(n[n.length-1])||n[n.length-1]instanceof Set)?n.pop():void 0;return new RegExp(a(...n).toString(),[...f||""].join(""))};var uf=/(?<fx>{[^{]*})|(?<txt>{*[^{]*)/g,bf=/^[^\\]+/g,yn=/(?<sil>(?:sha|shi|shu|she|sho|cha|chi|chu|che|cho|tsu|kya|kyi|kyu|kye|kyo|gya|gyi|gyu|gye|gyo|sya|syu|syi|sye|syo|zya|zyu|zyi|zye|zyo|jya|jyu|jyi|jye|jyo|tya|tyi|tyu|tye|tyo|dya|dyi|dyu|dye|dyo|nya|nyi|nyu|nye|nyo|hya|hyi|hyu|hye|hyo|fya|fyi|fyu|fye|fyo|bya|byi|byu|bye|byo|pya|pyi|pyu|pye|pyo|mya|myi|myu|mye|myo|rya|ryi|ryu|rye|ryo|vya|vyi|vyu|vye|vyo|ka|ki|ku|ke|ko|ga|gi|gu|ge|go|sa|su|si|se|so|za|zu|zi|ze|zo|ja|ju|ji|je|jo|ta|ti|tu|te|to|da|di|du|de|do|na|ni|nu|ne|no|ha|hi|hu|he|ho|fa|fi|fu|fe|fo|ba|bi|bu|be|bo|pa|pi|pu|pe|po|ma|mi|mu|me|mo|ya|yi|yu|ye|yo|ra|ri|ru|re|ro|wa|wo|va|vi|vu|ve|vo|a|i|u|e|o|n|t)[^a-zA-Z\d\s:]*\s?)/g,mf=M(O).and(a(":")).and(O.times(2)).and(a(":")).and(O.times(2)).and(a(".")).and(O.times(2)),mr=kn("Dialogue","Comment").groupedAs("type").and(a(": ")).and(M(O).optionally().groupedAs("layer")).and(a(",")).and(mf.optionally().groupedAs("start")).and(a(",")).and(mf.optionally().groupedAs("end")).and(a(",")).and(M(L(",").optionally()).groupedAs("style")).and(a(",")).and(M(L(",")).optionally().groupedAs("actor")).and(a(",")).and(M(O).optionally().groupedAs("marginLeft")).and(a(",")).and(M(O).optionally().groupedAs("marginRight")).and(a(",")).and(M(O).optionally().groupedAs("marginVertical")).and(a(",")).and(M(L(",")).optionally().groupedAs("effect")).and(a(",")).and(M(Pn).optionally().groupedAs("content")),of=_(mr),ur=a("-").optionally().and(M(O)),T=ur.and(a(".").and(M(O)).optionally()),af=a("\\").and("a").and(T.groupedAs("a_value")),cf=_(af),j=pn.or(O).times(2),Sf=a("&H").and(j.groupedAs("color_bgr_blue")).and(j.groupedAs("color_bgr_green")).and(j.groupedAs("color_bgr_red")).and(a("&")),$f=a("\\c").and(Sf),vf=a("\\1c").and(a("&H")).and(j.groupedAs("color1_bgr_blue")).and(j.groupedAs("color1_bgr_green")).and(j.groupedAs("color1_bgr_red")).and(a("&")),ef=a("\\2c").and(a("&H")).and(j.groupedAs("color2_bgr_blue")).and(j.groupedAs("color2_bgr_green")).and(j.groupedAs("color2_bgr_red")).and(a("&")),Gf=a("\\3c").and(a("&H")).and(j.groupedAs("color3_bgr_blue")).and(j.groupedAs("color3_bgr_green")).and(j.groupedAs("color3_bgr_red")).and(a("&")),hf=a("\\4c").and(a("&H")).and(j.groupedAs("color4_bgr_blue")).and(j.groupedAs("color4_bgr_green")).and(j.groupedAs("color4_bgr_red")).and(a("&")),Nf=_(Sf),_f=_($f),Tf=_(vf),Xf=_(ef),Yf=_(Gf),Wf=_(hf),Bf=a("\\").and("alpha").and(M(L("\\")).groupedAs("alpha_value")),Qf=_(Bf),qf=a("\\").and("1a").and(M(L("\\")).groupedAs("alpha1_value")),Af=_(qf),Hf=a("\\").and("2a").and(M(L("\\")).groupedAs("alpha2_value")),Jf=_(Hf),wf=a("\\").and("3a").and(M(L("\\")).groupedAs("alpha3_value")),Mf=_(wf),zf=a("\\").and("4a").and(M(L("\\")).groupedAs("alpha4_value")),Cf=_(zf),Ff=a("\\").and("k").and(T.groupedAs("k_lower_case_value")),Lf=_(Ff),jf=a("\\").and("K").and(T.groupedAs("k_upper_case_value")),Rf=_(jf),Of=a("\\").and("kf").and(T.groupedAs("kf_value")),Uf=_(Of),Df=a("\\").and("ko").and(T.groupedAs("ko_value")),Vf=_(Df),Kf=a("\\").and("q").and(T.groupedAs("q_value")),Ef=_(Kf),xf=a("\\").and("s").and(T.groupedAs("s_value")),If=_(xf),kf=a("\\").and("u").and(T.groupedAs("u_value")),Pf=_(kf),pf=a("\\").and("r").and(M(L("\\")).groupedAs("r_value")),yf=_(pf),sf=a("\\").and("fe").and(T.groupedAs("fe_value")),Zf=_(sf),df=a("\\").and("fn").and(M(L("\\")).groupedAs("fn_value")),nt=_(df),ft=a("\\").and("p").and(T.groupedAs("p_value")),tt=_(ft),gt=a("\\").and("pbo").and(T.groupedAs("pbo_value")),rt=_(gt),lt=a("\\").and("an").and(T.groupedAs("an_value")),mt=_(lt),ut=a("\\").and("b").and(T.groupedAs("b_value")),bt=_(ut),ot=a("\\").and("be").and(T.groupedAs("be_value")),at=_(ot),ct=a("\\").and("blur").and(T.groupedAs("blur_value")),St=_(ct),$t=a("\\").and("bord").and(T.groupedAs("bord_value")),vt=_($t),et=a("\\").and("xbord").and(T.groupedAs("xbord_value")),Gt=_(et),ht=a("\\").and("ybord").and(T.groupedAs("ybord_value")),Nt=_(ht),_t=a("\\").and("shad").and(T.groupedAs("shad_value")),Tt=_(_t),Xt=a("\\").and("xshad").and(T.groupedAs("xshad_value")),Yt=_(Xt),Wt=a("\\").and("yshad").and(T.groupedAs("yshad_value")),Bt=_(Wt),Qt=a("\\").and("fax").and(T.groupedAs("fax_value")),qt=_(Qt),At=a("\\").and("fay").and(T.groupedAs("fay_value")),Ht=_(At),Jt=a("\\").and("fscx").and(T.groupedAs("fscx_value")),wt=_(Jt),Mt=a("\\").and("fscy").and(T.groupedAs("fscy_value")),zt=_(Mt),Ct=a("\\").and("fsp").and(T.groupedAs("fsp_value")),Ft=_(Ct),Lt=a("\\").and("fr").and(T.groupedAs("fr_value")),jt=_(Lt),Rt=a("\\").and("frx").and(T.groupedAs("frx_value")),Ot=_(Rt),Ut=a("\\").and("fry").and(T.groupedAs("fry_value")),Dt=_(Ut),Vt=a("\\").and("frz").and(T.groupedAs("frz_value")),Kt=_(Vt),Et=a("\\").and("i").and(a("1").or("0").groupedAs("i_value")),xt=_(Et),It=a("\\").and("fs").and(T.groupedAs("fs_value")),kt=_(It),Pt=a("\\").and("pos").and(a("(")).and(T.groupedAs("pos_x")).and(a(",")).and(T.groupedAs("pos_y")).and(a(")")),it=_(Pt),pt=a("\\").and("org").and(a("(")).and(T.groupedAs("org_x")).and(a(",")).and(T.groupedAs("org_y")).and(a(")")),yt=_(pt),st=a("\\").and("fad").and(a("(")).and(T.groupedAs("in")).and(a(",")).and(T.groupedAs("out")).and(a(")")),Zt=_(st),dt=a("\\").and("fade").and(a("(")).and(T.groupedAs("fade_alpha1")).and(a(",")).and(T.groupedAs("fade_alpha2")).and(a(",")).and(T.groupedAs("fade_alpha3")).and(a(",")).and(T.groupedAs("fade_t1")).and(a(",")).and(T.groupedAs("fade_t2")).and(a(",")).and(T.groupedAs("fade_t3")).and(a(",")).and(T.groupedAs("fade_t4")).and(a(")")),ng=_(dt),br=a(",").and(T.groupedAs("move_t1")).and(a(",")).and(T.groupedAs("move_t2")).optionally(),fg=a("\\").and("move").and(a("(")).and(T.groupedAs("move_x1")).and(a(",")).and(T.groupedAs("move_y1")).and(a(",")).and(T.groupedAs("move_x2")).and(a(",")).and(T.groupedAs("move_y2")).and(br).and(a(")")),tg=_(fg),gg=a("\\").and("clip").and(a("(")).and(M(L(")")).groupedAs("clip_args")).and(a(")")),rg=_(gg),lg=a("\\").and("iclip").and(a("(")).and(M(L(")")).groupedAs("iclip_args")).and(a(")")),mg=_(lg),or=a("\\").and(M(L("\\")).groupedAs("unknown_value")),ug=ot.or(Bf).or(et).or(ht).or(Xt).or(Wt).or(lg).or(fg).or(ct).or($t).or(_t).or(Jt).or(Mt).or(dt).or(gg).or(Ct).or(Pt).or(pt).or(st).or(gt).or(Rt).or(Ut).or(Vt).or(Qt).or(At).or(Df).or(Of).or(Lt).or(It).or(sf).or(df).or(lt).or(vf).or(ef).or(Gf).or(hf).or(qf).or(Hf).or(wf).or(zf).or($f).or(Kf).or(kf).or(xf).or(ft).or(pf).or(Et).or(ut).or(af).or(Ff).or(jf).or(or),ar=a("\\").at.lineStart().and("t").and(a("(")).and(T.groupedAs("arg1").and(a(",")).optionally()).and(T.groupedAs("arg2").and(a(",")).optionally()).and(T.groupedAs("arg3").and(a(",")).optionally()).and(M(ug).groupedAs("tags")).and(a(")")),bg=_(ug),sn=_(ar);function og(n){const f=Math.floor(n/3600),t=Math.floor((n/3600-f)*60);return n=n-f*3600-t*60,{hours:f,minutes:t,seconds:n}}function Zn(n){const f=/(?<h>\d+):(?<m>[0-9]{1,2}?):(?<s>[0-9]{1,2}(?:\.[0-9]{1,2})?)/,t=n.match(f);if(!t||t.length===0)return null;const r=Math.floor(Number(t.groups?.h??"0")),g=Math.floor(Number(t.groups?.m??"0")),l=Number(t.groups?.s??"0"),u={hours:r,minutes:g,seconds:l};return dn(u),u}function dn(n){if(n.seconds>=60)n.seconds-=60,n.minutes++;if(n.minutes>=60)n.minutes-=60,n.hours++;if(n.hours>=9)n.hours=9,n.minutes=59,n.seconds=59.99}function nf(n){dn(n);const f=n.hours.toFixed(0),t=n.minutes.toFixed(0).padStart("00".length,"0"),r=n.seconds.toFixed(2).padStart("00.00".length,"0");return`${f}:${t}:${r}`}function tn(n){return dn(n),n.hours*3600+n.minutes*60+n.seconds}function il(n,f){const t=tn(n),r=tn(f),g=t+r;return og(g)}function pl(n,f){const t=tn(n),r=tn(f),g=t-r;return og(g)}var $r=function(n){Sg=n},jn=function(){return Sg},G=function(n,f){const t=jn(),r=Rn({issueData:f,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===an?void 0:an].filter((g)=>!!g)});n.common.issues.push(r)},On=function(n,f,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof f==="function"?n!==f||!r:!f.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:f.get(n)},$g=function(n,f,t,r,g){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!g)throw new TypeError("Private accessor was defined without a setter");if(typeof f==="function"?n!==f||!g:!f.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?g.call(n,t):g?g.value=t:f.set(n,t),t},Q=function(n){if(!n)return{};const{errorMap:f,invalid_type_error:t,required_error:r,description:g}=n;if(f&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(f)return{errorMap:f,description:g};return{errorMap:(u,m)=>{var c,v;const{message:b}=n;if(u.code==="invalid_enum_value")return{message:b!==null&&b!==void 0?b:m.defaultError};if(typeof m.data==="undefined")return{message:(c=b!==null&&b!==void 0?b:r)!==null&&c!==void 0?c:m.defaultError};if(u.code!=="invalid_type")return{message:m.defaultError};return{message:(v=b!==null&&b!==void 0?b:t)!==null&&v!==void 0?v:m.defaultError}},description:g}},eg=function(n){let f="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";if(n.precision)f=`${f}\\.\\d{${n.precision}}`;else if(n.precision==null)f=`${f}(\\.\\d+)?`;return f},Ar=function(n){return new RegExp(`^${eg(n)}\$`)},Gg=function(n){let f=`${vg}T${eg(n)}`;const t=[];if(t.push(n.local?"Z?":"Z"),n.offset)t.push("([+-]\\d{2}:?\\d{2})");return f=`${f}(${t.join("|")})`,new RegExp(`^${f}\$`)},Hr=function(n,f){if((f==="v4"||!f)&&Wr.test(n))return!0;if((f==="v6"||!f)&&Br.test(n))return!0;return!1},Jr=function(n,f){const t=(n.toString().split(".")[1]||"").length,r=(f.toString().split(".")[1]||"").length,g=t>r?t:r,l=parseInt(n.toFixed(g).replace(".","")),u=parseInt(f.toFixed(g).replace(".",""));return l%u/Math.pow(10,g)},un=function(n){if(n instanceof z){const f={};for(let t in n.shape){const r=n.shape[t];f[t]=E.create(un(r))}return new z({...n._def,shape:()=>f})}else if(n instanceof K)return new K({...n._def,type:un(n.element)});else if(n instanceof E)return E.create(un(n.unwrap()));else if(n instanceof p)return p.create(un(n.unwrap()));else if(n instanceof P)return P.create(n.items.map((f)=>un(f)));else return n},lf=function(n,f){const t=y(n),r=y(f);if(n===f)return{valid:!0,data:n};else if(t===h.object&&r===h.object){const g=H.objectKeys(f),l=H.objectKeys(n).filter((m)=>g.indexOf(m)!==-1),u={...n,...f};for(let m of l){const c=lf(n[m],f[m]);if(!c.valid)return{valid:!1};u[m]=c.data}return{valid:!0,data:u}}else if(t===h.array&&r===h.array){if(n.length!==f.length)return{valid:!1};const g=[];for(let l=0;l<n.length;l++){const u=n[l],m=f[l],c=lf(u,m);if(!c.valid)return{valid:!1};g.push(c.data)}return{valid:!0,data:g}}else if(t===h.date&&r===h.date&&+n===+f)return{valid:!0,data:n};else return{valid:!1}},hg=function(n,f){return new nn({values:n,typeName:Y.ZodEnum,...Q(f)})},Ng=function(n,f={},t){if(n)return rn.create().superRefine((r,g)=>{var l,u;if(!n(r)){const m=typeof f==="function"?f(r):typeof f==="string"?{message:f}:f,c=(u=(l=m.fatal)!==null&&l!==void 0?l:t)!==null&&u!==void 0?u:!0,v=typeof m==="string"?{message:m}:m;g.addIssue({code:"custom",...v,fatal:c})}});return rn.create()},H;(function(n){n.assertEqual=(g)=>g;function f(g){}n.assertIs=f;function t(g){throw new Error}n.assertNever=t,n.arrayToEnum=(g)=>{const l={};for(let u of g)l[u]=u;return l},n.getValidEnumValues=(g)=>{const l=n.objectKeys(g).filter((m)=>typeof g[g[m]]!=="number"),u={};for(let m of l)u[m]=g[m];return n.objectValues(u)},n.objectValues=(g)=>{return n.objectKeys(g).map(function(l){return g[l]})},n.objectKeys=typeof Object.keys==="function"?(g)=>Object.keys(g):(g)=>{const l=[];for(let u in g)if(Object.prototype.hasOwnProperty.call(g,u))l.push(u);return l},n.find=(g,l)=>{for(let u of g)if(l(u))return u;return},n.isInteger=typeof Number.isInteger==="function"?(g)=>Number.isInteger(g):(g)=>typeof g==="number"&&isFinite(g)&&Math.floor(g)===g;function r(g,l=" | "){return g.map((u)=>typeof u==="string"?`'${u}'`:u).join(l)}n.joinValues=r,n.jsonStringifyReplacer=(g,l)=>{if(typeof l==="bigint")return l.toString();return l}})(H||(H={}));var tf;(function(n){n.mergeShapes=(f,t)=>{return{...f,...t}}})(tf||(tf={}));var h=H.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),y=(n)=>{switch(typeof n){case"undefined":return h.undefined;case"string":return h.string;case"number":return isNaN(n)?h.nan:h.number;case"boolean":return h.boolean;case"function":return h.function;case"bigint":return h.bigint;case"symbol":return h.symbol;case"object":if(Array.isArray(n))return h.array;if(n===null)return h.null;if(n.then&&typeof n.then==="function"&&n.catch&&typeof n.catch==="function")return h.promise;if(typeof Map!=="undefined"&&n instanceof Map)return h.map;if(typeof Set!=="undefined"&&n instanceof Set)return h.set;if(typeof Date!=="undefined"&&n instanceof Date)return h.date;return h.object;default:return h.unknown}},e=H.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Sr=(n)=>{return JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:")};class U extends Error{constructor(n){super();this.issues=[],this.addIssue=(t)=>{this.issues=[...this.issues,t]},this.addIssues=(t=[])=>{this.issues=[...this.issues,...t]};const f=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,f);else this.__proto__=f;this.name="ZodError",this.issues=n}get errors(){return this.issues}format(n){const f=n||function(g){return g.message},t={_errors:[]},r=(g)=>{for(let l of g.issues)if(l.code==="invalid_union")l.unionErrors.map(r);else if(l.code==="invalid_return_type")r(l.returnTypeError);else if(l.code==="invalid_arguments")r(l.argumentsError);else if(l.path.length===0)t._errors.push(f(l));else{let u=t,m=0;while(m<l.path.length){const c=l.path[m];if(m!==l.path.length-1)u[c]=u[c]||{_errors:[]};else u[c]=u[c]||{_errors:[]},u[c]._errors.push(f(l));u=u[c],m++}}};return r(this),t}static assert(n){if(!(n instanceof U))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,H.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=(f)=>f.message){const f={},t=[];for(let r of this.issues)if(r.path.length>0)f[r.path[0]]=f[r.path[0]]||[],f[r.path[0]].push(n(r));else t.push(n(r));return{formErrors:t,fieldErrors:f}}get formErrors(){return this.flatten()}}U.create=(n)=>{return new U(n)};var an=(n,f)=>{let t;switch(n.code){case e.invalid_type:if(n.received===h.undefined)t="Required";else t=`Expected ${n.expected}, received ${n.received}`;break;case e.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,H.jsonStringifyReplacer)}`;break;case e.unrecognized_keys:t=`Unrecognized key(s) in object: ${H.joinValues(n.keys,", ")}`;break;case e.invalid_union:t="Invalid input";break;case e.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${H.joinValues(n.options)}`;break;case e.invalid_enum_value:t=`Invalid enum value. Expected ${H.joinValues(n.options)}, received '${n.received}'`;break;case e.invalid_arguments:t="Invalid function arguments";break;case e.invalid_return_type:t="Invalid function return type";break;case e.invalid_date:t="Invalid date";break;case e.invalid_string:if(typeof n.validation==="object")if("includes"in n.validation){if(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position==="number")t=`${t} at one or more positions greater than or equal to ${n.validation.position}`}else if("startsWith"in n.validation)t=`Invalid input: must start with "${n.validation.startsWith}"`;else if("endsWith"in n.validation)t=`Invalid input: must end with "${n.validation.endsWith}"`;else H.assertNever(n.validation);else if(n.validation!=="regex")t=`Invalid ${n.validation}`;else t="Invalid";break;case e.too_small:if(n.type==="array")t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`;else if(n.type==="string")t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`;else if(n.type==="number")t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`;else if(n.type==="date")t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`;else t="Invalid input";break;case e.too_big:if(n.type==="array")t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`;else if(n.type==="string")t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`;else if(n.type==="number")t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`;else if(n.type==="bigint")t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`;else if(n.type==="date")t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`;else t="Invalid input";break;case e.custom:t="Invalid input";break;case e.invalid_intersection_types:t="Intersection results could not be merged";break;case e.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case e.not_finite:t="Number must be finite";break;default:t=f.defaultError,H.assertNever(n)}return{message:t}},Sg=an,Rn=(n)=>{const{data:f,path:t,errorMaps:r,issueData:g}=n,l=[...t,...g.path||[]],u={...g,path:l};if(g.message!==void 0)return{...g,path:l,message:g.message};let m="";const c=r.filter((v)=>!!v).slice().reverse();for(let v of c)m=v(u,{data:f,defaultError:m}).message;return{...g,path:l,message:m}},vr=[];class F{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(n,f){const t=[];for(let r of f){if(r.status==="aborted")return W;if(r.status==="dirty")n.dirty();t.push(r.value)}return{status:n.value,value:t}}static async mergeObjectAsync(n,f){const t=[];for(let r of f){const g=await r.key,l=await r.value;t.push({key:g,value:l})}return F.mergeObjectSync(n,t)}static mergeObjectSync(n,f){const t={};for(let r of f){const{key:g,value:l}=r;if(g.status==="aborted")return W;if(l.status==="aborted")return W;if(g.status==="dirty")n.dirty();if(l.status==="dirty")n.dirty();if(g.value!=="__proto__"&&(typeof l.value!=="undefined"||r.alwaysSet))t[g.value]=l.value}return{status:n.value,value:t}}}var W=Object.freeze({status:"aborted"}),bn=(n)=>({status:"dirty",value:n}),R=(n)=>({status:"valid",value:n}),gf=(n)=>n.status==="aborted",rf=(n)=>n.status==="dirty",Bn=(n)=>n.status==="valid",Qn=(n)=>typeof Promise!=="undefined"&&n instanceof Promise;var N;(function(n){n.errToObj=(f)=>typeof f==="string"?{message:f}:f||{},n.toString=(f)=>typeof f==="string"?f:f===null||f===void 0?void 0:f.message})(N||(N={}));var Yn,Wn;class x{constructor(n,f,t,r){this._cachedPath=[],this.parent=n,this.data=f,this._path=t,this._key=r}get path(){if(!this._cachedPath.length)if(this._key instanceof Array)this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var ag=(n,f)=>{if(Bn(f))return{success:!0,data:f.value};else{if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new U(n.common.issues);return this._error=t,this._error}}}};class q{constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(n){return y(n.data)}_getOrReturnCtx(n,f){return f||{common:n.parent.common,data:n.data,parsedType:y(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new F,ctx:{common:n.parent.common,data:n.data,parsedType:y(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){const f=this._parse(n);if(Qn(f))throw new Error("Synchronous parse encountered promise.");return f}_parseAsync(n){const f=this._parse(n);return Promise.resolve(f)}parse(n,f){const t=this.safeParse(n,f);if(t.success)return t.data;throw t.error}safeParse(n,f){var t;const r={common:{issues:[],async:(t=f===null||f===void 0?void 0:f.async)!==null&&t!==void 0?t:!1,contextualErrorMap:f===null||f===void 0?void 0:f.errorMap},path:(f===null||f===void 0?void 0:f.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:y(n)},g=this._parseSync({data:n,path:r.path,parent:r});return ag(r,g)}async parseAsync(n,f){const t=await this.safeParseAsync(n,f);if(t.success)return t.data;throw t.error}async safeParseAsync(n,f){const t={common:{issues:[],contextualErrorMap:f===null||f===void 0?void 0:f.errorMap,async:!0},path:(f===null||f===void 0?void 0:f.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:y(n)},r=this._parse({data:n,path:t.path,parent:t}),g=await(Qn(r)?r:Promise.resolve(r));return ag(t,g)}refine(n,f){const t=(r)=>{if(typeof f==="string"||typeof f==="undefined")return{message:f};else if(typeof f==="function")return f(r);else return f};return this._refinement((r,g)=>{const l=n(r),u=()=>g.addIssue({code:e.custom,...t(r)});if(typeof Promise!=="undefined"&&l instanceof Promise)return l.then((m)=>{if(!m)return u(),!1;else return!0});if(!l)return u(),!1;else return!0})}refinement(n,f){return this._refinement((t,r)=>{if(!n(t))return r.addIssue(typeof f==="function"?f(t,r):f),!1;else return!0})}_refinement(n){return new D({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}optional(){return E.create(this,this._def)}nullable(){return p.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return K.create(this,this._def)}promise(){return mn.create(this,this._def)}or(n){return vn.create([this,n],this._def)}and(n){return en.create(this,n,this._def)}transform(n){return new D({...Q(this._def),schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:n}})}default(n){const f=typeof n==="function"?n:()=>n;return new _n({...Q(this._def),innerType:this,defaultValue:f,typeName:Y.ZodDefault})}brand(){return new Dn({typeName:Y.ZodBranded,type:this,...Q(this._def)})}catch(n){const f=typeof n==="function"?n:()=>n;return new Tn({...Q(this._def),innerType:this,catchValue:f,typeName:Y.ZodCatch})}describe(n){return new this.constructor({...this._def,description:n})}pipe(n){return Mn.create(this,n)}readonly(){return Xn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var er=/^c[^\s-]{8,}$/i,Gr=/^[0-9a-z]+$/,hr=/^[0-9A-HJKMNP-TV-Z]{26}$/,Nr=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_r=/^[a-z0-9_-]{21}$/i,Tr=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Xr=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Yr="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",ff,Wr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Br=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Qr=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qr=new RegExp(`^${vg}\$`);class V extends q{_parse(n){if(this._def.coerce)n.data=String(n.data);if(this._getType(n)!==h.string){const g=this._getOrReturnCtx(n);return G(g,{code:e.invalid_type,expected:h.string,received:g.parsedType}),W}const t=new F;let r=void 0;for(let g of this._def.checks)if(g.kind==="min"){if(n.data.length<g.value)r=this._getOrReturnCtx(n,r),G(r,{code:e.too_small,minimum:g.value,type:"string",inclusive:!0,exact:!1,message:g.message}),t.dirty()}else if(g.kind==="max"){if(n.data.length>g.value)r=this._getOrReturnCtx(n,r),G(r,{code:e.too_big,maximum:g.value,type:"string",inclusive:!0,exact:!1,message:g.message}),t.dirty()}else if(g.kind==="length"){const l=n.data.length>g.value,u=n.data.length<g.value;if(l||u){if(r=this._getOrReturnCtx(n,r),l)G(r,{code:e.too_big,maximum:g.value,type:"string",inclusive:!0,exact:!0,message:g.message});else if(u)G(r,{code:e.too_small,minimum:g.value,type:"string",inclusive:!0,exact:!0,message:g.message});t.dirty()}}else if(g.kind==="email"){if(!Xr.test(n.data))r=this._getOrReturnCtx(n,r),G(r,{validation:"email",code:e.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="emoji"){if(!ff)ff=new RegExp(Yr,"u");if(!ff.test(n.data))r=this._getOrReturnCtx(n,r),G(r,{validation:"emoji",code:e.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="uuid"){if(!Nr.test(n.data))r=this._getOrReturnCtx(n,r),G(r,{validation:"uuid",code:e.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="nanoid"){if(!_r.test(n.data))r=this._getOrReturnCtx(n,r),G(r,{validation:"nanoid",code:e.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="cuid"){if(!er.test(n.data))r=this._getOrReturnCtx(n,r),G(r,{validation:"cuid",code:e.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="cuid2"){if(!Gr.test(n.data))r=this._getOrReturnCtx(n,r),G(r,{validation:"cuid2",code:e.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="ulid"){if(!hr.test(n.data))r=this._getOrReturnCtx(n,r),G(r,{validation:"ulid",code:e.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="url")try{new URL(n.data)}catch(l){r=this._getOrReturnCtx(n,r),G(r,{validation:"url",code:e.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="regex"){if(g.regex.lastIndex=0,!g.regex.test(n.data))r=this._getOrReturnCtx(n,r),G(r,{validation:"regex",code:e.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="trim")n.data=n.data.trim();else if(g.kind==="includes"){if(!n.data.includes(g.value,g.position))r=this._getOrReturnCtx(n,r),G(r,{code:e.invalid_string,validation:{includes:g.value,position:g.position},message:g.message}),t.dirty()}else if(g.kind==="toLowerCase")n.data=n.data.toLowerCase();else if(g.kind==="toUpperCase")n.data=n.data.toUpperCase();else if(g.kind==="startsWith"){if(!n.data.startsWith(g.value))r=this._getOrReturnCtx(n,r),G(r,{code:e.invalid_string,validation:{startsWith:g.value},message:g.message}),t.dirty()}else if(g.kind==="endsWith"){if(!n.data.endsWith(g.value))r=this._getOrReturnCtx(n,r),G(r,{code:e.invalid_string,validation:{endsWith:g.value},message:g.message}),t.dirty()}else if(g.kind==="datetime"){if(!Gg(g).test(n.data))r=this._getOrReturnCtx(n,r),G(r,{code:e.invalid_string,validation:"datetime",message:g.message}),t.dirty()}else if(g.kind==="date"){if(!qr.test(n.data))r=this._getOrReturnCtx(n,r),G(r,{code:e.invalid_string,validation:"date",message:g.message}),t.dirty()}else if(g.kind==="time"){if(!Ar(g).test(n.data))r=this._getOrReturnCtx(n,r),G(r,{code:e.invalid_string,validation:"time",message:g.message}),t.dirty()}else if(g.kind==="duration"){if(!Tr.test(n.data))r=this._getOrReturnCtx(n,r),G(r,{validation:"duration",code:e.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="ip"){if(!Hr(n.data,g.version))r=this._getOrReturnCtx(n,r),G(r,{validation:"ip",code:e.invalid_string,message:g.message}),t.dirty()}else if(g.kind==="base64"){if(!Qr.test(n.data))r=this._getOrReturnCtx(n,r),G(r,{validation:"base64",code:e.invalid_string,message:g.message}),t.dirty()}else H.assertNever(g);return{status:t.value,value:n.data}}_regex(n,f,t){return this.refinement((r)=>n.test(r),{validation:f,code:e.invalid_string,...N.errToObj(t)})}_addCheck(n){return new V({...this._def,checks:[...this._def.checks,n]})}email(n){return this._addCheck({kind:"email",...N.errToObj(n)})}url(n){return this._addCheck({kind:"url",...N.errToObj(n)})}emoji(n){return this._addCheck({kind:"emoji",...N.errToObj(n)})}uuid(n){return this._addCheck({kind:"uuid",...N.errToObj(n)})}nanoid(n){return this._addCheck({kind:"nanoid",...N.errToObj(n)})}cuid(n){return this._addCheck({kind:"cuid",...N.errToObj(n)})}cuid2(n){return this._addCheck({kind:"cuid2",...N.errToObj(n)})}ulid(n){return this._addCheck({kind:"ulid",...N.errToObj(n)})}base64(n){return this._addCheck({kind:"base64",...N.errToObj(n)})}ip(n){return this._addCheck({kind:"ip",...N.errToObj(n)})}datetime(n){var f,t;if(typeof n==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n});return this._addCheck({kind:"datetime",precision:typeof(n===null||n===void 0?void 0:n.precision)==="undefined"?null:n===null||n===void 0?void 0:n.precision,offset:(f=n===null||n===void 0?void 0:n.offset)!==null&&f!==void 0?f:!1,local:(t=n===null||n===void 0?void 0:n.local)!==null&&t!==void 0?t:!1,...N.errToObj(n===null||n===void 0?void 0:n.message)})}date(n){return this._addCheck({kind:"date",message:n})}time(n){if(typeof n==="string")return this._addCheck({kind:"time",precision:null,message:n});return this._addCheck({kind:"time",precision:typeof(n===null||n===void 0?void 0:n.precision)==="undefined"?null:n===null||n===void 0?void 0:n.precision,...N.errToObj(n===null||n===void 0?void 0:n.message)})}duration(n){return this._addCheck({kind:"duration",...N.errToObj(n)})}regex(n,f){return this._addCheck({kind:"regex",regex:n,...N.errToObj(f)})}includes(n,f){return this._addCheck({kind:"includes",value:n,position:f===null||f===void 0?void 0:f.position,...N.errToObj(f===null||f===void 0?void 0:f.message)})}startsWith(n,f){return this._addCheck({kind:"startsWith",value:n,...N.errToObj(f)})}endsWith(n,f){return this._addCheck({kind:"endsWith",value:n,...N.errToObj(f)})}min(n,f){return this._addCheck({kind:"min",value:n,...N.errToObj(f)})}max(n,f){return this._addCheck({kind:"max",value:n,...N.errToObj(f)})}length(n,f){return this._addCheck({kind:"length",value:n,...N.errToObj(f)})}nonempty(n){return this.min(1,N.errToObj(n))}trim(){return new V({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new V({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new V({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((n)=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find((n)=>n.kind==="date")}get isTime(){return!!this._def.checks.find((n)=>n.kind==="time")}get isDuration(){return!!this._def.checks.find((n)=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find((n)=>n.kind==="email")}get isURL(){return!!this._def.checks.find((n)=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find((n)=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find((n)=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find((n)=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find((n)=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find((n)=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find((n)=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find((n)=>n.kind==="ip")}get isBase64(){return!!this._def.checks.find((n)=>n.kind==="base64")}get minLength(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n}get maxLength(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n}}V.create=(n)=>{var f;return new V({checks:[],typeName:Y.ZodString,coerce:(f=n===null||n===void 0?void 0:n.coerce)!==null&&f!==void 0?f:!1,...Q(n)})};class Z extends q{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce)n.data=Number(n.data);if(this._getType(n)!==h.number){const g=this._getOrReturnCtx(n);return G(g,{code:e.invalid_type,expected:h.number,received:g.parsedType}),W}let t=void 0;const r=new F;for(let g of this._def.checks)if(g.kind==="int"){if(!H.isInteger(n.data))t=this._getOrReturnCtx(n,t),G(t,{code:e.invalid_type,expected:"integer",received:"float",message:g.message}),r.dirty()}else if(g.kind==="min"){if(g.inclusive?n.data<g.value:n.data<=g.value)t=this._getOrReturnCtx(n,t),G(t,{code:e.too_small,minimum:g.value,type:"number",inclusive:g.inclusive,exact:!1,message:g.message}),r.dirty()}else if(g.kind==="max"){if(g.inclusive?n.data>g.value:n.data>=g.value)t=this._getOrReturnCtx(n,t),G(t,{code:e.too_big,maximum:g.value,type:"number",inclusive:g.inclusive,exact:!1,message:g.message}),r.dirty()}else if(g.kind==="multipleOf"){if(Jr(n.data,g.value)!==0)t=this._getOrReturnCtx(n,t),G(t,{code:e.not_multiple_of,multipleOf:g.value,message:g.message}),r.dirty()}else if(g.kind==="finite"){if(!Number.isFinite(n.data))t=this._getOrReturnCtx(n,t),G(t,{code:e.not_finite,message:g.message}),r.dirty()}else H.assertNever(g);return{status:r.value,value:n.data}}gte(n,f){return this.setLimit("min",n,!0,N.toString(f))}gt(n,f){return this.setLimit("min",n,!1,N.toString(f))}lte(n,f){return this.setLimit("max",n,!0,N.toString(f))}lt(n,f){return this.setLimit("max",n,!1,N.toString(f))}setLimit(n,f,t,r){return new Z({...this._def,checks:[...this._def.checks,{kind:n,value:f,inclusive:t,message:N.toString(r)}]})}_addCheck(n){return new Z({...this._def,checks:[...this._def.checks,n]})}int(n){return this._addCheck({kind:"int",message:N.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:N.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:N.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:N.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:N.toString(n)})}multipleOf(n,f){return this._addCheck({kind:"multipleOf",value:n,message:N.toString(f)})}finite(n){return this._addCheck({kind:"finite",message:N.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:N.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:N.toString(n)})}get minValue(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n}get maxValue(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n}get isInt(){return!!this._def.checks.find((n)=>n.kind==="int"||n.kind==="multipleOf"&&H.isInteger(n.value))}get isFinite(){let n=null,f=null;for(let t of this._def.checks)if(t.kind==="finite"||t.kind==="int"||t.kind==="multipleOf")return!0;else if(t.kind==="min"){if(f===null||t.value>f)f=t.value}else if(t.kind==="max"){if(n===null||t.value<n)n=t.value}return Number.isFinite(f)&&Number.isFinite(n)}}Z.create=(n)=>{return new Z({checks:[],typeName:Y.ZodNumber,coerce:(n===null||n===void 0?void 0:n.coerce)||!1,...Q(n)})};class d extends q{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce)n.data=BigInt(n.data);if(this._getType(n)!==h.bigint){const g=this._getOrReturnCtx(n);return G(g,{code:e.invalid_type,expected:h.bigint,received:g.parsedType}),W}let t=void 0;const r=new F;for(let g of this._def.checks)if(g.kind==="min"){if(g.inclusive?n.data<g.value:n.data<=g.value)t=this._getOrReturnCtx(n,t),G(t,{code:e.too_small,type:"bigint",minimum:g.value,inclusive:g.inclusive,message:g.message}),r.dirty()}else if(g.kind==="max"){if(g.inclusive?n.data>g.value:n.data>=g.value)t=this._getOrReturnCtx(n,t),G(t,{code:e.too_big,type:"bigint",maximum:g.value,inclusive:g.inclusive,message:g.message}),r.dirty()}else if(g.kind==="multipleOf"){if(n.data%g.value!==BigInt(0))t=this._getOrReturnCtx(n,t),G(t,{code:e.not_multiple_of,multipleOf:g.value,message:g.message}),r.dirty()}else H.assertNever(g);return{status:r.value,value:n.data}}gte(n,f){return this.setLimit("min",n,!0,N.toString(f))}gt(n,f){return this.setLimit("min",n,!1,N.toString(f))}lte(n,f){return this.setLimit("max",n,!0,N.toString(f))}lt(n,f){return this.setLimit("max",n,!1,N.toString(f))}setLimit(n,f,t,r){return new d({...this._def,checks:[...this._def.checks,{kind:n,value:f,inclusive:t,message:N.toString(r)}]})}_addCheck(n){return new d({...this._def,checks:[...this._def.checks,n]})}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:N.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:N.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:N.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:N.toString(n)})}multipleOf(n,f){return this._addCheck({kind:"multipleOf",value:n,message:N.toString(f)})}get minValue(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n}get maxValue(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n}}d.create=(n)=>{var f;return new d({checks:[],typeName:Y.ZodBigInt,coerce:(f=n===null||n===void 0?void 0:n.coerce)!==null&&f!==void 0?f:!1,...Q(n)})};class cn extends q{_parse(n){if(this._def.coerce)n.data=Boolean(n.data);if(this._getType(n)!==h.boolean){const t=this._getOrReturnCtx(n);return G(t,{code:e.invalid_type,expected:h.boolean,received:t.parsedType}),W}return R(n.data)}}cn.create=(n)=>{return new cn({typeName:Y.ZodBoolean,coerce:(n===null||n===void 0?void 0:n.coerce)||!1,...Q(n)})};class gn extends q{_parse(n){if(this._def.coerce)n.data=new Date(n.data);if(this._getType(n)!==h.date){const g=this._getOrReturnCtx(n);return G(g,{code:e.invalid_type,expected:h.date,received:g.parsedType}),W}if(isNaN(n.data.getTime())){const g=this._getOrReturnCtx(n);return G(g,{code:e.invalid_date}),W}const t=new F;let r=void 0;for(let g of this._def.checks)if(g.kind==="min"){if(n.data.getTime()<g.value)r=this._getOrReturnCtx(n,r),G(r,{code:e.too_small,message:g.message,inclusive:!0,exact:!1,minimum:g.value,type:"date"}),t.dirty()}else if(g.kind==="max"){if(n.data.getTime()>g.value)r=this._getOrReturnCtx(n,r),G(r,{code:e.too_big,message:g.message,inclusive:!0,exact:!1,maximum:g.value,type:"date"}),t.dirty()}else H.assertNever(g);return{status:t.value,value:new Date(n.data.getTime())}}_addCheck(n){return new gn({...this._def,checks:[...this._def.checks,n]})}min(n,f){return this._addCheck({kind:"min",value:n.getTime(),message:N.toString(f)})}max(n,f){return this._addCheck({kind:"max",value:n.getTime(),message:N.toString(f)})}get minDate(){let n=null;for(let f of this._def.checks)if(f.kind==="min"){if(n===null||f.value>n)n=f.value}return n!=null?new Date(n):null}get maxDate(){let n=null;for(let f of this._def.checks)if(f.kind==="max"){if(n===null||f.value<n)n=f.value}return n!=null?new Date(n):null}}gn.create=(n)=>{return new gn({checks:[],coerce:(n===null||n===void 0?void 0:n.coerce)||!1,typeName:Y.ZodDate,...Q(n)})};class qn extends q{_parse(n){if(this._getType(n)!==h.symbol){const t=this._getOrReturnCtx(n);return G(t,{code:e.invalid_type,expected:h.symbol,received:t.parsedType}),W}return R(n.data)}}qn.create=(n)=>{return new qn({typeName:Y.ZodSymbol,...Q(n)})};class Sn extends q{_parse(n){if(this._getType(n)!==h.undefined){const t=this._getOrReturnCtx(n);return G(t,{code:e.invalid_type,expected:h.undefined,received:t.parsedType}),W}return R(n.data)}}Sn.create=(n)=>{return new Sn({typeName:Y.ZodUndefined,...Q(n)})};class $n extends q{_parse(n){if(this._getType(n)!==h.null){const t=this._getOrReturnCtx(n);return G(t,{code:e.invalid_type,expected:h.null,received:t.parsedType}),W}return R(n.data)}}$n.create=(n)=>{return new $n({typeName:Y.ZodNull,...Q(n)})};class rn extends q{constructor(){super(...arguments);this._any=!0}_parse(n){return R(n.data)}}rn.create=(n)=>{return new rn({typeName:Y.ZodAny,...Q(n)})};class s extends q{constructor(){super(...arguments);this._unknown=!0}_parse(n){return R(n.data)}}s.create=(n)=>{return new s({typeName:Y.ZodUnknown,...Q(n)})};class k extends q{_parse(n){const f=this._getOrReturnCtx(n);return G(f,{code:e.invalid_type,expected:h.never,received:f.parsedType}),W}}k.create=(n)=>{return new k({typeName:Y.ZodNever,...Q(n)})};class An extends q{_parse(n){if(this._getType(n)!==h.undefined){const t=this._getOrReturnCtx(n);return G(t,{code:e.invalid_type,expected:h.void,received:t.parsedType}),W}return R(n.data)}}An.create=(n)=>{return new An({typeName:Y.ZodVoid,...Q(n)})};class K extends q{_parse(n){const{ctx:f,status:t}=this._processInputParams(n),r=this._def;if(f.parsedType!==h.array)return G(f,{code:e.invalid_type,expected:h.array,received:f.parsedType}),W;if(r.exactLength!==null){const l=f.data.length>r.exactLength.value,u=f.data.length<r.exactLength.value;if(l||u)G(f,{code:l?e.too_big:e.too_small,minimum:u?r.exactLength.value:void 0,maximum:l?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),t.dirty()}if(r.minLength!==null){if(f.data.length<r.minLength.value)G(f,{code:e.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),t.dirty()}if(r.maxLength!==null){if(f.data.length>r.maxLength.value)G(f,{code:e.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),t.dirty()}if(f.common.async)return Promise.all([...f.data].map((l,u)=>{return r.type._parseAsync(new x(f,l,f.path,u))})).then((l)=>{return F.mergeArray(t,l)});const g=[...f.data].map((l,u)=>{return r.type._parseSync(new x(f,l,f.path,u))});return F.mergeArray(t,g)}get element(){return this._def.type}min(n,f){return new K({...this._def,minLength:{value:n,message:N.toString(f)}})}max(n,f){return new K({...this._def,maxLength:{value:n,message:N.toString(f)}})}length(n,f){return new K({...this._def,exactLength:{value:n,message:N.toString(f)}})}nonempty(n){return this.min(1,n)}}K.create=(n,f)=>{return new K({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray,...Q(f)})};class z extends q{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const n=this._def.shape(),f=H.objectKeys(n);return this._cached={shape:n,keys:f}}_parse(n){if(this._getType(n)!==h.object){const c=this._getOrReturnCtx(n);return G(c,{code:e.invalid_type,expected:h.object,received:c.parsedType}),W}const{status:t,ctx:r}=this._processInputParams(n),{shape:g,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof k&&this._def.unknownKeys==="strip")){for(let c in r.data)if(!l.includes(c))u.push(c)}const m=[];for(let c of l){const v=g[c],b=r.data[c];m.push({key:{status:"valid",value:c},value:v._parse(new x(r,b,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof k){const c=this._def.unknownKeys;if(c==="passthrough")for(let v of u)m.push({key:{status:"valid",value:v},value:{status:"valid",value:r.data[v]}});else if(c==="strict"){if(u.length>0)G(r,{code:e.unrecognized_keys,keys:u}),t.dirty()}else if(c==="strip");else throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(let v of u){const b=r.data[v];m.push({key:{status:"valid",value:v},value:c._parse(new x(r,b,r.path,v)),alwaysSet:v in r.data})}}if(r.common.async)return Promise.resolve().then(async()=>{const c=[];for(let v of m){const b=await v.key,S=await v.value;c.push({key:b,value:S,alwaysSet:v.alwaysSet})}return c}).then((c)=>{return F.mergeObjectSync(t,c)});else return F.mergeObjectSync(t,m)}get shape(){return this._def.shape()}strict(n){return N.errToObj,new z({...this._def,unknownKeys:"strict",...n!==void 0?{errorMap:(f,t)=>{var r,g,l,u;const m=(l=(g=(r=this._def).errorMap)===null||g===void 0?void 0:g.call(r,f,t).message)!==null&&l!==void 0?l:t.defaultError;if(f.code==="unrecognized_keys")return{message:(u=N.errToObj(n).message)!==null&&u!==void 0?u:m};return{message:m}}}:{}})}strip(){return new z({...this._def,unknownKeys:"strip"})}passthrough(){return new z({...this._def,unknownKeys:"passthrough"})}extend(n){return new z({...this._def,shape:()=>({...this._def.shape(),...n})})}merge(n){return new z({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>({...this._def.shape(),...n._def.shape()}),typeName:Y.ZodObject})}setKey(n,f){return this.augment({[n]:f})}catchall(n){return new z({...this._def,catchall:n})}pick(n){const f={};return H.objectKeys(n).forEach((t)=>{if(n[t]&&this.shape[t])f[t]=this.shape[t]}),new z({...this._def,shape:()=>f})}omit(n){const f={};return H.objectKeys(this.shape).forEach((t)=>{if(!n[t])f[t]=this.shape[t]}),new z({...this._def,shape:()=>f})}deepPartial(){return un(this)}partial(n){const f={};return H.objectKeys(this.shape).forEach((t)=>{const r=this.shape[t];if(n&&!n[t])f[t]=r;else f[t]=r.optional()}),new z({...this._def,shape:()=>f})}required(n){const f={};return H.objectKeys(this.shape).forEach((t)=>{if(n&&!n[t])f[t]=this.shape[t];else{let g=this.shape[t];while(g instanceof E)g=g._def.innerType;f[t]=g}}),new z({...this._def,shape:()=>f})}keyof(){return hg(H.objectKeys(this.shape))}}z.create=(n,f)=>{return new z({shape:()=>n,unknownKeys:"strip",catchall:k.create(),typeName:Y.ZodObject,...Q(f)})};z.strictCreate=(n,f)=>{return new z({shape:()=>n,unknownKeys:"strict",catchall:k.create(),typeName:Y.ZodObject,...Q(f)})};z.lazycreate=(n,f)=>{return new z({shape:n,unknownKeys:"strip",catchall:k.create(),typeName:Y.ZodObject,...Q(f)})};class vn extends q{_parse(n){const{ctx:f}=this._processInputParams(n),t=this._def.options;function r(g){for(let u of g)if(u.result.status==="valid")return u.result;for(let u of g)if(u.result.status==="dirty")return f.common.issues.push(...u.ctx.common.issues),u.result;const l=g.map((u)=>new U(u.ctx.common.issues));return G(f,{code:e.invalid_union,unionErrors:l}),W}if(f.common.async)return Promise.all(t.map(async(g)=>{const l={...f,common:{...f.common,issues:[]},parent:null};return{result:await g._parseAsync({data:f.data,path:f.path,parent:l}),ctx:l}})).then(r);else{let g=void 0;const l=[];for(let m of t){const c={...f,common:{...f.common,issues:[]},parent:null},v=m._parseSync({data:f.data,path:f.path,parent:c});if(v.status==="valid")return v;else if(v.status==="dirty"&&!g)g={result:v,ctx:c};if(c.common.issues.length)l.push(c.common.issues)}if(g)return f.common.issues.push(...g.ctx.common.issues),g.result;const u=l.map((m)=>new U(m));return G(f,{code:e.invalid_union,unionErrors:u}),W}}get options(){return this._def.options}}vn.create=(n,f)=>{return new vn({options:n,typeName:Y.ZodUnion,...Q(f)})};var i=(n)=>{if(n instanceof Gn)return i(n.schema);else if(n instanceof D)return i(n.innerType());else if(n instanceof hn)return[n.value];else if(n instanceof nn)return n.options;else if(n instanceof Nn)return H.objectValues(n.enum);else if(n instanceof _n)return i(n._def.innerType);else if(n instanceof Sn)return[void 0];else if(n instanceof $n)return[null];else if(n instanceof E)return[void 0,...i(n.unwrap())];else if(n instanceof p)return[null,...i(n.unwrap())];else if(n instanceof Dn)return i(n.unwrap());else if(n instanceof Xn)return i(n.unwrap());else if(n instanceof Tn)return i(n._def.innerType);else return[]};class Un extends q{_parse(n){const{ctx:f}=this._processInputParams(n);if(f.parsedType!==h.object)return G(f,{code:e.invalid_type,expected:h.object,received:f.parsedType}),W;const t=this.discriminator,r=f.data[t],g=this.optionsMap.get(r);if(!g)return G(f,{code:e.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[t]}),W;if(f.common.async)return g._parseAsync({data:f.data,path:f.path,parent:f});else return g._parseSync({data:f.data,path:f.path,parent:f})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(n,f,t){const r=new Map;for(let g of f){const l=i(g.shape[n]);if(!l.length)throw new Error(`A discriminator value for key \`${n}\` could not be extracted from all schema options`);for(let u of l){if(r.has(u))throw new Error(`Discriminator property ${String(n)} has duplicate value ${String(u)}`);r.set(u,g)}}return new Un({typeName:Y.ZodDiscriminatedUnion,discriminator:n,options:f,optionsMap:r,...Q(t)})}}class en extends q{_parse(n){const{status:f,ctx:t}=this._processInputParams(n),r=(g,l)=>{if(gf(g)||gf(l))return W;const u=lf(g.value,l.value);if(!u.valid)return G(t,{code:e.invalid_intersection_types}),W;if(rf(g)||rf(l))f.dirty();return{status:f.value,value:u.data}};if(t.common.async)return Promise.all([this._def.left._parseAsync({data:t.data,path:t.path,parent:t}),this._def.right._parseAsync({data:t.data,path:t.path,parent:t})]).then(([g,l])=>r(g,l));else return r(this._def.left._parseSync({data:t.data,path:t.path,parent:t}),this._def.right._parseSync({data:t.data,path:t.path,parent:t}))}}en.create=(n,f,t)=>{return new en({left:n,right:f,typeName:Y.ZodIntersection,...Q(t)})};class P extends q{_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.parsedType!==h.array)return G(t,{code:e.invalid_type,expected:h.array,received:t.parsedType}),W;if(t.data.length<this._def.items.length)return G(t,{code:e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),W;if(!this._def.rest&&t.data.length>this._def.items.length)G(t,{code:e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),f.dirty();const g=[...t.data].map((l,u)=>{const m=this._def.items[u]||this._def.rest;if(!m)return null;return m._parse(new x(t,l,t.path,u))}).filter((l)=>!!l);if(t.common.async)return Promise.all(g).then((l)=>{return F.mergeArray(f,l)});else return F.mergeArray(f,g)}get items(){return this._def.items}rest(n){return new P({...this._def,rest:n})}}P.create=(n,f)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new P({items:n,typeName:Y.ZodTuple,rest:null,...Q(f)})};class Hn extends q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.parsedType!==h.object)return G(t,{code:e.invalid_type,expected:h.object,received:t.parsedType}),W;const r=[],g=this._def.keyType,l=this._def.valueType;for(let u in t.data)r.push({key:g._parse(new x(t,u,t.path,u)),value:l._parse(new x(t,t.data[u],t.path,u)),alwaysSet:u in t.data});if(t.common.async)return F.mergeObjectAsync(f,r);else return F.mergeObjectSync(f,r)}get element(){return this._def.valueType}static create(n,f,t){if(f instanceof q)return new Hn({keyType:n,valueType:f,typeName:Y.ZodRecord,...Q(t)});return new Hn({keyType:V.create(),valueType:n,typeName:Y.ZodRecord,...Q(f)})}}class Jn extends q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.parsedType!==h.map)return G(t,{code:e.invalid_type,expected:h.map,received:t.parsedType}),W;const r=this._def.keyType,g=this._def.valueType,l=[...t.data.entries()].map(([u,m],c)=>{return{key:r._parse(new x(t,u,t.path,[c,"key"])),value:g._parse(new x(t,m,t.path,[c,"value"]))}});if(t.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(let m of l){const c=await m.key,v=await m.value;if(c.status==="aborted"||v.status==="aborted")return W;if(c.status==="dirty"||v.status==="dirty")f.dirty();u.set(c.value,v.value)}return{status:f.value,value:u}})}else{const u=new Map;for(let m of l){const{key:c,value:v}=m;if(c.status==="aborted"||v.status==="aborted")return W;if(c.status==="dirty"||v.status==="dirty")f.dirty();u.set(c.value,v.value)}return{status:f.value,value:u}}}}Jn.create=(n,f,t)=>{return new Jn({valueType:f,keyType:n,typeName:Y.ZodMap,...Q(t)})};class ln extends q{_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.parsedType!==h.set)return G(t,{code:e.invalid_type,expected:h.set,received:t.parsedType}),W;const r=this._def;if(r.minSize!==null){if(t.data.size<r.minSize.value)G(t,{code:e.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),f.dirty()}if(r.maxSize!==null){if(t.data.size>r.maxSize.value)G(t,{code:e.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),f.dirty()}const g=this._def.valueType;function l(m){const c=new Set;for(let v of m){if(v.status==="aborted")return W;if(v.status==="dirty")f.dirty();c.add(v.value)}return{status:f.value,value:c}}const u=[...t.data.values()].map((m,c)=>g._parse(new x(t,m,t.path,c)));if(t.common.async)return Promise.all(u).then((m)=>l(m));else return l(u)}min(n,f){return new ln({...this._def,minSize:{value:n,message:N.toString(f)}})}max(n,f){return new ln({...this._def,maxSize:{value:n,message:N.toString(f)}})}size(n,f){return this.min(n,f).max(n,f)}nonempty(n){return this.min(1,n)}}ln.create=(n,f)=>{return new ln({valueType:n,minSize:null,maxSize:null,typeName:Y.ZodSet,...Q(f)})};class on extends q{constructor(){super(...arguments);this.validate=this.implement}_parse(n){const{ctx:f}=this._processInputParams(n);if(f.parsedType!==h.function)return G(f,{code:e.invalid_type,expected:h.function,received:f.parsedType}),W;function t(u,m){return Rn({data:u,path:f.path,errorMaps:[f.common.contextualErrorMap,f.schemaErrorMap,jn(),an].filter((c)=>!!c),issueData:{code:e.invalid_arguments,argumentsError:m}})}function r(u,m){return Rn({data:u,path:f.path,errorMaps:[f.common.contextualErrorMap,f.schemaErrorMap,jn(),an].filter((c)=>!!c),issueData:{code:e.invalid_return_type,returnTypeError:m}})}const g={errorMap:f.common.contextualErrorMap},l=f.data;if(this._def.returns instanceof mn){const u=this;return R(async function(...m){const c=new U([]),v=await u._def.args.parseAsync(m,g).catch((J)=>{throw c.addIssue(t(m,J)),c}),b=await Reflect.apply(l,this,v);return await u._def.returns._def.type.parseAsync(b,g).catch((J)=>{throw c.addIssue(r(b,J)),c})})}else{const u=this;return R(function(...m){const c=u._def.args.safeParse(m,g);if(!c.success)throw new U([t(m,c.error)]);const v=Reflect.apply(l,this,c.data),b=u._def.returns.safeParse(v,g);if(!b.success)throw new U([r(v,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...n){return new on({...this._def,args:P.create(n).rest(s.create())})}returns(n){return new on({...this._def,returns:n})}implement(n){return this.parse(n)}strictImplement(n){return this.parse(n)}static create(n,f,t){return new on({args:n?n:P.create([]).rest(s.create()),returns:f||s.create(),typeName:Y.ZodFunction,...Q(t)})}}class Gn extends q{get schema(){return this._def.getter()}_parse(n){const{ctx:f}=this._processInputParams(n);return this._def.getter()._parse({data:f.data,path:f.path,parent:f})}}Gn.create=(n,f)=>{return new Gn({getter:n,typeName:Y.ZodLazy,...Q(f)})};class hn extends q{_parse(n){if(n.data!==this._def.value){const f=this._getOrReturnCtx(n);return G(f,{received:f.data,code:e.invalid_literal,expected:this._def.value}),W}return{status:"valid",value:n.data}}get value(){return this._def.value}}hn.create=(n,f)=>{return new hn({value:n,typeName:Y.ZodLiteral,...Q(f)})};class nn extends q{constructor(){super(...arguments);Yn.set(this,void 0)}_parse(n){if(typeof n.data!=="string"){const f=this._getOrReturnCtx(n),t=this._def.values;return G(f,{expected:H.joinValues(t),received:f.parsedType,code:e.invalid_type}),W}if(!On(this,Yn,"f"))$g(this,Yn,new Set(this._def.values),"f");if(!On(this,Yn,"f").has(n.data)){const f=this._getOrReturnCtx(n),t=this._def.values;return G(f,{received:f.data,code:e.invalid_enum_value,options:t}),W}return R(n.data)}get options(){return this._def.values}get enum(){const n={};for(let f of this._def.values)n[f]=f;return n}get Values(){const n={};for(let f of this._def.values)n[f]=f;return n}get Enum(){const n={};for(let f of this._def.values)n[f]=f;return n}extract(n,f=this._def){return nn.create(n,{...this._def,...f})}exclude(n,f=this._def){return nn.create(this.options.filter((t)=>!n.includes(t)),{...this._def,...f})}}Yn=new WeakMap;nn.create=hg;class Nn extends q{constructor(){super(...arguments);Wn.set(this,void 0)}_parse(n){const f=H.getValidEnumValues(this._def.values),t=this._getOrReturnCtx(n);if(t.parsedType!==h.string&&t.parsedType!==h.number){const r=H.objectValues(f);return G(t,{expected:H.joinValues(r),received:t.parsedType,code:e.invalid_type}),W}if(!On(this,Wn,"f"))$g(this,Wn,new Set(H.getValidEnumValues(this._def.values)),"f");if(!On(this,Wn,"f").has(n.data)){const r=H.objectValues(f);return G(t,{received:t.data,code:e.invalid_enum_value,options:r}),W}return R(n.data)}get enum(){return this._def.values}}Wn=new WeakMap;Nn.create=(n,f)=>{return new Nn({values:n,typeName:Y.ZodNativeEnum,...Q(f)})};class mn extends q{unwrap(){return this._def.type}_parse(n){const{ctx:f}=this._processInputParams(n);if(f.parsedType!==h.promise&&f.common.async===!1)return G(f,{code:e.invalid_type,expected:h.promise,received:f.parsedType}),W;const t=f.parsedType===h.promise?f.data:Promise.resolve(f.data);return R(t.then((r)=>{return this._def.type.parseAsync(r,{path:f.path,errorMap:f.common.contextualErrorMap})}))}}mn.create=(n,f)=>{return new mn({type:n,typeName:Y.ZodPromise,...Q(f)})};class D extends q{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){const{status:f,ctx:t}=this._processInputParams(n),r=this._def.effect||null,g={addIssue:(l)=>{if(G(t,l),l.fatal)f.abort();else f.dirty()},get path(){return t.path}};if(g.addIssue=g.addIssue.bind(g),r.type==="preprocess"){const l=r.transform(t.data,g);if(t.common.async)return Promise.resolve(l).then(async(u)=>{if(f.value==="aborted")return W;const m=await this._def.schema._parseAsync({data:u,path:t.path,parent:t});if(m.status==="aborted")return W;if(m.status==="dirty")return bn(m.value);if(f.value==="dirty")return bn(m.value);return m});else{if(f.value==="aborted")return W;const u=this._def.schema._parseSync({data:l,path:t.path,parent:t});if(u.status==="aborted")return W;if(u.status==="dirty")return bn(u.value);if(f.value==="dirty")return bn(u.value);return u}}if(r.type==="refinement"){const l=(u)=>{const m=r.refinement(u,g);if(t.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(t.common.async===!1){const u=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});if(u.status==="aborted")return W;if(u.status==="dirty")f.dirty();return l(u.value),{status:f.value,value:u.value}}else return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then((u)=>{if(u.status==="aborted")return W;if(u.status==="dirty")f.dirty();return l(u.value).then(()=>{return{status:f.value,value:u.value}})})}if(r.type==="transform")if(t.common.async===!1){const l=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});if(!Bn(l))return l;const u=r.transform(l.value,g);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:f.value,value:u}}else return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then((l)=>{if(!Bn(l))return l;return Promise.resolve(r.transform(l.value,g)).then((u)=>({status:f.value,value:u}))});H.assertNever(r)}}D.create=(n,f,t)=>{return new D({schema:n,typeName:Y.ZodEffects,effect:f,...Q(t)})};D.createWithPreprocess=(n,f,t)=>{return new D({schema:f,effect:{type:"preprocess",transform:n},typeName:Y.ZodEffects,...Q(t)})};class E extends q{_parse(n){if(this._getType(n)===h.undefined)return R(void 0);return this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}E.create=(n,f)=>{return new E({innerType:n,typeName:Y.ZodOptional,...Q(f)})};class p extends q{_parse(n){if(this._getType(n)===h.null)return R(null);return this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}p.create=(n,f)=>{return new p({innerType:n,typeName:Y.ZodNullable,...Q(f)})};class _n extends q{_parse(n){const{ctx:f}=this._processInputParams(n);let t=f.data;if(f.parsedType===h.undefined)t=this._def.defaultValue();return this._def.innerType._parse({data:t,path:f.path,parent:f})}removeDefault(){return this._def.innerType}}_n.create=(n,f)=>{return new _n({innerType:n,typeName:Y.ZodDefault,defaultValue:typeof f.default==="function"?f.default:()=>f.default,...Q(f)})};class Tn extends q{_parse(n){const{ctx:f}=this._processInputParams(n),t={...f,common:{...f.common,issues:[]}},r=this._def.innerType._parse({data:t.data,path:t.path,parent:{...t}});if(Qn(r))return r.then((g)=>{return{status:"valid",value:g.status==="valid"?g.value:this._def.catchValue({get error(){return new U(t.common.issues)},input:t.data})}});else return{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new U(t.common.issues)},input:t.data})}}removeCatch(){return this._def.innerType}}Tn.create=(n,f)=>{return new Tn({innerType:n,typeName:Y.ZodCatch,catchValue:typeof f.catch==="function"?f.catch:()=>f.catch,...Q(f)})};class wn extends q{_parse(n){if(this._getType(n)!==h.nan){const t=this._getOrReturnCtx(n);return G(t,{code:e.invalid_type,expected:h.nan,received:t.parsedType}),W}return{status:"valid",value:n.data}}}wn.create=(n)=>{return new wn({typeName:Y.ZodNaN,...Q(n)})};var wr=Symbol("zod_brand");class Dn extends q{_parse(n){const{ctx:f}=this._processInputParams(n),t=f.data;return this._def.type._parse({data:t,path:f.path,parent:f})}unwrap(){return this._def.type}}class Mn extends q{_parse(n){const{status:f,ctx:t}=this._processInputParams(n);if(t.common.async)return(async()=>{const g=await this._def.in._parseAsync({data:t.data,path:t.path,parent:t});if(g.status==="aborted")return W;if(g.status==="dirty")return f.dirty(),bn(g.value);else return this._def.out._parseAsync({data:g.value,path:t.path,parent:t})})();else{const r=this._def.in._parseSync({data:t.data,path:t.path,parent:t});if(r.status==="aborted")return W;if(r.status==="dirty")return f.dirty(),{status:"dirty",value:r.value};else return this._def.out._parseSync({data:r.value,path:t.path,parent:t})}}static create(n,f){return new Mn({in:n,out:f,typeName:Y.ZodPipeline})}}class Xn extends q{_parse(n){const f=this._def.innerType._parse(n),t=(r)=>{if(Bn(r))r.value=Object.freeze(r.value);return r};return Qn(f)?f.then((r)=>t(r)):t(f)}unwrap(){return this._def.innerType}}Xn.create=(n,f)=>{return new Xn({innerType:n,typeName:Y.ZodReadonly,...Q(f)})};var Mr={object:z.lazycreate},Y;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Y||(Y={}));var zr=(n,f={message:`Input not instance of ${n.name}`})=>Ng((t)=>t instanceof n,f),_g=V.create,Tg=Z.create,Cr=wn.create,Fr=d.create,Xg=cn.create,Lr=gn.create,jr=qn.create,Rr=Sn.create,Or=$n.create,Ur=rn.create,Dr=s.create,Vr=k.create,Kr=An.create,Er=K.create,xr=z.create,Ir=z.strictCreate,kr=vn.create,Pr=Un.create,ir=en.create,pr=P.create,yr=Hn.create,sr=Jn.create,Zr=ln.create,dr=on.create,nl=Gn.create,fl=hn.create,tl=nn.create,gl=Nn.create,rl=mn.create,cg=D.create,ll=E.create,ml=p.create,ul=D.createWithPreprocess,bl=Mn.create,ol=()=>_g().optional(),al=()=>Tg().optional(),cl=()=>Xg().optional(),Sl={string:(n)=>V.create({...n,coerce:!0}),number:(n)=>Z.create({...n,coerce:!0}),boolean:(n)=>cn.create({...n,coerce:!0}),bigint:(n)=>d.create({...n,coerce:!0}),date:(n)=>gn.create({...n,coerce:!0})},$l=W,Vn=Object.freeze({__proto__:null,defaultErrorMap:an,setErrorMap:$r,getErrorMap:jn,makeIssue:Rn,EMPTY_PATH:vr,addIssueToContext:G,ParseStatus:F,INVALID:W,DIRTY:bn,OK:R,isAborted:gf,isDirty:rf,isValid:Bn,isAsync:Qn,get util(){return H},get objectUtil(){return tf},ZodParsedType:h,getParsedType:y,ZodType:q,datetimeRegex:Gg,ZodString:V,ZodNumber:Z,ZodBigInt:d,ZodBoolean:cn,ZodDate:gn,ZodSymbol:qn,ZodUndefined:Sn,ZodNull:$n,ZodAny:rn,ZodUnknown:s,ZodNever:k,ZodVoid:An,ZodArray:K,ZodObject:z,ZodUnion:vn,ZodDiscriminatedUnion:Un,ZodIntersection:en,ZodTuple:P,ZodRecord:Hn,ZodMap:Jn,ZodSet:ln,ZodFunction:on,ZodLazy:Gn,ZodLiteral:hn,ZodEnum:nn,ZodNativeEnum:Nn,ZodPromise:mn,ZodEffects:D,ZodTransformer:D,ZodOptional:E,ZodNullable:p,ZodDefault:_n,ZodCatch:Tn,ZodNaN:wn,BRAND:wr,ZodBranded:Dn,ZodPipeline:Mn,ZodReadonly:Xn,custom:Ng,Schema:q,ZodSchema:q,late:Mr,get ZodFirstPartyTypeKind(){return Y},coerce:Sl,any:Ur,array:Er,bigint:Fr,boolean:Xg,date:Lr,discriminatedUnion:Pr,effect:cg,enum:tl,function:dr,instanceof:zr,intersection:ir,lazy:nl,literal:fl,map:sr,nan:Cr,nativeEnum:gl,never:Vr,null:Or,nullable:ml,number:Tg,object:xr,oboolean:cl,onumber:al,optional:ll,ostring:ol,pipeline:bl,preprocess:ul,promise:rl,record:yr,set:Zr,strictObject:Ir,string:_g,symbol:jr,transformer:cg,tuple:pr,undefined:Rr,union:kr,unknown:Dr,void:Kr,NEVER:$l,ZodIssueCode:e,quotelessJson:Sr,ZodError:U});var zn;(function(v){v[v["DOWN_LEFT"]=1]="DOWN_LEFT";v[v["DOWN_CENTER"]=2]="DOWN_CENTER";v[v["DOWN_RIGHT"]=3]="DOWN_RIGHT";v[v["CENTER_LEFT"]=4]="CENTER_LEFT";v[v["CENTER_CENTER"]=5]="CENTER_CENTER";v[v["CENTER_RIGHT"]=6]="CENTER_RIGHT";v[v["UP_LEFT"]=7]="UP_LEFT";v[v["UP_CENTER"]=8]="UP_CENTER";v[v["UP_RIGHT"]=9]="UP_RIGHT"})(zn||(zn={}));var Yg=Vn.nativeEnum(zn);var Cn;(function(A){A[A["ANSI"]=0]="ANSI";A[A["DEFAULT"]=1]="DEFAULT";A[A["SYMBOL"]=2]="SYMBOL";A[A["MAC"]=77]="MAC";A[A["SHIFT_JIS"]=128]="SHIFT_JIS";A[A["HANGEUL"]=129]="HANGEUL";A[A["JOHAB"]=130]="JOHAB";A[A["GB2312"]=134]="GB2312";A[A["CHINESE_BIG5"]=136]="CHINESE_BIG5";A[A["GREEK"]=161]="GREEK";A[A["TURKISH"]=162]="TURKISH";A[A["VIETNAMESE"]=163]="VIETNAMESE";A[A["HEBREW"]=177]="HEBREW";A[A["ARAB"]=178]="ARAB";A[A["BALTIC"]=186]="BALTIC";A[A["RUSSIAN"]=204]="RUSSIAN";A[A["THAI"]=222]="THAI";A[A["EASTERN_EUROPE"]=238]="EASTERN_EUROPE";A[A["OEM"]=255]="OEM"})(Cn||(Cn={}));var Wg=Vn.nativeEnum(Cn);function Bg(){return{format:"Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text",lines:[]}}function Qg(n){let f="[Events]";f+=`\nFormat: ${n.format}`;for(let t of n.lines)f+=`\n${qg(t)}`;return f}function Ag(){return{data:[]}}function Hg(n){let f="[Aegisub Extradata]";for(let t of n.data)f+=`\nData: ${t}`;return f}function Jg(n){let f=`fontname: ${n.name}`;for(let t of n.data)f+=`\n${t}`;return f}function wg(){return{files:[]}}function Mg(n){let f="[Fonts]\n",t=0;for(let r of n.files){if(t>0)f+="\n\n";f+=Jg(r),t++}return f+="\n",f}function zg(n){let f=`filename: ${n.name}`;for(let t of n.data)f+=`\n${t}`;return f}function Cg(){return{files:[]}}function Fg(n){let f="[Graphics]\n",t=0;for(let r of n.files){if(t>0)f+="\n\n";f+=zg(r),t++}return f}function Lg(){return{comments:[],properties:new Map}}function jg(n){let f="[Aegisub Project Garbage]";for(let t of n.comments)f+=`\n; ${t}`;for(let[t,r]of n.properties)f+=`\n${t}: ${r}`;return f}var vm="Automation Scripts",em="Export Filters",Gm="Export Encoding",hm="Last Style Storage",Nm="Audio File",_m="Video File",Tm="Timecodes File",Xm="Keyframes File",Ym="Video AR Mode",Wm="Video AR Value",Bm="Video Zoom Percent",Qm="Scroll Position",qm="Active Line",Am="Video Position";function Rg(){return{comments:[],properties:new Map}}function Og(n){let f="[Script Info]";for(let t of n.comments)f+=`\n; ${t}`;for(let[t,r]of n.properties)f+=`\n${t}: ${r}`;return f}var Jm="Title",wm="ScriptType",Mm="WrapStyle",zm="PlayResX",Cm="PlayResY",Fm="ScaledBorderAndShadow",Lm="YCbCr Matrix",jm="Original Script",Rm="Original Translation",Om="Original Editing",Um="Original Timing",Dm="Synch Point",Vm="Script Updated By",Km="Update Details";function Ug(n){let f=`Style: ${n.name}`;return f+=`,${n.fontName}`,f+=`,${n.fontSize}`,f+=`,${n.primaryAlpha}`,f+=`,${n.primaryColor}`,f+=`,${n.secondaryAlpha}`,f+=`,${n.secondaryColor}`,f+=`,${n.outlineAlpha}`,f+=`,${n.outlineColor}`,f+=`,${n.backAlpha}`,f+=`,${n.backColor}`,f+=`,${n.bold}`,f+=`,${n.italic}`,f+=`,${n.underline}`,f+=`,${n.strikeOut}`,f+=`,${n.scaleX}`,f+=`,${n.scaleY}`,f+=`,${n.spacing}`,f+=`,${n.angle}`,f+=`,${n.borderStyle}`,f+=`,${n.outline}`,f+=`,${n.shadow}`,f+=`,${n.alignment}`,f+=`,${n.marginLeft}`,f+=`,${n.marginRight}`,f+=`,${n.marginVertical}`,f+=`,${n.encoding}`,f}function Dg(){return{format:"Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding",styles:[]}}function pm(){return{format:"Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding",styles:[{name:"Default",fontName:"Arial",fontSize:20,primaryAlpha:"&H00FFFFFF",primaryColor:"&H000000FF",secondaryAlpha:"&H00000000",secondaryColor:"&H00000000",outlineAlpha:"",outlineColor:"",backAlpha:"",backColor:"",bold:0,italic:0,underline:0,strikeOut:0,scaleX:100,scaleY:100,spacing:0,angle:0,borderStyle:1,outline:2,shadow:2,alignment:zn.DOWN_CENTER,marginLeft:10,marginRight:10,marginVertical:10,encoding:Cn.DEFAULT}]}}function Vg(n){let f="[V4+ Styles]";f+=`\nFormat: ${n.format}`;for(let t of n.styles)f+=`\n${Ug(t)}`;return f}function vu(n){let f="";return f+=Og(n.scriptInfo),f+="\n\n"+jg(n.aegisubProjectGarbage),f+="\n\n"+Vg(n.styles),f+="\n\n"+Mg(n.fonts),f+="\n\n"+Fg(n.graphics),f+="\n\n"+Qg(n.events),f+="\n\n"+Hg(n.extraData),f+="\n",f}function eu(n){const f={scriptInfo:Rg(),aegisubProjectGarbage:Lg(),styles:Dg(),fonts:wg(),graphics:Cg(),events:Bg(),extraData:Ag()};let v="",b="";const S=n.split("\n");for(let J=0;J<S.length;J++){const w=Xl(S[J]);if(w.length===0)continue;switch(w){case vl:v="scriptInfo";continue;case el:v="projectGarbage";continue;case Gl:v="styles";continue;case Nl:v="fonts";continue;case hl:v="graphics";continue;case _l:v="events";continue;case Tl:v="extraData";continue}let I="";switch(v){case"scriptInfo":I=Yl(f,w);break;case"projectGarbage":I=Wl(f,w);break;case"styles":I=Bl(f,w);break;case"fonts":b=Ql(f,w,b);break;case"graphics":b=ql(f,w,b);break;case"events":I=Al(f,w);break;case"extraData":Hl(f,w);break;default:break}if(I.length>0)return console.error(`failed to parse ass file at line ${J+1}: ${I}\nLine:\n${w}`),null}return f}var Xl=function(n){return n.replaceAll("\\uFEFF","")},En=function(n){const f=/(?<key>.+):\s+(?<value>.*)\s*/,t={key:"",value:""},r=n.match(f);if(!r||r.length===0)return[t,`not a key-value pair: ${n}`];return t.key=r.groups?.key??"",t.value=r.groups?.value??"",[t,""]},Yl=function(n,f){if(f.startsWith(Kn)){const g=f.substring(Kn.length);return n.scriptInfo.comments.push(g),""}const[t,r]=En(f);if(r.length>0)return`failed to parse script info line: ${r}`;return n.scriptInfo.properties.set(t.key,t.value),""},Wl=function(n,f){if(f.startsWith(Kn)){const g=f.substring(Kn.length);return n.aegisubProjectGarbage.comments.push(g),""}const[t,r]=En(f);if(r.length>0)return`failed to parse script info line: ${r}`;return n.aegisubProjectGarbage.properties.set(t.key,t.value),""},Bl=function(n,f){const t=/(?<name>.*)\s*,\s*(?<fontName>.*)\s*,\s*(?<fontSize>\d+(?:\.\d+)?)\s*,\s*&H(?<alpha1>[A-Fa-f0-9]{2})(?<color1>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha2>[A-Fa-f0-9]{2})(?<color2>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha3>[A-Fa-f0-9]{2})(?<color3>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha4>[A-Fa-f0-9]{2})(?<color4>[A-Fa-f0-9]{6})\s*,\s*(?<bold>0|-1)\s*,\s*(?<italic>0|-1)\s*,\s*(?<underline>0|-1)\s*,\s*(?<strikeout>0|-1)\s*,\s*(?<scaleX>\d+(?:\.\d+)?)\s*,\s*(?<scaleY>\d+(?:\.\d+)?)\s*,\s*(?<spacing>\d+(?:\.\d+)?)\s*,\s*(?<angle>-?\d+(?:\.\d+)?)\s*,\s*(?<borderStyle>\d+)\s*,\s*(?<outline>\d+(?:\.\d+)?)\s*,\s*(?<shadow>\d+(?:\.\d+)?)\s*,\s*(?<alignment>[1-9])\s*,\s*(?<marginLeft>\d+)\s*,\s*(?<marginRight>\d+)\s*,\s*(?<marginVertical>\d+)\s*,\s*(?<encoding>\d+)/;if(!f.startsWith("Style: "))return"";const r=f.match(t);if(!r||r.length===0||!r.groups)return`failed to parse style: not a style: ${f}`;const g=Yg.safeParse(Number(r.groups.alignment));if(!g.success)return`failed to parse style: invalid alignment: ${f}`;const l=g.data,u=Wg.safeParse(Number(r.groups.encoding));if(!u.success)return`failed to parse style: invalid encoding: ${r.groups.encoding}`;const m=u.data,c={name:r.groups.name??"",fontName:r.groups.fontName??"",fontSize:Number(r.groups.fontSize??"0"),primaryAlpha:r.groups.alpha1,primaryColor:r.groups.color1,secondaryAlpha:r.groups.alpha2,secondaryColor:r.groups.color2,outlineAlpha:r.groups.alpha3,outlineColor:r.groups.color3,backAlpha:r.groups.alpha4,backColor:r.groups.color4,bold:Number(r.groups.bold),italic:Number(r.groups.italic),underline:Number(r.groups.underline),strikeOut:Number(r.groups.strikeout),scaleX:Number(r.groups.scaleX),scaleY:Number(r.groups.scaleY),spacing:Number(r.groups.spacing),angle:Number(r.groups.angle),borderStyle:Number(r.groups.borderStyle),outline:Number(r.groups.outline),shadow:Number(r.groups.shadow),alignment:l,marginLeft:Number(r.groups.marginLeft),marginRight:Number(r.groups.marginRight),marginVertical:Number(r.groups.marginVertical),encoding:m};return n.styles.styles.push(c),""},Ql=function(n,f,t){const[r,g]=En(f);if(g.length===0&&r.key=="fontname"){const m=r.value;let c={name:"",data:[]},v=n.fonts.files.findIndex((b)=>b.name===m);return n.fonts.files.push(c),v=n.fonts.files.length-1,c=n.fonts.files[v],c.name=m,t=m,m}const l=n.fonts.files.findLastIndex((m)=>m.name==t);if(l<0)return"";return n.fonts.files[l].data.push(f),t},ql=function(n,f,t){const[r,g]=En(f);if(g.length===0&&r.key=="filename"){const m=r.value;let c={name:"",data:[]},v=n.graphics.files.findIndex((b)=>b.name===m);return n.graphics.files.push(c),v=n.graphics.files.length-1,c=n.graphics.files[v],c.name=m,t=m,m}const l=n.graphics.files.findLastIndex((m)=>m.name==t);if(l<0)return"";return n.graphics.files[l].data.push(f),t},Al=function(n,f){if(f.startsWith("Format:"))return n.events.format=f,"";const t=Eg(f);if(t==null)return`not a event (dialogue / comment): ${t}`;return n.events.lines.push(t),""},Hl=function(n,f){if(!f.startsWith(Kg))return;const t=f.substring(Kg.length);n.extraData.data.push(t)},vl="[Script Info]",el="[Aegisub Project Garbage]",Gl="[V4+ Styles]",hl="[Graphics]",Nl="[Fonts]",_l="[Events]",Tl="[Aegisub Extradata]",Kn="; ",Kg="Data: ";function Xu(n){const f=[],t=n.content.split(" ");for(let c=0;c<t.length;c++){const v=t[c];if(Jl(v)){const b=v.matchAll(yn);for(let S of b)f.push({text:S[1],durationInMs:0})}else f.push({text:v,durationInMs:0});if(c!=t.length-1)f[f.length-1].text+=" "}const r=Ig(n),g=Math.floor(Math.round(r*100/f.length)),l=f.length*g;for(let c of f)c.durationInMs=g;if(l!==r*100){const v=r*100-l;f[f.length-1].durationInMs+=v}const m=[];for(let c of f)m.push({name:"effect",tags:[{name:o.kf,value:c.durationInMs}]},{name:"text",value:c.text});n.content=xg(m)}function Jl(n){while(n.length>0){const f=n.match(yn);if(!f||f.length===0)return!1;n=n.substring(f[0].length)}return!0}function Fn(n,f){const t=n.substring(1),r=n.match(sn);if(r&&r.length>0)return wl(n,f,t,r);const g=n.match(bf);if(g&&g.length>0){const b=g[0];if(f.push({name:o.text,value:b}),n=n.substring(b.length),n.length>0)Fn(n,f);return f}const l=n.match(bg);if(!l||l.length==0)return f;function u(b,S,J){if(b.push(S),n=n.substring(J),n.length>0)Fn(n,b);return b}let m=l[0].match(tg)?.groups;if(m!=null){const b=Number(m?.move_x1??"0"),S=Number(m?.move_y1??"0"),J=Number(m?.move_x2??"0"),w=Number(m?.move_y2??"0"),I=m?.move_t1?Number(m.move_t1):null,xn=m?.move_t2?Number(m.move_t2):null,In={name:o.move,x1:b,y1:S,x2:J,y2:w,t1:I,t2:xn};return u(f,In,l[0].length)}if(m=l[0].match(Qf)?.groups,m!=null){const b=m?.alpha_value??"",S={name:o.alpha,value:b};return u(f,S,l[0].length)}if(m=l[0].match(Gt)?.groups,m!=null){const b=Number(m?.xbord_value??"0"),S={name:o.xbord,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Nt)?.groups,m!=null){const b=Number(m?.ybord_value??"0"),S={name:o.ybord,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Yt)?.groups,m!=null){const b=Number(m?.xshad_value??"0"),S={name:o.xshad,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Bt)?.groups,m!=null){const b=Number(m?.yshad_value??"0"),S={name:o.yshad,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(mg)?.groups,m!=null){const b=m?.iclip_args??"",S={name:o.iclip,drawCommands:b};return u(f,S,l[0].length)}if(m=l[0].match(St)?.groups,m!=null){const b=Number(m?.blur_value??"0"),S={name:o.blur,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(vt)?.groups,m!=null){const b=Number(m?.bord_value??"0"),S={name:o.bord,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Tt)?.groups,m!=null){const b=Number(m?.shad_value??"0"),S={name:o.shad,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(wt)?.groups,m!=null){const b=Number(m?.fscx_value??"0"),S={name:o.fscx,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(zt)?.groups,m!=null){const b=Number(m?.fscy_value??"0"),S={name:o.fscy,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(ng)?.groups,m!=null){const b=Number(m?.fade_alpha1??"0"),S=Number(m?.fade_alpha2??"0"),J=Number(m?.fade_alpha3??"0"),w=Number(m?.fade_t1??"0"),I=Number(m?.fade_t2??"0"),xn=Number(m?.fade_t3??"0"),In=Number(m?.fade_t4??"0"),Pg={name:o.fade,alpha1:b,alpha2:S,alpha3:J,t1:w,t2:I,t3:xn,t4:In};return u(f,Pg,l[0].length)}if(m=l[0].match(rg)?.groups,m!=null){const b=m?.clip_args??"",S={name:o.clip,drawCommands:b};return u(f,S,l[0].length)}if(m=l[0].match(Ft)?.groups,m!=null){const b=Number(m?.fsp_value??"0"),S={name:o.fsp,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(it)?.groups,m!=null){const b=Number(m?.pos_x??"0"),S=Number(m?.pos_y??"0"),J={name:o.pos,x:b,y:S};return u(f,J,l[0].length)}if(m=l[0].match(yt)?.groups,m!=null){const b=Number(m?.org_x??"0"),S=Number(m?.org_y??"0"),J={name:o.org,x:b,y:S};return u(f,J,l[0].length)}if(m=l[0].match(Zt)?.groups,m!=null){const b=Number(m?.in??"0"),S=Number(m?.out??"0"),J={name:o.fad,in:b,out:S};return u(f,J,l[0].length)}if(m=l[0].match(Ot)?.groups,m!=null){const b=Number(m?.frx_value??"0"),S={name:o.frx,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Dt)?.groups,m!=null){const b=Number(m?.fry_value??"0"),S={name:o.fry,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Kt)?.groups,m!=null){const b=Number(m?.frz_value??"0"),S={name:o.frz,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(qt)?.groups,m!=null){const b=Number(m?.fax_value??"0"),S={name:o.fax,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Ht)?.groups,m!=null){const b=Number(m?.fay_value??"0"),S={name:o.fay,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(rt)?.groups,m!=null){const b=Number(m?.pbo_value??"0"),S={name:o.pbo,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Zf)?.groups,m!=null){const b=Number(m?.fe_value??"0"),S={name:o.fe,encodingId:Number(b)};return u(f,S,l[0].length)}if(m=l[0].match(nt)?.groups,m!=null){const b=m?.fn_value??"",S={name:o.fn,font:b};return u(f,S,l[0].length)}if(m=l[0].match(mt)?.groups,m!=null){const b=Number(m?.an_value??"0"),S={name:o.an,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(at)?.groups,m!=null){const b=Number(m?.be_value??"0"),S={name:o.be,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(jt)?.groups,m!=null){const b=Number(m?.fr_value??"0"),S={name:o.fr,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(kt)?.groups,m!=null){const b=Number(m?.fs_value??"0"),S={name:o.fs,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Vf)?.groups,m!=null){const b=Number(m?.ko_value??"0"),S={name:o.ko,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Uf)?.groups,m!=null){const b=Number(m?.kf_value??"0"),S={name:o.kf,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Tf)?.groups,m!=null){const b=Number(C(m?.color1_bgr_blue??"0")),S=Number(C(m?.color1_bgr_green??"0")),J=Number(C(m?.color1_bgr_red??"0")),w={name:o.color1,blue:b,green:S,red:J};return u(f,w,l[0].length)}if(m=l[0].match(Xf)?.groups,m!=null){const b=Number(C(m?.color2_bgr_blue??"0")),S=Number(C(m?.color2_bgr_green??"0")),J=Number(C(m?.color2_bgr_red??"0")),w={name:o.color2,blue:b,green:S,red:J};return u(f,w,l[0].length)}if(m=l[0].match(Yf)?.groups,m!=null){const b=Number(C(m?.color3_bgr_blue??"0")),S=Number(C(m?.color3_bgr_green??"0")),J=Number(C(m?.color3_bgr_red??"0")),w={name:o.color3,blue:b,green:S,red:J};return u(f,w,l[0].length)}if(m=l[0].match(Wf)?.groups,m!=null){const b=Number(C(m?.color4_bgr_blue??"0")),S=Number(C(m?.color4_bgr_green??"0")),J=Number(C(m?.color4_bgr_red??"0")),w={name:o.color4,blue:b,green:S,red:J};return u(f,w,l[0].length)}if(m=l[0].match(Af)?.groups,m!=null){const b=m.alpha1_value??"",S={name:o.alpha1,value:b};return u(f,S,l[0].length)}if(m=l[0].match(Jf)?.groups,m!=null){const b=m.alpha2_value??"",S={name:o.alpha2,value:b};return u(f,S,l[0].length)}if(m=l[0].match(Mf)?.groups,m!=null){const b=m.alpha3_value??"",S={name:o.alpha3,value:b};return u(f,S,l[0].length)}if(m=l[0].match(Cf)?.groups,m!=null){const b=m.alpha4_value??"",S={name:o.alpha4,value:b};return u(f,S,l[0].length)}if(m=l[0].match(Lf)?.groups,m!=null){const b=Number(m?.k_lower_case_value??"0"),S={name:o.kLowerCase,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Rf)?.groups,m!=null){const b=Number(m?.k_upper_case_value??"0"),S={name:o.kUpperCase,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Ef)?.groups,m!=null){const b=Number(m?.q_value??"0"),S={name:o.q,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(If)?.groups,m!=null){const b=Number(m?.s_value??"0"),S={name:o.s,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(Pf)?.groups,m!=null){const b=Number(m?.u_value??"0"),S={name:o.u,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(yf)?.groups,m!=null){const b=m?.r_value??"",S={name:o.r,style:b};return u(f,S,l[0].length)}if(m=l[0].match(tt)?.groups,m!=null){const b=Number(m?.p_value??"0"),S={name:o.p,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(xt)?.groups,m!=null){const b=Number(m?.i_value??"0"),S={name:o.i,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(_f)?.groups,m!=null){const b=Number(C(m?.color_bgr_blue??"0")),S=Number(C(m?.color_bgr_green??"0")),J=Number(C(m?.color_bgr_red??"0")),w={name:o.color,blue:b,green:S,red:J};return u(f,w,l[0].length)}if(m=l[0].match(bt)?.groups,m!=null){const b=Number(m?.b_value??"0"),S={name:o.b,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}if(m=l[0].match(cf)?.groups,m!=null){const b=Number(m?.a_value??"0"),S={name:o.a,value:Number.isNaN(b)?0:b};return u(f,S,l[0].length)}const c=l[0],v={name:o.unknown,value:c};return u(f,v,l[0].length)}var wl=function(n,f,t,r){if(t.startsWith(o.t)){const g=r[0].match(sn)?.groups,l=g?.tags??"",u=[];Fn(l,u);const m=g?.arg1?Number(g.arg1):null,c=g?.arg2?Number(g.arg2):null,v=g?.arg3?Number(g.arg3):null,b={name:o.t,accel:null,t1:null,t2:null,tags:u};if(m!==null&&c!==null&&v!==null)b.t1=m,b.t2=c,b.accel=v;else if(m!==null&&c!==null&&v===null)b.t1=m,b.t2=c,b.accel=null;else if(m!==null)b.accel=m;f.push(b)}if(n=n.substring(r[0].length),n.length>0)Fn(n,f);return f};function qu(n){const f=[],t=n.matchAll(uf);for(let r of t){if(r.groups?.fx){const g=r.groups.fx.substring(1,r.groups.fx.length-1),l=[];Fn(g,l),f.push({name:"effect",tags:l});continue}if(r.groups?.txt){f.push({name:"text",value:r.groups?.txt});continue}}return f}function kg(n){let f="";for(let t of n.tags)switch(t.name){case o.t:{const r={name:"effect",tags:t.tags},g=kg(r);if(t.t1!==null&&t.t2!==null&&t.accel!==null)f+=`\\t(${t.t1},${t.t2},${t.accel},${g})`;else if(t.t1!==null&&t.t2!==null&&t.accel===null)f+=`\\t(${t.t1},${t.t2},${g})`;else if(t.accel!==null)f+=`\\t(${t.accel},${g})`;else f+=`\\t(${g})`;break}case o.pos:case o.org:f+=`\\${t.name}(${t.x},${t.y})`;break;case o.move:if(f+=`\\move(${t.x1},${t.y1},${t.x2},${t.y2}`,t.t1!=null&&t.t2!=null)f+=`,${t.t1},${t.t2}`;f+=")";break;case o.clip:case o.iclip:f+=`\\${t.name}(${t.drawCommands})`;break;case o.fad:f+=`\\fad(${t.in},${t.out})`;break;case o.fade:f+=`\\fade(${t.alpha1},${t.alpha2},${t.alpha3},${t.t1},${t.t2},${t.t3},${t.t4})`;break;case o.fe:f+=`\\fe${t.encodingId}`;break;case o.fn:f+=`\\fn${t.font}`;break;case o.r:f+=`\\r${t.style}`;break;case o.color:case o.color1:case o.color2:case o.color3:case o.color4:{const r=Ln(t.blue),g=Ln(t.green),l=Ln(t.red);f+=`\\${t.name}&H${r}${g}${l}&`;break}case o.text:case o.unknown:f+=t.value;break;default:f+=`\\${t.name}${t.value}`;break}return f}function xg(n){let f="";for(let t of n){if(t.name=="text"){f+=t.value;continue}f+="{"+kg(t)+"}"}return f}function Au(n){const f=[];for(let t=0;t<n.length;t++){const r=n[t];if(r.name!="effect")continue;const g=n[t+1];if(g.name!="effect"){t++;continue}if(g==null)break;r.tags.push(...g.tags),f.push(t+1)}for(let t of f)n.splice(t,1)}function Hu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.a,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Ju(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.b,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function wu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.color,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Mu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.color1,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function zu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.color2,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Cu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.color3,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Fu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.color4,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Lu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.alpha,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function ju(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.alpha1,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Ru(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.alpha2,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Ou(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.alpha3,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Uu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.alpha4,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Du(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.an,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Vu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.be,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Ku(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.blur,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Eu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.bord,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function xu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.xbord,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Iu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.ybord,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function ku(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.shad,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Pu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.xshad,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function iu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.yshad,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function pu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fr,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function yu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.frx,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function su(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fry,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Zu(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.frz,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function du(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fax,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function nb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fay,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function fb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.p,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function tb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.pbo,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function gb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.q,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function rb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.s,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function lb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.u,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function mb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.r,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function ub(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fe,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function bb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fn,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function ob(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fscx,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function ab(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fscy,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function cb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fsp,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Sb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.kLowerCase,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function $b(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.kUpperCase,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function vb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.ko,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function eb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.kf,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Gb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.i,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function hb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fs,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Nb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.pos,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function _b(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.org,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Tb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fad,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Xb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.fade,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Yb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.clip,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Wb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.iclip,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Bb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.move,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function Qb(n){const f=n.find((g)=>g.name=="effect");if(f?.name!="effect")return null;const t=o.t,r=f.tags.find((g)=>g.name==t);if(r?.name!=t)return null;return r}function qb(n,f){const t={name:o.a,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Ab(n,f){const t={name:o.an,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Hb(n,f){const t={name:o.b,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Jb(n,f,t,r){const g={name:o.color,blue:f,green:t,red:r},[l,u]=X(n,g.name,g);if(!l)u.blue=f,u.green=t,u.red=r;return u}function wb(n,f,t,r){const g={name:o.color1,blue:f,green:t,red:r},[l,u]=X(n,g.name,g);if(!l)u.blue=f,u.green=t,u.red=r;return u}function Mb(n,f,t,r){const g={name:o.color2,blue:f,green:t,red:r},[l,u]=X(n,g.name,g);if(!l)u.blue=f,u.green=t,u.red=r;return u}function zb(n,f,t,r){const g={name:o.color3,blue:f,green:t,red:r},[l,u]=X(n,g.name,g);if(!l)u.blue=f,u.green=t,u.red=r;return u}function Cb(n,f,t,r){const g={name:o.color4,blue:f,green:t,red:r},[l,u]=X(n,g.name,g);if(!l)u.blue=f,u.green=t,u.red=r;return u}function Fb(n,f){const t={name:o.alpha,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Lb(n,f){const t={name:o.alpha1,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function jb(n,f){const t={name:o.alpha2,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Rb(n,f){const t={name:o.alpha3,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Ob(n,f){const t={name:o.alpha4,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Ub(n,f){const t={name:o.blur,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Db(n,f){const t={name:o.bord,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Vb(n,f){const t={name:o.xbord,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Kb(n,f){const t={name:o.ybord,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Eb(n,f){const t={name:o.fax,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function xb(n,f){const t={name:o.fay,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Ib(n,f){const t={name:o.fscx,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function kb(n,f){const t={name:o.fscy,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Pb(n,f){const t={name:o.fsp,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function ib(n,f){const t={name:o.fe,encodingId:f},[r,g]=X(n,t.name,t);if(!r)g.encodingId=f;return g}function pb(n,f){const t={name:o.fn,font:f},[r,g]=X(n,t.name,t);if(!r)g.font=f;return g}function yb(n,f){const t={name:o.kLowerCase,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function sb(n,f){const t={name:o.kUpperCase,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function Zb(n,f){const t={name:o.kf,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function db(n,f){const t={name:o.ko,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function n0(n,f){const t={name:o.p,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function f0(n,f){const t={name:o.pbo,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function t0(n,f){const t={name:o.q,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function g0(n,f){const t={name:o.s,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function r0(n,f){const t={name:o.shad,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function l0(n,f){const t={name:o.xshad,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function m0(n,f){const t={name:o.yshad,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function u0(n,f){const t={name:o.u,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function b0(n,f){const t={name:o.be,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function o0(n,f){const t={name:o.fs,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function a0(n,f){const t={name:o.fr,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function c0(n,f){const t={name:o.frx,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function S0(n,f){const t={name:o.fry,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function $0(n,f){const t={name:o.frz,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function v0(n,f){const t={name:o.i,value:f},[r,g]=X(n,t.name,t);if(!r)g.value=f;return g}function e0(n,f){const t={name:o.r,style:f},[r,g]=X(n,t.name,t);if(!r)g.style=f;return g}function G0(n,f,t){const r={name:o.pos,x:f,y:t},[g,l]=X(n,r.name,r);if(!g)l.x=f,l.y=t;return l}function h0(n,f,t){const r={name:o.org,x:f,y:t},[g,l]=X(n,r.name,r);if(!g)l.x=f,l.y=t;return l}function N0(n,f,t){const r={name:o.fad,in:f,out:t},[g,l]=X(n,r.name,r);if(!g)l.in=f,l.out=t;return l}function _0(n,f,t,r,g,l,u,m){const c={name:o.fade,alpha1:f,alpha2:t,alpha3:r,t1:g,t2:l,t3:u,t4:m},[v,b]=X(n,c.name,c);if(!v)b.alpha1=f,b.alpha2=t,b.alpha3=r,b.t1=g,b.t2=l,b.t3=u,b.t4=m;return b}function T0(n,f){const t={name:o.clip,drawCommands:f},[r,g]=X(n,t.name,t);if(!r)g.drawCommands=f;return g}function X0(n,f){const t={name:o.iclip,drawCommands:f},[r,g]=X(n,t.name,t);if(!r)g.drawCommands=f;return g}function Y0(n,f,t,r,g,l=null,u=null){const m={name:o.move,x1:f,y1:t,x2:r,y2:g,t1:l,t2:u},[c,v]=X(n,m.name,m);if(!c)v.x1=f,v.y1=t,v.x2=r,v.y2=g,v.t1=l,v.t2=u;return v}function W0(n,f,t=null,r=null,g=null){const l={name:o.t,t1:r,t2:g,accel:t,tags:f},[u,m]=X(n,l.name,l);if(!u)m.t1=r,m.t2=g,m.accel=t,m.tags=f;return m}function B0(n){return[{name:"effect",tags:n}]}function Q0(n){const f=n.find((t)=>t.name==="effect");if(f==null||f.name!="effect")return[];return f.tags}var X=function(n,f,t){const r=n.find((l)=>l.name=="effect");if(r?.name!="effect")return n.unshift({name:"effect",tags:[t]}),[!0,t];const g=r.tags.find((l)=>l.name==f);if(g?.name!=f)return r.tags.push(t),[!0,t];return[!1,g]};function q0(n,f){const t=n.find((g)=>g.name=="effect");if(t?.name!="effect")return;const r=t.tags.findIndex((g)=>g.name===f);if(r<0)return;t.tags.splice(r,1)}function Eg(n){const f=n.match(of);if(f==null)return null;const t=f.groups,r=Zn(t?.start??"");if(r==null)return null;const g=Zn(t?.end??"");if(g==null)return null;return{type:t?.type??"",layer:Number(t?.layer??"0"),start:r,end:g,style:t?.style??"",actor:t?.actor??"",marginLeft:Number(t?.marginLeft??"0"),marginRight:Number(t?.marginRight??"0"),marginVertical:Number(t?.marginVertical??"0"),effect:t?.effect??"",content:t?.content??""}}function qg(n){let f=n.type;return f+=": ",f+=n.layer,f+=",",f+=nf(n.start),f+=",",f+=nf(n.end),f+=",",f+=n.style,f+=",",f+=n.actor,f+=",",f+=n.marginLeft,f+=",",f+=n.marginRight,f+=",",f+=n.marginVertical,f+=",",f+=n.effect,f+=",",f+=n.content,f}function Ig(n){return tn(n.end)-tn(n.start)}function A0(n){const f=n.match(Nf);if(f==null)return null;const t=f.groups;return{blue:C(t?.color_bgr_blue??""),green:C(t?.color_bgr_green??""),red:C(t?.color_bgr_red??"")}}function H0(){return{type:"Dialogue",layer:0,start:{hours:0,minutes:0,seconds:0},end:{hours:0,minutes:0,seconds:5},style:"Default",actor:"",marginLeft:0,marginRight:0,marginVertical:0,effect:"",content:""}}var o;(function($){$["a"]="a";$["alpha"]="alpha";$["alpha1"]="1a";$["alpha2"]="2a";$["alpha3"]="3a";$["alpha4"]="4a";$["an"]="an";$["b"]="b";$["be"]="be";$["blur"]="blur";$["bord"]="bord";$["clip"]="clip";$["color"]="c";$["color1"]="1c";$["color2"]="2c";$["color3"]="3c";$["color4"]="4c";$["fad"]="fad";$["fade"]="fade";$["fax"]="fax";$["fay"]="fay";$["fe"]="fe";$["fn"]="fn";$["fr"]="fr";$["frx"]="frx";$["fry"]="fry";$["frz"]="frz";$["fs"]="fs";$["fscx"]="fscx";$["fscy"]="fscy";$["fsp"]="fsp";$["i"]="i";$["iclip"]="iclip";$["kLowerCase"]="k";$["kUpperCase"]="K";$["kf"]="kf";$["ko"]="ko";$["move"]="move";$["org"]="org";$["p"]="p";$["pbo"]="pbo";$["pos"]="pos";$["q"]="q";$["r"]="r";$["s"]="s";$["shad"]="shad";$["t"]="t";$["text"]="text";$["u"]="u";$["unknown"]="unknown";$["xbord"]="xbord";$["xshad"]="xshad";$["ybord"]="ybord";$["yshad"]="yshad"})(o||(o={}));export{zl as truncate,nf as timeToString,tn as timeToSeconds,B0 as tagsToItems,il as sumTimes,pl as subtractTimes,Ug as styleToString,Xu as splitSyllabes,m0 as setYshad,Kb as setYbord,l0 as setXshad,Vb as setXbord,u0 as setU,W0 as setT,r0 as setShad,g0 as setS,e0 as setR,t0 as setQ,G0 as setPos,f0 as setPbo,n0 as setP,h0 as setOrg,Y0 as setMove,db as setKo,Zb as setKf,sb as setKUpperCase,yb as setKLowerCase,X0 as setIclip,v0 as setI,Pb as setFsp,kb as setFscy,Ib as setFscx,o0 as setFs,$0 as setFrz,S0 as setFry,c0 as setFrx,a0 as setFr,pb as setFn,ib as setFe,xb as setFay,Eb as setFax,_0 as setFade,N0 as setFad,Cb as setColor4,zb as setColor3,Mb as setColor2,wb as setColor1,Jb as setColor,T0 as setClip,Db as setBord,Ub as setBlur,b0 as setBe,Hb as setB,Ab as setAn,Ob as setAlpha4,Rb as setAlpha3,jb as setAlpha2,Lb as setAlpha1,Fb as setAlpha,qb as setA,Vg as sectionStylesToString,Og as sectionScriptInfoToString,jg as sectionProjectGarbageToString,Fg as sectionGraphicsToString,Mg as sectionFontsToString,Hg as sectionExtraDataToString,Qg as sectionEventsToString,og as secondsToTime,q0 as removeTag,Zn as parseTime,Fn as parseTags,Eg as parseLine,qu as parseContent,A0 as parseColorBGR,eu as parseASSFile,Ln as numberToHex,Dg as newSectionStyles,Cg as newSectionGraphics,wg as newSectionFonts,Ag as newSectionExtraData,Bg as newSectionEvents,Rg as newScriptInfo,Lg as newProjectGarbage,Au as mergeNeighboringEffects,qg as lineToString,Q0 as itemsToTags,Jl as isRomajiWord,Ml as interpolate,C as hexToNumber,pm as generateDefaultSectionStyles,H0 as generateDefaultLine,iu as findYshad,Iu as findYbord,Pu as findXshad,xu as findXbord,lb as findU,Qb as findT,ku as findShad,rb as findS,mb as findR,gb as findQ,Nb as findPos,tb as findPbo,fb as findP,_b as findOrg,Bb as findMove,vb as findKo,eb as findKf,$b as findKUpperCase,Sb as findKLowerCase,Wb as findIclip,Gb as findI,cb as findFsp,ab as findFscy,ob as findFscx,hb as findFs,Zu as findFrz,su as findFry,yu as findFrx,pu as findFr,bb as findFn,ub as findFe,nb as findFay,du as findFax,Xb as findFade,Tb as findFad,Fu as findColor4,Cu as findColor3,zu as findColor2,Mu as findColor1,wu as findColor,Yb as findClip,Eu as findBord,Ku as findBlur,Vu as findBe,Ju as findB,Du as findAn,Uu as findAlpha4,Ou as findAlpha3,Ru as findAlpha2,ju as findAlpha1,Lu as findAlpha,Hu as findA,xg as contentsToString,kg as contentEffectToString,Ig as calculateLineDurationInSeconds,dn as adjustTimeOverplus,o as TagName,Lm as ScriptInfoPropertyYCbCrMatrix,Mm as ScriptInfoPropertyWrapStyle,Km as ScriptInfoPropertyUpdateDetails,Jm as ScriptInfoPropertyTitle,Dm as ScriptInfoPropertySynchPoint,Vm as ScriptInfoPropertyScriptUpdatedBy,wm as ScriptInfoPropertyScriptType,Fm as ScriptInfoPropertyScaledBorderAndShadow,Cm as ScriptInfoPropertyPlayResY,zm as ScriptInfoPropertyPlayResX,Rm as ScriptInfoPropertyOriginalTranslation,Um as ScriptInfoPropertyOriginalTiming,jm as ScriptInfoPropertyOriginalScript,Om as ScriptInfoPropertyOriginalEditing,Bm as ProjectGarbagePropertyVideoZoomPercent,Am as ProjectGarbagePropertyVideoPosition,_m as ProjectGarbagePropertyVideoFile,Wm as ProjectGarbagePropertyVideoARValue,Ym as ProjectGarbagePropertyVideoARMode,Tm as ProjectGarbagePropertyTimecodesFile,Qm as ProjectGarbagePropertyScrollPosition,hm as ProjectGarbagePropertyLastStyleStorage,Xm as ProjectGarbagePropertyKeyframesFile,em as ProjectGarbagePropertyExportFilters,Gm as ProjectGarbagePropertyExportEncoding,vm as ProjectGarbagePropertyAutomationScripts,Nm as ProjectGarbagePropertyAudioFile,qm as ProjectGarbagePropertyActiveLine,Cn as Encodings,Wg as Encoding,zg as AttachedGraphicToString,Jg as AttachedFontToString,zn as Alignments,Yg as Alignment,vu as ASSFileToString};

//# debugId=1CAD3C00CD95C0BF64756e2164756e21
